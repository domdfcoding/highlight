[34mxquery[39;49;00m [34mversion[39;49;00m[37m [39;49;00m[33m"3.0"[39;49;00m;[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mnamespace[39;49;00m[37m [39;49;00m[04m[36mother[39;49;00m[37m [39;49;00m=[37m [39;49;00m[33m"http://other"[39;49;00m;[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mvariable[39;49;00m [31m$[39;49;00mlocal:straight-var1[37m [39;49;00m:=[37m [39;49;00m[33m'one'[39;49;00m;[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [90m%[39;49;00m[90mprivate[39;49;00m [34mvariable[39;49;00m [31m$[39;49;00mlocal:private-var[37m [39;49;00m:=[37m [39;49;00m[33m'secret'[39;49;00m;[37m[39;49;00m$
[34mdeclare[39;49;00m [90m%[39;49;00m[90mpublic[39;49;00m [34mvariable[39;49;00m [31m$[39;49;00mlocal:public-var[37m [39;49;00m:=[37m [39;49;00m[33m'not-secret'[39;49;00m;[37m[39;49;00m$
[34mdeclare[39;49;00m [90m%[39;49;00m[90mother:annotation[39;49;00m([33m'param1'[39;49;00m, [33m"param2"[39;49;00m) [34mvariable[39;49;00m [31m$[39;49;00mlocal:some-var[37m [39;49;00m:=[37m [39;49;00m[33m'anything'[39;49;00m;[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mvariable[39;49;00m [31m$[39;49;00mlocal:straight-var2[37m [39;49;00m:=[37m [39;49;00m[33m'two'[39;49;00m;[37m[39;49;00m$
[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m Simple Map Operator example [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:word-count[39;49;00m([31m$[39;49;00melms[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[94melement[39;49;00m()*) [34mas[39;49;00m[37m [39;49;00m[36mxs:integer[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[32msum[39;49;00m([31m$[39;49;00melms[37m [39;49;00m![37m [39;49;00m[32mcount[39;49;00m([32mtokenize[39;49;00m(.,[37m [39;49;00m[33m'\s+'[39;49;00m)))[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:add[39;49;00m([31m$[39;49;00ma,[37m [39;49;00m[31m$[39;49;00mb)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00ma[37m [39;49;00m+[37m [39;49;00m[31m$[39;49;00mb[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:dispatch[39;49;00m([31m$[39;49;00mnode[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[94mnode[39;49;00m()) [34mas[39;49;00m[37m [39;49;00m[34mitem[39;49;00m()*[37m [39;49;00m{[37m[39;49;00m$
[37m    [39;49;00m[34mtypeswitch[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94mtext[39;49;00m()[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[31m$[39;49;00mnode[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94mcomment[39;49;00m()[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[31m$[39;49;00mnode[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94melement[39;49;00m(bill)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:bill[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94melement[39;49;00m(btitle)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:btitle[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94melement[39;49;00m(section-id)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:section-id[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94melement[39;49;00m(bill-text)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:bill-text[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[94melement[39;49;00m(strike)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:strike[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
[37m        [39;49;00m[34mdefault[39;49;00m[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[32mlocal:passthru[39;49;00m([31m$[39;49;00mnode)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m `switch` expression example [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:noise[39;49;00m([31m$[39;49;00manimal)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mduck[37m [39;49;00m:=[37m [39;49;00m[33m"Duck"[39;49;00m,[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00mquack[37m [39;49;00m:=[37m [39;49;00m[33m"Quack"[39;49;00m[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[34mswitch[39;49;00m ([31m$[39;49;00manimal)[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mcase[39;49;00m [33m"Cow"[39;49;00m[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m"Moo"[39;49;00m[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mcase[39;49;00m [33m'Cat'[39;49;00m[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m'Meow'[39;49;00m[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31m$[39;49;00mduck[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[31m$[39;49;00mquack[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mdefault[39;49;00m[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m"What's that odd noise?"[39;49;00m[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m `group by` expression with binding example [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:a-to-z[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mdata[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[94melement[39;49;00m()*[37m [39;49;00m:=[37m [39;49;00m([37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mitem[39;49;00m[94m>[39;49;00mApples[94m</[39;49;00m[94mitem[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mitem[39;49;00m[94m>[39;49;00mBananas[94m</[39;49;00m[94mitem[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mitem[39;49;00m[94m>[39;49;00mApricots[94m</[39;49;00m[94mitem[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mitem[39;49;00m[94m>[39;49;00mPears[94m</[39;49;00m[94mitem[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mitem[39;49;00m[94m>[39;49;00mBrambles[94m</[39;49;00m[94mitem[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m^I[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mGroupedItems[39;49;00m[94m>[39;49;00m{[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mfor[39;49;00m [31m$[39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[31m$[39;49;00mdata[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mgroup by[39;49;00m[37m [39;49;00m[31m$[39;49;00mkey[37m [39;49;00m:=[37m [39;49;00m[32mupper-case[39;49;00m([32msubstring[39;49;00m([31m$[39;49;00mitem,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[34m1[39;49;00m))[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34morder by[39;49;00m[37m [39;49;00m[31m$[39;49;00mkey[37m[39;49;00m$
[37m^I^I^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I^I^I[39;49;00m[94m<[39;49;00m[94mGroup[39;49;00m[37m [39;49;00m[94mkey[39;49;00m="{[31m$[39;49;00mkey}"[94m>[39;49;00m{[31m$[39;49;00mitem}[94m</[39;49;00m[94mGroup[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m}[94m</[39;49;00m[94mGroupedItems[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m `group by` expression example [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:plays-by-character[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mplays[37m [39;49;00m:=[37m [39;49;00m([37m[39;49;00m$
[37m^I^I[39;49;00m[34mdocument[39;49;00m {[37m[39;49;00m$
[37m^I^I^I[39;49;00m[94m<[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m$
^I^I^I^I[94m<[39;49;00m[94mtitle[39;49;00m[94m>[39;49;00mHamlet[94m</[39;49;00m[94mtitle[39;49;00m[94m>[39;49;00m$
^I^I^I^I[94m<[39;49;00m[94mcharacters[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mHamlet[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m       $
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mClaudius[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mPolonius[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mRosencrantz[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mGuildenstern[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mFrancisco[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mReynaldo[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m     $
^I^I^I^I[94m</[39;49;00m[94mcharacters[39;49;00m[94m>[39;49;00m$
^I^I^I[94m</[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m},[37m[39;49;00m$
[37m^I^I[39;49;00m[34mdocument[39;49;00m {[37m[39;49;00m$
[37m^I^I^I[39;49;00m[94m<[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m$
^I^I^I^I[94m<[39;49;00m[94mtitle[39;49;00m[94m>[39;49;00mRosenkrantz and Guildenstern are Dead[94m</[39;49;00m[94mtitle[39;49;00m[94m>[39;49;00m$
^I^I^I^I[94m<[39;49;00m[94mcharacters[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mAlfred[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mRosencrantz[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mGuildenstern[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mHamlet[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I^I[94m<[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00mClaudius[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m$
^I^I^I^I[94m</[39;49;00m[94mcharacters[39;49;00m[94m>[39;49;00m$
^I^I^I[94m</[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m}[37m[39;49;00m$
[37m^I[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m^I^I[39;49;00m[34mfor[39;49;00m [31m$[39;49;00mplay[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[31m$[39;49;00mplays/[94mplay[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mtitle[37m [39;49;00m:=[37m [39;49;00m[31m$[39;49;00mplay/[94mtitle[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[34mfor[39;49;00m [31m$[39;49;00mcharacter[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[31m$[39;49;00mplay/[94mcharacters[39;49;00m/[94mcharacter[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[34mgroup by[39;49;00m[37m [39;49;00m[31m$[39;49;00mcharacter[37m[39;49;00m$
[37m^I^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I^I[39;49;00m[94m<[39;49;00m[94mcharacter[39;49;00m[37m [39;49;00m[94mname[39;49;00m="{[31m$[39;49;00mcharacter}"[94m>[39;49;00m$
^I^I^I{[37m[39;49;00m$
[37m^I^I^I^I[39;49;00m[31m$[39;49;00mtitle[37m [39;49;00m![37m [39;49;00m[94m<[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m{[37m [39;49;00m.[37m [39;49;00m}[94m</[39;49;00m[94mplay[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m     ^I^I[39;49;00m}$
^I^I^I[94m</[39;49;00m[94mcharacter[39;49;00m[94m>[39;49;00m[37m^I[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m$
^I[90m%[39;49;00m[90mother:a[39;49;00m$
^I[90m%[39;49;00m[90mprivate[39;49;00m$
^I[90m%[39;49;00m[90mother:b[39;49;00m([33m'1'[39;49;00m)$
^I[90m%[39;49;00m[90mother:c[39;49;00m([33m"1"[39;49;00m, [33m"2"[39;49;00m, [33m"3"[39;49;00m, [33m"4"[39;49;00m)$
[34mfunction[39;49;00m [32mlocal:very-annotated[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mthing[37m [39;49;00m:=[37m [39;49;00m[33m"thing"[39;49;00m[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[31m$[39;49;00mthing[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [90m%[39;49;00m[90mpublic[39;49;00m [34mfunction[39;49;00m [32mlocal:slightly-annotated[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mnothing[37m [39;49;00m:=[37m [39;49;00m()[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[31m$[39;49;00mnothing[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:ordered[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mfor[39;49;00m [31m$[39;49;00mhit[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[32mdoc[39;49;00m([33m"/db/doc-with-indexes.xml"[39;49;00m)//[94mtei:p[39;49;00m[[32mother:query[39;49;00m(.,[37m [39;49;00m[31m$[39;49;00msearch-expression)][37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mscore[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:float[39;49;00m[37m [39;49;00m:=[37m [39;49;00m[32mother:score[39;49;00m([31m$[39;49;00mhit)[37m[39;49;00m$
[37m^I[39;49;00m[34morder by[39;49;00m[37m [39;49;00m[31m$[39;49;00mscore[37m [39;49;00m[34mdescending[39;49;00m[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00m([37m[39;49;00m$
[37m^I^I[39;49;00m[94m<[39;49;00m[94mp[39;49;00m[94m>[39;49;00mScore: {[31m$[39;49;00mscore}:[94m</[39;49;00m[94mp[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m^I^I[39;49;00m[32mother:summarize[39;49;00m([31m$[39;49;00mhit,[37m [39;49;00m[94m<[39;49;00m[94mconfig[39;49;00m[37m [39;49;00m[94mwidth[39;49;00m="[36m4[39;49;00m[36m0[39;49;00m"[94m/>[39;49;00m)[37m[39;49;00m$
[37m^I[39;49;00m)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:concat-expr[39;49;00m([31m$[39;49;00mpostfix)[37m [39;49;00m{[37m[39;49;00m$
[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00mconcatenated[37m [39;49;00m:=[37m [39;49;00m[32mother:uri[39;49;00m()[37m [39;49;00m||[37m [39;49;00m[33m"/"[39;49;00m[37m [39;49;00m||[37m [39;49;00m[31m$[39;49;00mpostfix[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[31m$[39;49;00mconcatenated[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:human-units[39;49;00m([31m$[39;49;00mbytes)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[34mlet[39;49;00m [31m$[39;49;00munit[37m [39;49;00m:=[37m [39;49;00m[34mif[39;49;00m([31m$[39;49;00mbytes[37m [39;49;00m>[37m [39;49;00m[32mmath:pow[39;49;00m([34m1024[39;49;00m,[37m [39;49;00m[34m3[39;49;00m))[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m([32mmath:pow[39;49;00m([34m1024[39;49;00m,[37m [39;49;00m[34m3[39;49;00m),[37m [39;49;00m[33m"GB"[39;49;00m)[37m[39;49;00m$
[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mif[39;49;00m([31m$[39;49;00mbytes[37m [39;49;00m>[37m [39;49;00m[32mmath:pow[39;49;00m([34m1024[39;49;00m,[37m [39;49;00m[34m2[39;49;00m))[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m([32mmath:pow[39;49;00m([34m1024[39;49;00m,[37m [39;49;00m[34m2[39;49;00m),[37m [39;49;00m[33m"MB"[39;49;00m)[37m[39;49;00m$
[37m^I[39;49;00m[34melse[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m([34m1024[39;49;00m,[37m [39;49;00m[33m"KB"[39;49;00m)[37m[39;49;00m$
[37m^I[39;49;00m[34mreturn[39;49;00m[37m[39;49;00m$
[37m^I^I[39;49;00m[32mformat-number[39;49;00m([31m$[39;49;00mbytes[37m [39;49;00m[34mdiv[39;49;00m[37m [39;49;00m[31m$[39;49;00munit[[34m1[39;49;00m],[37m [39;49;00m[33m".00"[39;49;00m)[37m [39;49;00m||[37m [39;49;00m[33m" "[39;49;00m[37m [39;49;00m||[37m [39;49;00m[31m$[39;49;00munit[[34m2[39;49;00m][37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:merge-simple[39;49;00m([31m$[39;49;00ma[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+,[37m [39;49;00m[31m$[39;49;00mb[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+) [34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m([31m$[39;49;00ma,[37m [39;49;00m[31m$[39;49;00mb)[37m^I[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m higher order function example 1 [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:apply[39;49;00m([31m$[39;49;00mfunc,[37m [39;49;00m[31m$[39;49;00mvalue)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00mfunc([31m$[39;49;00mvalue)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m higher order function example 2 [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:apply-all[39;49;00m([31m$[39;49;00mfunc,[37m [39;49;00m[31m$[39;49;00mlist)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00mlist[37m [39;49;00m![37m [39;49;00m[31m$[39;49;00mfunc(.)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m higher order function example 3 [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:apply-all-long[39;49;00m([31m$[39;49;00mfunc[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mfunction[39;49;00m([36mxs:string[39;49;00m) [34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m,[37m [39;49;00m[31m$[39;49;00mlist)[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00mlist[37m [39;49;00m![37m [39;49;00m[31m$[39;49;00mfunc(.)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[37m(:[39;49;00m[37m higher order function example 4 [39;49;00m[37m:)[39;49;00m[37m[39;49;00m$
[34mdeclare[39;49;00m [34mfunction[39;49;00m[37m [39;49;00m[32mlocal:merge[39;49;00m([31m$[39;49;00mfunc[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mfunction[39;49;00m([36mxs:string[39;49;00m+,[37m [39;49;00m[94mxs:string[39;49;00m+)[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+,[37m [39;49;00m[31m$[39;49;00ma[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+,[37m [39;49;00m[31m$[39;49;00mb[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+) [34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m+[37m [39;49;00m{[37m[39;49;00m$
[37m^I[39;49;00m[31m$[39;49;00mfunc([31m$[39;49;00ma,[37m [39;49;00m[31m$[39;49;00mb)[37m[39;49;00m$
};[37m[39;49;00m$
[37m[39;49;00m$
[34mlet[39;49;00m [31m$[39;49;00mto-upper[37m [39;49;00m:=[37m [39;49;00m[32mupper-case[39;49;00m[36m#[39;49;00m[34m1[39;49;00m[37m[39;49;00m$
[34mlet[39;49;00m [31m$[39;49;00mto-upper-long[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m[36mfunction[39;49;00m([36mxs:string[39;49;00m) [34mas[39;49;00m[37m [39;49;00m[36mxs:string[39;49;00m[37m [39;49;00m:=[37m [39;49;00m[32mupper-case[39;49;00m[36m#[39;49;00m[34m1[39;49;00m[37m[39;49;00m$
[34mreturn[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m[94m<[39;49;00m[94mcase[39;49;00m[94m>[39;49;00m$
    {[37m[39;49;00m$
[37m        [39;49;00m[32mlocal:apply-all[39;49;00m([31m$[39;49;00mto-upper,[37m [39;49;00m([33m"Hello"[39;49;00m,[37m [39;49;00m[33m"world!"[39;49;00m))[37m [39;49;00m![37m [39;49;00m[94m<[39;49;00m[94mupper[39;49;00m[94m>[39;49;00m{.}[94m</[39;49;00m[94mupper[39;49;00m[94m>[39;49;00m,[37m[39;49;00m$
[37m        [39;49;00m[32mlocal:apply-all-long[39;49;00m([32mlower-case[39;49;00m[36m#[39;49;00m[34m1[39;49;00m,[37m [39;49;00m([33m"Hello"[39;49;00m,[37m [39;49;00m[33m"world!"[39;49;00m))[37m [39;49;00m![37m [39;49;00m[94m<[39;49;00m[94mlower[39;49;00m[94m>[39;49;00m{.}[94m</[39;49;00m[94mlower[39;49;00m[94m>[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m}$
    [94m</[39;49;00m[94mcase[39;49;00m[94m>[39;49;00m$
