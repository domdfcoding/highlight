     1^I[32m//[39;49;00m[37m [39;49;00m[32mpublic[39;49;00m[37m [39;49;00m[32mdomain[39;49;00m[37m[39;49;00m$
     2^I[37m[39;49;00m$
     3^I[32mmodule[39;49;00m[37m [39;49;00m[32mDeflate[39;49;00m[37m[39;49;00m$
     4^I[37m[39;49;00m$
     5^I[32mopen[39;49;00m[37m [39;49;00m[32mSystem[39;49;00m[37m[39;49;00m$
     6^I[32mopen[39;49;00m[37m [39;49;00m[32mSystem.Collections.Generic[39;49;00m[37m[39;49;00m$
     7^I[32mopen[39;49;00m[37m [39;49;00m[32mSystem.IO[39;49;00m[37m[39;49;00m$
     8^I[32mopen[39;49;00m[37m [39;49;00m[32mSystem.Linq[39;49;00m[37m[39;49;00m$
     9^I[32mopen[39;49;00m[37m [39;49;00m[32mCrc[39;49;00m[37m[39;49;00m$
    10^I[37m[39;49;00m$
    11^I[32mlet[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m32768[39;49;00m[37m[39;49;00m$
    12^I[32mlet[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m258[39;49;00m[37m[39;49;00m$
    13^I[37m[39;49;00m$
    14^I[32mlet[39;49;00m[37m [39;49;00m[32mgetBit[39;49;00m[37m [39;49;00m[32m(b:byte)[39;49;00m[37m [39;49;00m[32m(bit:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    15^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[32m(1uy[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mbit)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
    16^I[37m[39;49;00m$
    17^I[34mtype[39;49;00m[37m [39;49;00m[32mBitReader(sin:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    18^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m[39;49;00m$
    19^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m[39;49;00m$
    20^I[37m    [39;49;00m$
    21^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Skip()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    22^I[37m        [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m[39;49;00m$
    23^I[37m    [39;49;00m$
    24^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.ReadBit()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    25^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    26^I[37m            [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
    27^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32msin.ReadByte()[39;49;00m[37m[39;49;00m$
    28^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m-1[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    29^I[37m                [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m"バッファを超過しました"[39;49;00m[37m[39;49;00m$
    30^I[37m            [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mbyte[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m[39;49;00m$
    31^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[32m(1uy[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mbit)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
    32^I[37m        [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
    33^I[37m        [39;49;00m[32mret[39;49;00m[37m[39;49;00m$
    34^I[37m    [39;49;00m$
    35^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.ReadLE[39;49;00m[37m [39;49;00m[32mn[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    36^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
    37^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mn[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
    38^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mx.ReadBit()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32m(1[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mi)[39;49;00m[37m[39;49;00m$
    39^I[37m        [39;49;00m[32mret[39;49;00m[37m[39;49;00m$
    40^I[37m    [39;49;00m$
    41^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.ReadBE[39;49;00m[37m [39;49;00m[32mn[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    42^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
    43^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mn[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
    44^I[37m            [39;49;00m[32mret[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32m(ret[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32mx.ReadBit()[39;49;00m[37m[39;49;00m$
    45^I[37m        [39;49;00m[32mret[39;49;00m[37m[39;49;00m$
    46^I[37m    [39;49;00m$
    47^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.ReadBytes[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    48^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m[39;49;00m$
    49^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<byte>[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
    50^I[37m        [39;49;00m[32mignore[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msin.Read(buf,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
    51^I[37m        [39;49;00m[32mbuf[39;49;00m[37m[39;49;00m$
    52^I[37m[39;49;00m$
    53^I[34mtype[39;49;00m[37m [39;49;00m[32mWriteBuffer(sout:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    54^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mprev:byte[][39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
    55^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<byte>[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
    56^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
    57^I[37m    [39;49;00m$
    58^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mnext[39;49;00m[37m [39;49;00m[32mnewbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    59^I[37m        [39;49;00m[32mprev[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m[39;49;00m$
    60^I[37m        [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mnewbuf[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<byte>[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
    61^I[37m        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
    62^I[37m    [39;49;00m$
    63^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Close()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    64^I[37m        [39;49;00m[32mnext[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
    65^I[37m        [39;49;00m[32mnext[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
    66^I[37m    [39;49;00m$
    67^I[37m    [39;49;00m[32minterface[39;49;00m[37m [39;49;00m[32mIDisposable[39;49;00m[37m [39;49;00m[32mwith[39;49;00m[37m[39;49;00m$
    68^I[37m        [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Dispose()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mx.Close()[39;49;00m[37m[39;49;00m$
    69^I[37m    [39;49;00m$
    70^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteByte[39;49;00m[37m [39;49;00m[32m(b:byte)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    71^I[37m        [39;49;00m[32mbuf.[p][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m[39;49;00m$
    72^I[37m        [39;49;00m[32msout.WriteByte[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m[39;49;00m$
    73^I[37m        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
    74^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mnext[39;49;00m[37m [39;49;00m[34mtrue[39;49;00m[37m[39;49;00m$
    75^I[37m[39;49;00m$
    76^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32m(src:byte[])[39;49;00m[37m [39;49;00m[32mstart[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    77^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
    78^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<=[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    79^I[37m            [39;49;00m[32mArray.Copy(src,[39;49;00m[37m [39;49;00m[32mstart,[39;49;00m[37m [39;49;00m[32mbuf,[39;49;00m[37m [39;49;00m[32mp,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
    80^I[37m            [39;49;00m[32msout.Write(src,[39;49;00m[37m [39;49;00m[32mstart,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
    81^I[37m            [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
    82^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mnext[39;49;00m[37m [39;49;00m[34mtrue[39;49;00m[37m[39;49;00m$
    83^I[37m        [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
    84^I[37m            [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32msrc[39;49;00m[37m [39;49;00m[32mstart[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m[39;49;00m$
    85^I[37m            [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32msrc[39;49;00m[37m [39;49;00m[32m(start[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m [39;49;00m[32m(len[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m[39;49;00m$
    86^I[37m    [39;49;00m$
    87^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Copy[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
    88^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    89^I[37m            [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"dist[39;49;00m[37m [39;49;00m[32mtoo[39;49;00m[37m [39;49;00m[32msmall:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m"[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m[39;49;00m$
    90^I[37m        [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    91^I[37m            [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"dist[39;49;00m[37m [39;49;00m[32mtoo[39;49;00m[37m [39;49;00m[32mbig:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
    92^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m[39;49;00m$
    93^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    94^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mprev[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    95^I[37m                [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"dist[39;49;00m[37m [39;49;00m[32mtoo[39;49;00m[37m [39;49;00m[32mbig:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
    96^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
    97^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m[39;49;00m$
    98^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<=[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
    99^I[37m                [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32mprev[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   100^I[37m            [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   101^I[37m                [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32mprev[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m[39;49;00m$
   102^I[37m                [39;49;00m[32mx.Copy[39;49;00m[37m [39;49;00m[32m(len[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m[39;49;00m$
   103^I[37m        [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   104^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m[39;49;00m$
   105^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<=[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   106^I[37m                [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   107^I[37m            [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   108^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   109^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[pp][39;49;00m[37m[39;49;00m$
   110^I[37m                    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   111^I[37m                        [39;49;00m[32mx.WriteByte[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m[39;49;00m$
   112^I[37m                [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   113^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mbuf'[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m[39;49;00m$
   114^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlen'[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   115^I[37m                    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen'[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   116^I[37m                        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen''[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(len',[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m[39;49;00m$
   117^I[37m                        [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32mbuf'[39;49;00m[37m [39;49;00m[32mpp[39;49;00m[37m [39;49;00m[32mlen''[39;49;00m[37m[39;49;00m$
   118^I[37m                        [39;49;00m[32mlen'[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen'[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mlen''[39;49;00m[37m[39;49;00m$
   119^I[37m[39;49;00m$
   120^I[34mtype[39;49;00m[37m [39;49;00m[32mHuffman(lens:int[])[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   121^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mvals[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m [39;49;00m[32mlens.Length[39;49;00m[37m[39;49;00m$
   122^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34mmin[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlens.Where(fun[39;49;00m[37m [39;49;00m[32mx[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mx[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32m).Min()[39;49;00m[37m[39;49;00m$
   123^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34mmax[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlens.Max()[39;49;00m[37m[39;49;00m$
   124^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m  [39;49;00m[32m(max[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   125^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mfirsts[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m  [39;49;00m[32m(max[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   126^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mnexts[39;49;00m[37m  [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m  [39;49;00m[32m(max[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   127^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mtables[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int[]>(max[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   128^I[37m    [39;49;00m$
   129^I[37m    [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   130^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32min[39;49;00m[37m [39;49;00m[32mlens[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   131^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mcounts.[len][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mcounts.[len][39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   132^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[34mmax[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   133^I[37m            [39;49;00m[32mfirsts.[i][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32m(firsts.[i[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mcounts.[i[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m])[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   134^I[37m        [39;49;00m[32mArray.Copy(firsts,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mnexts,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[34mmax[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   135^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mvals.Length[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   136^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlens.[i][39;49;00m[37m[39;49;00m$
   137^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   138^I[37m                [39;49;00m[32mvals.[i][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mnexts.[len][39;49;00m[37m[39;49;00m$
   139^I[37m                [39;49;00m[32mnexts.[len][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mnexts.[len][39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   140^I[37m        [39;49;00m$
   141^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mvals.Length[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   142^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlens.[i][39;49;00m[37m[39;49;00m$
   143^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   144^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mstart[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mfirsts.[len][39;49;00m[37m[39;49;00m$
   145^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mtables.[len][39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   146^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34mcount[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnexts.[len][39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mstart[39;49;00m[37m[39;49;00m$
   147^I[37m                    [39;49;00m[32mtables.[len][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m [39;49;00m[34mcount[39;49;00m[37m[39;49;00m$
   148^I[37m                [39;49;00m[32mtables.[len].[vals.[i][39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mstart][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   149^I[37m    [39;49;00m$
   150^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.GetValue[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   151^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mrec[39;49;00m[37m [39;49;00m[32mgetv[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   152^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34mmax[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m-1[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   153^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mnexts.[i][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   154^I[37m                    [39;49;00m[32mtables.[i].[h[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mfirsts.[i]][39;49;00m[37m[39;49;00m$
   155^I[37m                [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   156^I[37m                    [39;49;00m[32mgetv[39;49;00m[37m [39;49;00m[32m(i[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   157^I[37m        [39;49;00m[32mgetv[39;49;00m[37m [39;49;00m[34mmin[39;49;00m[37m[39;49;00m$
   158^I[37m    [39;49;00m$
   159^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Read(br:BitReader)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   160^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mrec[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   161^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mnexts.[i][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   162^I[37m                [39;49;00m[32mtables.[i].[h[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mfirsts.[i]][39;49;00m[37m[39;49;00m$
   163^I[37m            [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   164^I[37m                [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m((h[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32mbr.ReadBit())[39;49;00m[37m [39;49;00m[32m(i[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   165^I[37m        [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(br.ReadBE[39;49;00m[37m [39;49;00m[32mmin)[39;49;00m[37m [39;49;00m[34mmin[39;49;00m[37m[39;49;00m$
   166^I[37m[39;49;00m$
   167^I[34mtype[39;49;00m[37m [39;49;00m[32m[<AbstractClass>][39;49;00m[37m [39;49;00m[32mHuffmanDecoder()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   168^I[37m    [39;49;00m[32mabstract[39;49;00m[37m [39;49;00m[32mGetValue:[39;49;00m[37m [39;49;00m[32munit->int[39;49;00m[37m[39;49;00m$
   169^I[37m    [39;49;00m[32mabstract[39;49;00m[37m [39;49;00m[32mGetDistance:[39;49;00m[37m [39;49;00m[32munit->int[39;49;00m[37m[39;49;00m$
   170^I[37m[39;49;00m$
   171^I[34mtype[39;49;00m[37m [39;49;00m[32mFixedHuffman(br:BitReader)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   172^I[37m    [39;49;00m[32minherit[39;49;00m[37m [39;49;00m[32mHuffmanDecoder()[39;49;00m[37m[39;49;00m$
   173^I[37m    [39;49;00m$
   174^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.GetValue()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   175^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbr.ReadBE[39;49;00m[37m [39;49;00m[34m7[39;49;00m[37m[39;49;00m$
   176^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m24[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   177^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m(v[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32mbr.ReadBit()[39;49;00m[37m[39;49;00m$
   178^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m192[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m48[39;49;00m[37m[39;49;00m$
   179^I[37m            [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m200[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m88[39;49;00m[37m[39;49;00m$
   180^I[37m            [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32m((v[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32mbr.ReadBit())[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m[39;49;00m$
   181^I[37m    [39;49;00m$
   182^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.GetDistance()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbr.ReadBE[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m[39;49;00m$
   183^I[37m[39;49;00m$
   184^I[34mtype[39;49;00m[37m [39;49;00m[32mDynamicHuffman(br:BitReader)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   185^I[37m    [39;49;00m[32minherit[39;49;00m[37m [39;49;00m[32mHuffmanDecoder()[39;49;00m[37m[39;49;00m$
   186^I[37m    [39;49;00m$
   187^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlit,[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   188^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   189^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m5[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m257[39;49;00m[37m[39;49;00m$
   190^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m286[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"hlit:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m286[39;49;00m[32m"[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m[39;49;00m$
   191^I[37m            [39;49;00m[32mhlit[39;49;00m[37m[39;49;00m$
   192^I[37m        [39;49;00m$
   193^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   194^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m5[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   195^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mhdist[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m32[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"hdist:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m32[39;49;00m[32m"[39;49;00m[37m [39;49;00m[32mhdist[39;49;00m[37m[39;49;00m$
   196^I[37m            [39;49;00m[32mhdist[39;49;00m[37m[39;49;00m$
   197^I[37m        [39;49;00m$
   198^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhclen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   199^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhclen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m4[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m[39;49;00m$
   200^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mhclen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m19[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"hclen:[39;49;00m[37m [39;49;00m[32m%d[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m19[39;49;00m[32m"[39;49;00m[37m [39;49;00m[32mhclen[39;49;00m[37m[39;49;00m$
   201^I[37m            [39;49;00m[32mhclen[39;49;00m[37m[39;49;00m$
   202^I[37m        [39;49;00m$
   203^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mclen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   204^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhclens[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m [39;49;00m[34m19[39;49;00m[37m[39;49;00m$
   205^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34morder[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m[|[39;49;00m[37m [39;49;00m[34m16[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m17[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m18[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m8[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m7[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m9[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m6[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m10[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m5[39;49;00m[34m;[39;49;00m[37m[39;49;00m$
   206^I[37m                           [39;49;00m[34m11[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m4[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m12[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m3[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m13[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m2[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m14[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m1[39;49;00m[34m;[39;49;00m[37m [39;49;00m[34m15[39;49;00m[37m [39;49;00m[32m|][39;49;00m[37m[39;49;00m$
   207^I[37m            [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mhclen[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   208^I[37m                [39;49;00m[32mhclens.[order.[i]][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mbr.ReadLE[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m$
   209^I[37m            [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mHuffman(hclens)[39;49;00m[37m[39;49;00m$
   210^I[37m        [39;49;00m$
   211^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mld[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>(hlit[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mhdist)[39;49;00m[37m[39;49;00m$
   212^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   213^I[37m        [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mld.Length[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   214^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mclen.Read(br)[39;49;00m[37m[39;49;00m$
   215^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   216^I[37m                [39;49;00m[32mld.[i][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m[39;49;00m$
   217^I[37m                [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   218^I[37m            [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   219^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mr,[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   220^I[37m                    [39;49;00m[32mmatch[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32mwith[39;49;00m[37m[39;49;00m$
   221^I[37m                    [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m3[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mld.[i[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m[39;49;00m$
   222^I[37m                    [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m17[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m3[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m3[39;49;00m[34m,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   223^I[37m                    [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m18[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[34m7[39;49;00m[32m)[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m11[39;49;00m[34m,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   224^I[37m                    [39;49;00m[32m|[39;49;00m[37m [39;49;00m[32m_[39;49;00m[37m  [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m"不正な値です。"[39;49;00m[37m[39;49;00m$
   225^I[37m                [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mj[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mr[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   226^I[37m                    [39;49;00m[32mld.[i[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mj][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m[39;49;00m$
   227^I[37m                [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mr[39;49;00m[37m[39;49;00m$
   228^I[37m        [39;49;00m$
   229^I[37m        [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mHuffman(ld.[0[39;49;00m[37m [39;49;00m[36m..[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m]),[39;49;00m[37m[39;49;00m$
   230^I[37m        [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mHuffman(ld.[hlit[39;49;00m[37m [39;49;00m[36m..[39;49;00m[37m [39;49;00m[32mhlit[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mhdist[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m])[39;49;00m[37m[39;49;00m$
   231^I[37m    [39;49;00m$
   232^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.GetValue()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlit.Read[39;49;00m[37m [39;49;00m[32mbr[39;49;00m[37m[39;49;00m$
   233^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.GetDistance()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mdist.Read[39;49;00m[37m [39;49;00m[32mbr[39;49;00m[37m[39;49;00m$
   234^I[37m[39;49;00m$
   235^I[32mlet[39;49;00m[37m [39;49;00m[32mgetLitExLen[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m265[39;49;00m[37m [39;49;00m[32m||[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m285[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32m(v[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m261[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m>>>[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m$
   236^I[32mlet[39;49;00m[37m [39;49;00m[32mgetDistExLen[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32m(d[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m>>>[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   237^I[37m[39;49;00m$
   238^I[32mlet[39;49;00m[37m [39;49;00m[32mlitlens[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   239^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlitlens[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m [39;49;00m[34m286[39;49;00m[37m[39;49;00m$
   240^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m$
   241^I[37m    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m257[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[34m284[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   242^I[37m        [39;49;00m[32mlitlens.[i][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m[39;49;00m$
   243^I[37m        [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32m(1[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32m(getLitExLen[39;49;00m[37m [39;49;00m[32mi))[39;49;00m[37m[39;49;00m$
   244^I[37m    [39;49;00m[32mlitlens.[285][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m[39;49;00m$
   245^I[37m    [39;49;00m[32mlitlens.[257..285][39;49;00m[37m[39;49;00m$
   246^I[37m[39;49;00m$
   247^I[32mlet[39;49;00m[37m [39;49;00m[32mdistlens[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   248^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mdistlens[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<int>[39;49;00m[37m [39;49;00m[34m30[39;49;00m[37m[39;49;00m$
   249^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   250^I[37m    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[34m29[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   251^I[37m        [39;49;00m[32mdistlens.[i][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m[39;49;00m$
   252^I[37m        [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32m(1[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32m(getDistExLen[39;49;00m[37m [39;49;00m[32mi))[39;49;00m[37m[39;49;00m$
   253^I[37m    [39;49;00m[32mdistlens[39;49;00m[37m[39;49;00m$
   254^I[37m[39;49;00m$
   255^I[34mtype[39;49;00m[37m [39;49;00m[32mReader(sin:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   256^I[37m    [39;49;00m[32minherit[39;49;00m[37m [39;49;00m[32mStream()[39;49;00m[37m[39;49;00m$
   257^I[37m    [39;49;00m$
   258^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mbr[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mBitReader(sin)[39;49;00m[37m[39;49;00m$
   259^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mfh[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mFixedHuffman(br)[39;49;00m[37m[39;49;00m$
   260^I[37m    [39;49;00m$
   261^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32msout[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mMemoryStream()[39;49;00m[37m[39;49;00m$
   262^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mdbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mWriteBuffer(sout)[39;49;00m[37m[39;49;00m$
   263^I[37m    [39;49;00m$
   264^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mcache:byte[][39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
   265^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mcanRead[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mtrue[39;49;00m[37m[39;49;00m$
   266^I[37m[39;49;00m$
   267^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mrec[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(h:HuffmanDecoder)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   268^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mh.GetValue()[39;49;00m[37m[39;49;00m$
   269^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m285[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"不正な値:[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m[39;49;00m$
   270^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   271^I[37m            [39;49;00m[32mdbuf.WriteByte(byte[39;49;00m[37m [39;49;00m[32mv)[39;49;00m[37m[39;49;00m$
   272^I[37m        [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   273^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   274^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m265[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m254[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   275^I[37m                    [39;49;00m[32mlitlens.[v[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m257[39;49;00m[32m][39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[32m(getLitExLen[39;49;00m[37m [39;49;00m[32mv))[39;49;00m[37m[39;49;00m$
   276^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   277^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mh.GetDistance()[39;49;00m[37m[39;49;00m$
   278^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m29[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"不正な距離:[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m[39;49;00m$
   279^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   280^I[37m                    [39;49;00m[32mdistlens.[d][39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32m(br.ReadLE[39;49;00m[37m [39;49;00m[32m(getDistExLen[39;49;00m[37m [39;49;00m[32md))[39;49;00m[37m[39;49;00m$
   281^I[37m            [39;49;00m[32mdbuf.Copy[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32mdist[39;49;00m[37m[39;49;00m$
   282^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mv[39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m[39;49;00m$
   283^I[37m    [39;49;00m$
   284^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.CanRead[39;49;00m[37m  [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mcanRead[39;49;00m[37m[39;49;00m$
   285^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.CanWrite[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
   286^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.CanSeek[39;49;00m[37m  [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
   287^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Flush()[39;49;00m[37m  [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m()[39;49;00m[37m[39;49;00m$
   288^I[37m    [39;49;00m$
   289^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Close()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   290^I[37m        [39;49;00m[32mdbuf.Close()[39;49;00m[37m[39;49;00m$
   291^I[37m        [39;49;00m[32mcanRead[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
   292^I[37m    [39;49;00m$
   293^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Read(buffer,[39;49;00m[37m [39;49;00m[32moffset,[39;49;00m[37m [39;49;00m[32mcount)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   294^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32moffset[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   295^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mcache[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   296^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mclen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mcache.Length[39;49;00m[37m[39;49;00m$
   297^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(clen,[39;49;00m[37m [39;49;00m[32mcount)[39;49;00m[37m[39;49;00m$
   298^I[37m                [39;49;00m[32mArray.Copy(cache,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mbuffer,[39;49;00m[37m [39;49;00m[32moffset,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
   299^I[37m                [39;49;00m[32mcache[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mclen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
   300^I[37m                         [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32mcache.[len[39;49;00m[37m [39;49;00m[36m..[39;49;00m[37m [39;49;00m[32mclen[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m[39;49;00m$
   301^I[37m                [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   302^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mreq[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mint64[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[34mcount[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32moffset[39;49;00m[37m[39;49;00m$
   303^I[37m        [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mcanRead[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32msout.Length[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mreq[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   304^I[37m            [39;49;00m[32mx.readBlock()[39;49;00m[37m[39;49;00m$
   305^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   306^I[37m            [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32msout.Length[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mL[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   307^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mdata[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32msout.ToArray()[39;49;00m[37m[39;49;00m$
   308^I[37m                [39;49;00m[32msout.SetLength(0L)[39;49;00m[37m[39;49;00m$
   309^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mdlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mdata.Length[39;49;00m[37m[39;49;00m$
   310^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(int[39;49;00m[37m [39;49;00m[32mreq,[39;49;00m[37m [39;49;00m[32mdlen)[39;49;00m[37m[39;49;00m$
   311^I[37m                [39;49;00m[32mArray.Copy(data,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mbuffer,[39;49;00m[37m [39;49;00m[32moffset,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
   312^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mdlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   313^I[37m                    [39;49;00m[32mcache[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mdata.[len..][39;49;00m[37m[39;49;00m$
   314^I[37m                [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   315^I[37m        [39;49;00m[32moffset[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   316^I[37m    [39;49;00m$
   317^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Position[39;49;00m[37m[39;49;00m$
   318^I[37m        [39;49;00m[32mwith[39;49;00m[37m [39;49;00m[32mget()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   319^I[37m        [39;49;00m[34mand[39;49;00m[37m [39;49;00m[32mset(v)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   320^I[37m    [39;49;00m$
   321^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Length[39;49;00m[37m         [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   322^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Seek(_,[39;49;00m[37m [39;49;00m[32m_)[39;49;00m[37m     [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   323^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.Write(_,[39;49;00m[37m [39;49;00m[32m_,[39;49;00m[37m [39;49;00m[32m_)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   324^I[37m    [39;49;00m[32moverride[39;49;00m[37m [39;49;00m[32mx.SetLength(_)[39;49;00m[37m   [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mraise[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mNotImplementedException()[39;49;00m[37m[39;49;00m$
   325^I[37m    [39;49;00m$
   326^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mprivate[39;49;00m[37m [39;49;00m[32mx.readBlock()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   327^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mbfinal[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbr.ReadBit()[39;49;00m[37m[39;49;00m$
   328^I[37m        [39;49;00m[32mmatch[39;49;00m[37m [39;49;00m[32mbr.ReadLE[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[32mwith[39;49;00m[37m[39;49;00m$
   329^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mbr.Skip()[39;49;00m[37m[39;49;00m$
   330^I[37m               [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbr.ReadLE[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m[39;49;00m$
   331^I[37m               [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mnlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbr.ReadLE[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m[39;49;00m$
   332^I[37m               [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mnlen[39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mx10000[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   333^I[37m                   [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m"不正な非圧縮長"[39;49;00m[37m[39;49;00m$
   334^I[37m               [39;49;00m[32mdbuf.Write[39;49;00m[37m [39;49;00m[32m(br.ReadBytes[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   335^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32mfh[39;49;00m[37m[39;49;00m$
   336^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(new[39;49;00m[37m [39;49;00m[32mDynamicHuffman(br))[39;49;00m[37m[39;49;00m$
   337^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[32m_[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m"不正なブロックタイプ"[39;49;00m[37m[39;49;00m$
   338^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbfinal[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   339^I[37m            [39;49;00m[32mcanRead[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mfalse[39;49;00m[37m[39;49;00m$
   340^I[37m            [39;49;00m[32mx.Close()[39;49;00m[37m[39;49;00m$
   341^I[37m[39;49;00m$
   342^I[34mtype[39;49;00m[37m [39;49;00m[32mBitWriter(sout:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   343^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   344^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m[39;49;00m$
   345^I[37m    [39;49;00m$
   346^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Skip()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   347^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   348^I[37m            [39;49;00m[32msout.WriteByte(cur)[39;49;00m[37m[39;49;00m$
   349^I[37m            [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   350^I[37m            [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m[39;49;00m$
   351^I[37m    [39;49;00m$
   352^I[37m    [39;49;00m[32minterface[39;49;00m[37m [39;49;00m[32mIDisposable[39;49;00m[37m [39;49;00m[32mwith[39;49;00m[37m[39;49;00m$
   353^I[37m        [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Dispose()[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   354^I[37m            [39;49;00m[32mx.Skip()[39;49;00m[37m[39;49;00m$
   355^I[37m            [39;49;00m[32msout.Flush()[39;49;00m[37m[39;49;00m$
   356^I[37m    [39;49;00m$
   357^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteBit(b:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   358^I[37m        [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m|||[39;49;00m[37m [39;49;00m[32m((byte[39;49;00m[37m [39;49;00m[32mb)[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mbit)[39;49;00m[37m[39;49;00m$
   359^I[37m        [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   360^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   361^I[37m            [39;49;00m[32msout.WriteByte(cur)[39;49;00m[37m[39;49;00m$
   362^I[37m            [39;49;00m[32mbit[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   363^I[37m            [39;49;00m[32mcur[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32muy[39;49;00m[37m[39;49;00m$
   364^I[37m    [39;49;00m$
   365^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteLE[39;49;00m[37m [39;49;00m[32m(len:int)[39;49;00m[37m [39;49;00m[32m(b:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   366^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   367^I[37m            [39;49;00m[32mx.WriteBit[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[32m(1[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mi))[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   368^I[37m    [39;49;00m$
   369^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteBE[39;49;00m[37m [39;49;00m[32m(len:int)[39;49;00m[37m [39;49;00m[32m(b:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   370^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[32mdownto[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   371^I[37m            [39;49;00m[32mx.WriteBit[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[32m(1[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[32mi))[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   372^I[37m    [39;49;00m$
   373^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteBytes(data:byte[])[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   374^I[37m        [39;49;00m[32mx.Skip()[39;49;00m[37m[39;49;00m$
   375^I[37m        [39;49;00m[32msout.Write(data,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mdata.Length)[39;49;00m[37m[39;49;00m$
   376^I[37m[39;49;00m$
   377^I[34mtype[39;49;00m[37m [39;49;00m[32mFixedHuffmanWriter(bw:BitWriter)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   378^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32m(b:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   379^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m144[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   380^I[37m            [39;49;00m[32mbw.WriteBE[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mb110000)[39;49;00m[37m[39;49;00m$
   381^I[37m        [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   382^I[37m            [39;49;00m[32mbw.WriteBE[39;49;00m[37m [39;49;00m[34m9[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m144[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mb110010000)[39;49;00m[37m[39;49;00m$
   383^I[37m        [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m280[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   384^I[37m            [39;49;00m[32mbw.WriteBE[39;49;00m[37m [39;49;00m[34m7[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m256[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   385^I[37m        [39;49;00m[32melif[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m288[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   386^I[37m            [39;49;00m[32mbw.WriteBE[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[32m(b[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m280[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mb11000000)[39;49;00m[37m[39;49;00m$
   387^I[37m    [39;49;00m$
   388^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteLen[39;49;00m[37m [39;49;00m[32m(len:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   389^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m [39;49;00m[32m||[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   390^I[37m            [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"不正な長さ:[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   391^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mll[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m285[39;49;00m[37m[39;49;00m$
   392^I[37m        [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlitlens.[ll[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m257[39;49;00m[32m][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   393^I[37m            [39;49;00m[32mll[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mll[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   394^I[37m        [39;49;00m[32mx.Write[39;49;00m[37m [39;49;00m[32mll[39;49;00m[37m[39;49;00m$
   395^I[37m        [39;49;00m[32mbw.WriteLE[39;49;00m[37m [39;49;00m[32m(getLitExLen[39;49;00m[37m [39;49;00m[32mll)[39;49;00m[37m [39;49;00m[32m(len[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mlitlens.[ll[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m257[39;49;00m[32m])[39;49;00m[37m[39;49;00m$
   396^I[37m    [39;49;00m$
   397^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.WriteDist[39;49;00m[37m [39;49;00m[32m(d:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   398^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[32m||[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   399^I[37m            [39;49;00m[32mfailwith[39;49;00m[37m [39;49;00m[32m<|[39;49;00m[37m [39;49;00m[32msprintf[39;49;00m[37m [39;49;00m[32m"不正な距離:[39;49;00m[37m [39;49;00m[32m%d"[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m[39;49;00m$
   400^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mdl[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m29[39;49;00m[37m[39;49;00m$
   401^I[37m        [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32md[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mdistlens.[dl][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   402^I[37m            [39;49;00m[32mdl[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mdl[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   403^I[37m        [39;49;00m[32mbw.WriteBE[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m[32mdl[39;49;00m[37m[39;49;00m$
   404^I[37m        [39;49;00m[32mbw.WriteLE[39;49;00m[37m [39;49;00m[32m(getDistExLen[39;49;00m[37m [39;49;00m[32mdl)[39;49;00m[37m [39;49;00m[32m(d[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mdistlens.[dl])[39;49;00m[37m[39;49;00m$
   405^I[37m[39;49;00m$
   406^I[32mlet[39;49;00m[37m [39;49;00m[32mmaxbuf2[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m*[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m$
   407^I[32mlet[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mmaxbuf2[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen[39;49;00m[37m[39;49;00m$
   408^I[37m[39;49;00m$
   409^I[32mlet[39;49;00m[37m [39;49;00m[32minline[39;49;00m[37m [39;49;00m[32mgetHash[39;49;00m[37m [39;49;00m[32m(buf:byte[])[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   410^I[37m    [39;49;00m[32m((int[39;49;00m[37m [39;49;00m[32mbuf.[pos])[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m4[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m^^^[39;49;00m[37m [39;49;00m[32m((int[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m])[39;49;00m[37m [39;49;00m[32m<<<[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m^^^[39;49;00m[37m [39;49;00m[32m(int[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m])[39;49;00m[37m[39;49;00m$
   411^I[37m[39;49;00m$
   412^I[32mlet[39;49;00m[37m [39;49;00m[32minline[39;49;00m[37m [39;49;00m[32maddHash[39;49;00m[37m [39;49;00m[32m(hash:List<int>[])[39;49;00m[37m [39;49;00m[32m(buf:byte[])[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   413^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbuf.[pos][39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   414^I[37m        [39;49;00m[32mhash.[getHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mpos].Add[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m[39;49;00m$
   415^I[37m[39;49;00m$
   416^I[32mlet[39;49;00m[37m [39;49;00m[32minline[39;49;00m[37m [39;49;00m[32maddHash2[39;49;00m[37m [39;49;00m[32m(tables:int[,])[39;49;00m[37m [39;49;00m[32m(counts:int[])[39;49;00m[37m [39;49;00m[32m(buf:byte[])[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   417^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mbuf.[pos][39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   418^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mgetHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m[39;49;00m$
   419^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mcounts.[h][39;49;00m[37m[39;49;00m$
   420^I[37m        [39;49;00m[32mtables.[h,[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[34m15[39;49;00m[32m][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m[39;49;00m$
   421^I[37m        [39;49;00m[32mcounts.[h][39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   422^I[37m[39;49;00m$
   423^I[34mtype[39;49;00m[37m [39;49;00m[32mWriter(t:int,[39;49;00m[37m [39;49;00m[32msin:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   424^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m[39;49;00m$
   425^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mArray.zeroCreate<byte>[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m[39;49;00m$
   426^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mtables,[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   427^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mt[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mArray2D.zeroCreate<int>[39;49;00m[37m [39;49;00m[34m4096[39;49;00m[37m [39;49;00m[34m16[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mArray.create[39;49;00m[37m [39;49;00m[34m4096[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32mnull,[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
   428^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mtables[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32m[|[39;49;00m[37m [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[32m_[39;49;00m[37m [39;49;00m[32min[39;49;00m[37m [39;49;00m[34m0[39;49;00m[36m..4095[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mList<int>()[39;49;00m[37m [39;49;00m[32m|][39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m[39;49;00m$
   429^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mcrc[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m~~~0u[39;49;00m[37m[39;49;00m$
   430^I[37m    [39;49;00m$
   431^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   432^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mrlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32msin.Read(buf,[39;49;00m[37m [39;49;00m[32mpos,[39;49;00m[37m [39;49;00m[32mlen)[39;49;00m[37m[39;49;00m$
   433^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mrlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mrlen[39;49;00m[37m[39;49;00m$
   434^I[37m        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mrlen[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   435^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mint(crc[39;49;00m[37m [39;49;00m[32m^^^[39;49;00m[37m [39;49;00m[32m(uint32[39;49;00m[37m [39;49;00m[32mbuf.[i]))[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[34m0[39;49;00m[32mxff[39;49;00m[37m[39;49;00m$
   436^I[37m            [39;49;00m[32mcrc[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32m(crc[39;49;00m[37m [39;49;00m[32m>>>[39;49;00m[37m [39;49;00m[34m8[39;49;00m[32m)[39;49;00m[37m [39;49;00m[32m^^^[39;49;00m[37m [39;49;00m[32mcrc32_table.[b][39;49;00m[37m[39;49;00m$
   437^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   438^I[37m            [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mlist[39;49;00m[37m [39;49;00m[32min[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m [39;49;00m[32mlist.Clear()[39;49;00m[37m[39;49;00m$
   439^I[37m        [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   440^I[37m            [39;49;00m[32mArray.fill[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[32mcounts.Length[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   441^I[37m    [39;49;00m$
   442^I[37m    [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   443^I[37m        [39;49;00m[32mread[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m[39;49;00m$
   444^I[37m    [39;49;00m$
   445^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34msearch[39;49;00m[37m [39;49;00m[32m(pos:int)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   446^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m-1[39;49;00m[37m[39;49;00m$
   447^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m$
   448^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(maxlen,[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mpos)[39;49;00m[37m[39;49;00m$
   449^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mlast[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Max(0,[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf)[39;49;00m[37m[39;49;00m$
   450^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mh[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mgetHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mpos[39;49;00m[37m[39;49;00m$
   451^I[37m        [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32m<>[39;49;00m[37m [39;49;00m[32mnull[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   452^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34mlist[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mhash.[h][39;49;00m[37m[39;49;00m$
   453^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlist.Count[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   454^I[37m            [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m>=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   455^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mlist.[i][39;49;00m[37m[39;49;00m$
   456^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlast[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   457^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   458^I[37m                    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   459^I[37m                        [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   460^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   461^I[37m                        [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   462^I[37m                        [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   463^I[37m                [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   464^I[37m        [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   465^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mcounts.[h][39;49;00m[37m[39;49;00m$
   466^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mp1,[39;49;00m[37m [39;49;00m[32mp2[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mc[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m16[39;49;00m[37m[39;49;00m$
   467^I[37m            [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp2[39;49;00m[37m[39;49;00m$
   468^I[37m            [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m>=[39;49;00m[37m [39;49;00m[32mp1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   469^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mtables.[h,[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m&&&[39;49;00m[37m [39;49;00m[34m15[39;49;00m[32m][39;49;00m[37m[39;49;00m$
   470^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlast[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   471^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   472^I[37m                    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[pos[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   473^I[37m                        [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   474^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   475^I[37m                        [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   476^I[37m                        [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   477^I[37m                [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   478^I[37m        [39;49;00m[32mmaxp,[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   479^I[37m    [39;49;00m$
   480^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Crc[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32m~~~crc[39;49;00m[37m[39;49;00m$
   481^I[37m[39;49;00m$
   482^I[37m    [39;49;00m[32mmember[39;49;00m[37m [39;49;00m[32mx.Compress[39;49;00m[37m [39;49;00m[32m(sout:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   483^I[37m        [39;49;00m[32muse[39;49;00m[37m [39;49;00m[32mbw[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mBitWriter(sout)[39;49;00m[37m[39;49;00m$
   484^I[37m        [39;49;00m[32mbw.WriteBit[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   485^I[37m        [39;49;00m[32mbw.WriteLE[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   486^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mhw[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mFixedHuffmanWriter(bw)[39;49;00m[37m[39;49;00m$
   487^I[37m        [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m$
   488^I[37m        [39;49;00m[32mmatch[39;49;00m[37m [39;49;00m[32mt[39;49;00m[37m [39;49;00m[32mwith[39;49;00m[37m[39;49;00m$
   489^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m[39;49;00m$
   490^I[37m            [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   491^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p][39;49;00m[37m[39;49;00m$
   492^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m][39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m3[39;49;00m[32m][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   493^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m[39;49;00m$
   494^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(maxlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mp)[39;49;00m[37m[39;49;00m$
   495^I[37m                    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   496^I[37m                        [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   497^I[37m                    [39;49;00m[32mhw.Write(int[39;49;00m[37m [39;49;00m[32mb)[39;49;00m[37m[39;49;00m$
   498^I[37m                    [39;49;00m[32mhw.WriteLen(len[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   499^I[37m                    [39;49;00m[32mhw.WriteDist[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   500^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   501^I[37m                [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   502^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxp,[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34msearch[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   503^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   504^I[37m                        [39;49;00m[32mhw.Write(int[39;49;00m[37m [39;49;00m[32mb)[39;49;00m[37m[39;49;00m$
   505^I[37m                        [39;49;00m[32maddHash2[39;49;00m[37m [39;49;00m[32mtables[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   506^I[37m                        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   507^I[37m                    [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   508^I[37m                        [39;49;00m[32mhw.WriteLen[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   509^I[37m                        [39;49;00m[32mhw.WriteDist[39;49;00m[37m [39;49;00m[32m(p[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxp)[39;49;00m[37m[39;49;00m$
   510^I[37m                        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   511^I[37m                            [39;49;00m[32maddHash2[39;49;00m[37m [39;49;00m[32mtables[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   512^I[37m                        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   513^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxbuf2[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   514^I[37m                    [39;49;00m[32mArray.Copy(buf,[39;49;00m[37m [39;49;00m[32mmaxbuf,[39;49;00m[37m [39;49;00m[32mbuf,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m[39;49;00m$
   515^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   516^I[37m                        [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(maxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   517^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   518^I[37m                    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   519^I[37m                        [39;49;00m[32maddHash2[39;49;00m[37m [39;49;00m[32mtables[39;49;00m[37m [39;49;00m[32mcounts[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   520^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m[39;49;00m$
   521^I[37m            [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   522^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p][39;49;00m[37m[39;49;00m$
   523^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m][39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m2[39;49;00m[32m][39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m3[39;49;00m[32m][39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   524^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmutable[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m[39;49;00m$
   525^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mMath.Min(maxlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mp)[39;49;00m[37m[39;49;00m$
   526^I[37m                    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mmlen[39;49;00m[37m [39;49;00m[32m&&[39;49;00m[37m [39;49;00m[32mb[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mbuf.[p[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen][39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   527^I[37m                        [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   528^I[37m                    [39;49;00m[32mhw.Write(int[39;49;00m[37m [39;49;00m[32mb)[39;49;00m[37m[39;49;00m$
   529^I[37m                    [39;49;00m[32mhw.WriteLen(len[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[32m)[39;49;00m[37m[39;49;00m$
   530^I[37m                    [39;49;00m[32mhw.WriteDist[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   531^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mlen[39;49;00m[37m[39;49;00m$
   532^I[37m                [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   533^I[37m                    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxp,[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34msearch[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   534^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   535^I[37m                        [39;49;00m[32mhw.Write(int[39;49;00m[37m [39;49;00m[32mb)[39;49;00m[37m[39;49;00m$
   536^I[37m                        [39;49;00m[32maddHash[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   537^I[37m                        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   538^I[37m                    [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   539^I[37m                        [39;49;00m[32mhw.WriteLen[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   540^I[37m                        [39;49;00m[32mhw.WriteDist[39;49;00m[37m [39;49;00m[32m(p[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxp)[39;49;00m[37m[39;49;00m$
   541^I[37m                        [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   542^I[37m                            [39;49;00m[32maddHash[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   543^I[37m                        [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   544^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxbuf2[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   545^I[37m                    [39;49;00m[32mArray.Copy(buf,[39;49;00m[37m [39;49;00m[32mmaxbuf,[39;49;00m[37m [39;49;00m[32mbuf,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m[39;49;00m$
   546^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   547^I[37m                        [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(maxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   548^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   549^I[37m                    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   550^I[37m                        [39;49;00m[32maddHash[39;49;00m[37m [39;49;00m[32mhash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   551^I[37m        [39;49;00m[32m|[39;49;00m[37m [39;49;00m[32m_[39;49;00m[37m [39;49;00m[32m->[39;49;00m[37m[39;49;00m$
   552^I[37m            [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   553^I[37m                [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mmaxp,[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34msearch[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   554^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mmaxp[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   555^I[37m                    [39;49;00m[32mhw.Write(int[39;49;00m[37m [39;49;00m[32mbuf.[p])[39;49;00m[37m[39;49;00m$
   556^I[37m                    [39;49;00m[32mhash.[getHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mp].Add[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m[39;49;00m$
   557^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m$
   558^I[37m                [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   559^I[37m                    [39;49;00m[32mhw.WriteLen[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   560^I[37m                    [39;49;00m[32mhw.WriteDist[39;49;00m[37m [39;49;00m[32m(p[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxp)[39;49;00m[37m[39;49;00m$
   561^I[37m                    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   562^I[37m                        [39;49;00m[32mhash.[getHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mi].Add[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   563^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxl[39;49;00m[37m[39;49;00m$
   564^I[37m                [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m>[39;49;00m[37m [39;49;00m[32mmaxbuf2[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m[39;49;00m$
   565^I[37m                    [39;49;00m[32mArray.Copy(buf,[39;49;00m[37m [39;49;00m[32mmaxbuf,[39;49;00m[37m [39;49;00m[32mbuf,[39;49;00m[37m [39;49;00m[34m0[39;49;00m[34m,[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m[39;49;00m$
   566^I[37m                    [39;49;00m[34mif[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m<[39;49;00m[37m [39;49;00m[32mbuflen[39;49;00m[37m [39;49;00m[34mthen[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mlength[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m [39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   567^I[37m                        [39;49;00m[32mread[39;49;00m[37m [39;49;00m[32m(maxbuf[39;49;00m[37m [39;49;00m[34m+[39;49;00m[37m [39;49;00m[32mmaxlen)[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   568^I[37m                    [39;49;00m[32mp[39;49;00m[37m [39;49;00m[32m<-[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[32mmaxbuf[39;49;00m[37m[39;49;00m$
   569^I[37m                    [39;49;00m[32mfor[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34mto[39;49;00m[37m [39;49;00m[32mp[39;49;00m[37m [39;49;00m[34m-[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mdo[39;49;00m[37m[39;49;00m$
   570^I[37m                        [39;49;00m[32mhash.[getHash[39;49;00m[37m [39;49;00m[32mbuf[39;49;00m[37m [39;49;00m[32mi].Add[39;49;00m[37m [39;49;00m[34mi[39;49;00m[37m[39;49;00m$
   571^I[37m        [39;49;00m[32mhw.Write[39;49;00m[37m [39;49;00m[34m256[39;49;00m[37m[39;49;00m$
   572^I[37m[39;49;00m$
   573^I[32mlet[39;49;00m[37m [39;49;00m[32mGetCompressBytes[39;49;00m[37m [39;49;00m[32m(sin:Stream)[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m[39;49;00m$
   574^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mnow[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mDateTime.Now[39;49;00m[37m[39;49;00m$
   575^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[34mms[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mMemoryStream()[39;49;00m[37m[39;49;00m$
   576^I[37m    [39;49;00m[32mlet[39;49;00m[37m [39;49;00m[32mw[39;49;00m[37m [39;49;00m[32m=[39;49;00m[37m [39;49;00m[32mnew[39;49;00m[37m [39;49;00m[32mWriter(1,[39;49;00m[37m [39;49;00m[32msin)[39;49;00m[37m[39;49;00m$
   577^I[37m    [39;49;00m[32mw.Compress[39;49;00m[37m [39;49;00m[34mms[39;49;00m[37m[39;49;00m$
   578^I[37m    [39;49;00m[32mms.ToArray(),[39;49;00m[37m [39;49;00m[32mw.Crc[39;49;00m$
