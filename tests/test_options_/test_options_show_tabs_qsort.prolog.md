[32mpartition[39;49;00m([], [34m_[39;49;00m, [], []).
[32mpartition[39;49;00m([[31mX[39;49;00m|[31mXs[39;49;00m], [31mPivot[39;49;00m, [31mSmalls[39;49;00m, [31mBigs[39;49;00m) :-
    (   [31mX[39;49;00m [33m@<[39;49;00m [31mPivot[39;49;00m [33m->[39;49;00m
        [31mSmalls[39;49;00m = [[31mX[39;49;00m|[31mRest[39;49;00m],
        [32mpartition[39;49;00m([31mXs[39;49;00m, [31mPivot[39;49;00m, [31mRest[39;49;00m, [31mBigs[39;49;00m)
    ;   [31mBigs[39;49;00m = [[31mX[39;49;00m|[31mRest[39;49;00m],
        [32mpartition[39;49;00m([31mXs[39;49;00m, [31mPivot[39;49;00m, [31mSmalls[39;49;00m, [31mRest[39;49;00m)
    ).

[32mquicksort[39;49;00m([])     --> [].
[32mquicksort[39;49;00m([[31mX[39;49;00m|[31mXs[39;49;00m]) -->
    { [32mpartition[39;49;00m([31mXs[39;49;00m, [31mX[39;49;00m, [31mSmaller[39;49;00m, [31mBigger[39;49;00m) },
    [32mquicksort[39;49;00m([31mSmaller[39;49;00m), [[31mX[39;49;00m], [32mquicksort[39;49;00m([31mBigger[39;49;00m).
