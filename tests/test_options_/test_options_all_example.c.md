     1^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m<string.h>[39;49;00m[36m[39;49;00m$
     2^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m<stdlib.h>[39;49;00m[36m[39;49;00m$
     3^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m<stdio.h>[39;49;00m[36m[39;49;00m$
     4^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"codegen.h"[39;49;00m[36m[39;49;00m$
     5^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"symboltable.h"[39;49;00m[36m[39;49;00m$
     6^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"stringbuffer.h"[39;49;00m[36m[39;49;00m$
     7^I[37m[39;49;00m$
     8^I[34mextern[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m [39;49;00m[32myyerror[39;49;00m([36mchar[39;49;00m*[37m [39;49;00mmsg);[37m[39;49;00m$
     9^I[37m[39;49;00m$
    10^I[34mstatic[39;49;00m[37m [39;49;00mstringBuffer*[37m [39;49;00mstaticVariableBuffer;[37m[39;49;00m$
    11^I[34mstatic[39;49;00m[37m [39;49;00mstringBuffer*[37m [39;49;00mclassInitBuffer;[37m[39;49;00m$
    12^I[34mstatic[39;49;00m[37m [39;49;00mstringBuffer*[37m [39;49;00mcurrentMethodBuffer;[37m[39;49;00m$
    13^I[34mstatic[39;49;00m[37m [39;49;00mstringBuffer*[37m [39;49;00mfinishedMethodsBuffer;[37m[39;49;00m$
    14^I[34mstatic[39;49;00m[37m [39;49;00mstringBuffer*[37m [39;49;00mmainBuffer;[37m[39;49;00m$
    15^I[37m[39;49;00m$
    16^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mcurrentMethodBufferIndex;[37m[39;49;00m$
    17^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mcurrentMethodStackSize;[37m[39;49;00m$
    18^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mcurrentMethodStackSizeMax;[37m[39;49;00m$
    19^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mcurrentMethodNumberOfLocals;[37m[39;49;00m$
    20^I[37m[39;49;00m$
    21^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mclassInitBufferIndex;[37m[39;49;00m$
    22^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mclassInitStackSize;[37m[39;49;00m$
    23^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mclassInitStackSizeMax;[37m[39;49;00m$
    24^I[37m[39;49;00m$
    25^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mlabelCounter[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
    26^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mglobal[37m       [39;49;00m=[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
    27^I[37m[39;49;00m$
    28^I[36mchar[39;49;00m[37m [39;49;00mtempString[MAX_LENGTH_OF_COMMAND];[37m[39;49;00m$
    29^I[37m[39;49;00m$
    30^I[34mextern[39;49;00m[37m [39;49;00m[36mchar[39;49;00m*[37m [39;49;00mclassName;[37m        [39;49;00m[37m/* from minako-syntax.y */[39;49;00m[37m[39;49;00m$
    31^I[37m[39;49;00m$
    32^I[37m/* forward declarations */[39;49;00m[37m[39;49;00m$
    33^I[34mstatic[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m [39;49;00m[32mincreaseStackby[39;49;00m([36mint[39;49;00m[37m [39;49;00mstackdiff);[37m[39;49;00m$
    34^I[36mchar[39;49;00m[37m [39;49;00m[32mconvertType[39;49;00m([36mint[39;49;00m[37m [39;49;00mtype);[37m[39;49;00m$
    35^I[37m[39;49;00m$
    36^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenInit[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
    37^I[37m^I[39;49;00mstaticVariableBuffer[37m  [39;49;00m=[37m [39;49;00mnewStringBuffer();[37m[39;49;00m$
    38^I[37m^I[39;49;00mclassInitBuffer[37m       [39;49;00m=[37m [39;49;00mnewStringBuffer();[37m[39;49;00m$
    39^I[37m^I[39;49;00mcurrentMethodBuffer[37m   [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
    40^I[37m^I[39;49;00mfinishedMethodsBuffer[37m [39;49;00m=[37m [39;49;00mnewStringBuffer();[37m[39;49;00m$
    41^I[37m^I[39;49;00mmainBuffer[37m            [39;49;00m=[37m [39;49;00mnewStringBuffer();[37m[39;49;00m$
    42^I[37m[39;49;00m$
    43^I[37m^I[39;49;00mstringBufferAppend(mainBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Header --------------------------------------------[39;49;00m[33m"[39;49;00m);[37m [39;49;00m[37m[39;49;00m$
    44^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m.class  public synchronized %s[39;49;00m[33m"[39;49;00m,[37m [39;49;00mclassName);[37m[39;49;00m$
    45^I[37m^I[39;49;00mstringBufferAppend(mainBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
    46^I[37m^I[39;49;00mstringBufferAppend(mainBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.super  java/lang/Object[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    47^I[37m^I[39;49;00mstringBufferAppend(mainBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; -----------------------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    48^I[37m^I[39;49;00mstringBufferAppend(mainBuffer,[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    49^I[37m^I[39;49;00m[37m[39;49;00m$
    50^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Constructor ---------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    51^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.method public <init>()V[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    52^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit stack 1[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    53^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit locals 1[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    54^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33maload_0[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    55^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33minvokenonvirtual java/lang/Object/<init>()V[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    56^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33mreturn[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    57^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.end method[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    58^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; -----------------------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    59^I[37m^I[39;49;00mstringBufferAppend(finishedMethodsBuffer,[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    60^I[37m[39;49;00m$
    61^I[37m^I[39;49;00mstringBufferAppend(staticVariableBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Class Variables -----------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    62^I[37m[39;49;00m$
    63^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Class Initializer ---------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    64^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.method static <clinit>()V[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    65^I[37m^I[39;49;00mclassInitBufferIndex[37m [39;49;00m=[37m [39;49;00mclassInitBuffer->numberOfNextElement;[37m[39;49;00m$
    66^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit locals 0[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
    67^I[37m[39;49;00m$
    68^I}[37m[39;49;00m$
    69^I[37m[39;49;00m$
    70^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenAppendCommand[39;49;00m([36mchar[39;49;00m*[37m [39;49;00mcmd,[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mstackdiff)[37m [39;49;00m{[37m[39;49;00m$
    71^I[37m^I[39;49;00m[36mchar[39;49;00m[37m [39;49;00mtempString[MAX_LENGTH_OF_COMMAND];[37m[39;49;00m$
    72^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m%s[39;49;00m[33m"[39;49;00m,[37m [39;49;00mcmd);[37m[39;49;00m$
    73^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
    74^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
    75^I[37m^I[39;49;00mincreaseStackby(stackdiff);[37m[39;49;00m$
    76^I}[37m[39;49;00m$
    77^I[37m[39;49;00m$
    78^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenInsertCommand[39;49;00m([36mint[39;49;00m[37m [39;49;00maddress,[37m [39;49;00m[36mchar[39;49;00m*[37m [39;49;00mcmd,[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mstackdiff)[37m [39;49;00m{[37m[39;49;00m$
    79^I[37m^I[39;49;00m[36mchar[39;49;00m[37m [39;49;00mtempString[MAX_LENGTH_OF_COMMAND];[37m[39;49;00m$
    80^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m%s[39;49;00m[33m"[39;49;00m,[37m [39;49;00mcmd);[37m[39;49;00m$
    81^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00mstringBufferInsert(classInitBuffer,[37m [39;49;00maddress,[37m [39;49;00mtempString);[37m[39;49;00m$
    82^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00mstringBufferInsert(currentMethodBuffer,[37m [39;49;00maddress,[37m [39;49;00mtempString);[37m[39;49;00m$
    83^I[37m^I[39;49;00mincreaseStackby(stackdiff);[37m[39;49;00m$
    84^I}[37m[39;49;00m$
    85^I[37m[39;49;00m$
    86^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenAppendLabel[39;49;00m([36mint[39;49;00m[37m [39;49;00mlabel)[37m [39;49;00m{[37m[39;49;00m$
    87^I[37m^I[39;49;00m[36mchar[39;49;00m[37m [39;49;00mtempString[MAX_LENGTH_OF_COMMAND];[37m[39;49;00m$
    88^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33mLabel%d:[39;49;00m[33m"[39;49;00m,[37m [39;49;00mlabel);[37m[39;49;00m$
    89^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
    90^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
    91^I}[37m[39;49;00m$
    92^I[37m[39;49;00m$
    93^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenAddVariable[39;49;00m([36mchar[39;49;00m*[37m [39;49;00mname,[37m [39;49;00m[36mint[39;49;00m[37m [39;49;00mtype)[37m [39;49;00m{[37m[39;49;00m$
    94^I[37m^I[39;49;00m[37m/*fprintf(stderr, "add variable %s(%d) global=%d ", name, convertType(type), global);*/[39;49;00m[37m[39;49;00m$
    95^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00m{[37m[39;49;00m$
    96^I[37m^I^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(type[37m [39;49;00m==[37m [39;49;00mTYPE_INT)[37m [39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m.field static %s %c[39;49;00m[33m"[39;49;00m,[37m [39;49;00mname,[37m [39;49;00m[33m'[39;49;00m[33mI[39;49;00m[33m'[39;49;00m);[37m[39;49;00m$
    97^I[37m^I^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m(type[37m [39;49;00m==[37m [39;49;00mTYPE_FLOAT)[37m [39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m.field static %s %c[39;49;00m[33m"[39;49;00m,[37m [39;49;00mname,[37m [39;49;00m[33m'[39;49;00m[33mF[39;49;00m[33m'[39;49;00m);[37m[39;49;00m$
    98^I[37m^I^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m(type[37m [39;49;00m==[37m [39;49;00mTYPE_BOOLEAN)[37m [39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m.field static %s %c[39;49;00m[33m"[39;49;00m,[37m [39;49;00mname,[37m [39;49;00m[33m'[39;49;00m[33mZ[39;49;00m[33m'[39;49;00m);[37m[39;49;00m$
    99^I[37m^I^I[39;49;00m[34melse[39;49;00m[37m [39;49;00myyerror([33m"[39;49;00m[33mcompiler-intern error in codegenAddGlobalVariable().[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   100^I[37m^I^I[39;49;00mstringBufferAppend(staticVariableBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
   101^I[37m^I[39;49;00m}[37m[39;49;00m$
   102^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
   103^I[37m^I^I[39;49;00mcurrentMethodNumberOfLocals++;[37m[39;49;00m$
   104^I[37m^I[39;49;00m}[37m[39;49;00m$
   105^I}[37m[39;49;00m$
   106^I[37m[39;49;00m$
   107^I[36mint[39;49;00m[37m [39;49;00m[32mcodegenGetNextLabel[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
   108^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mlabelCounter++;[37m[39;49;00m$
   109^I}[37m[39;49;00m$
   110^I[37m[39;49;00m$
   111^I[36mint[39;49;00m[37m [39;49;00m[32mcodegenGetCurrentAddress[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
   112^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mclassInitBuffer->numberOfNextElement;[37m[39;49;00m$
   113^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcurrentMethodBuffer->numberOfNextElement;[37m[39;49;00m$
   114^I}[37m[39;49;00m$
   115^I[37m[39;49;00m$
   116^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenEnterFunction[39;49;00m(symtabEntry*[37m [39;49;00mentry)[37m [39;49;00m{[37m[39;49;00m$
   117^I[37m^I[39;49;00mcurrentMethodBuffer[37m [39;49;00m=[37m [39;49;00mnewStringBuffer();[37m[39;49;00m$
   118^I[37m^I[39;49;00mcurrentMethodStackSize[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   119^I[37m^I[39;49;00mcurrentMethodStackSizeMax[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   120^I[37m^I[39;49;00mlabelCounter[37m [39;49;00m=[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
   121^I[37m^I[39;49;00mglobal[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   122^I[37m^I[39;49;00m[37m[39;49;00m$
   123^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(strcmp(entry->name,[37m [39;49;00m[33m"[39;49;00m[33mmain[39;49;00m[33m"[39;49;00m)[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   124^I[37m^I^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(entry->idtype[37m [39;49;00m!=[37m [39;49;00mTYPE_VOID)[37m [39;49;00myyerror([33m"[39;49;00m[33mmain has to be void.[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   125^I[37m^I^I[39;49;00mcurrentMethodNumberOfLocals[37m [39;49;00m=[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
   126^I[37m^I^I[39;49;00msymtabInsert(strdup([33m"[39;49;00m[33m#main-param#[39;49;00m[33m"[39;49;00m),[37m [39;49;00mTYPE_VOID,[37m [39;49;00mCLASS_FUNC);[37m[39;49;00m$
   127^I[37m^I^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Methode ---- void main() --------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   128^I[37m^I^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.method public static main([Ljava/lang/String;)V[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   129^I[37m^I[39;49;00m}[37m[39;49;00m$
   130^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
   131^I[37m^I^I[39;49;00m[36mint[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
   132^I[37m^I^I[39;49;00mcurrentMethodNumberOfLocals[37m [39;49;00m=[37m [39;49;00mentry->paramIndex;[37m[39;49;00m$
   133^I[37m^I^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; ------- Methode -------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   134^I[37m^I^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m.method public static %s([39;49;00m[33m"[39;49;00m,[37m [39;49;00mentry->name);[37m[39;49;00m$
   135^I[37m^I^I[39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=entry->paramIndex[34m-1[39;49;00m;[37m [39;49;00mi>=[34m0[39;49;00m;[37m [39;49;00mi--)[37m [39;49;00m{[37m[39;49;00m$
   136^I[37m^I^I^I[39;49;00m[36mint[39;49;00m[37m [39;49;00mtype[37m [39;49;00m=[37m [39;49;00mentry->params[i]->idtype;[37m[39;49;00m$
   137^I[37m^I^I^I[39;49;00mtempString[strlen(tempString)+[34m1[39;49;00m][37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   138^I[37m^I^I^I[39;49;00mtempString[strlen(tempString)][37m [39;49;00m=[37m [39;49;00mconvertType(type);[37m[39;49;00m$
   139^I[37m^I^I[39;49;00m}[37m[39;49;00m$
   140^I[37m^I^I[39;49;00mtempString[strlen(tempString)+[34m2[39;49;00m][37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   141^I[37m^I^I[39;49;00mtempString[strlen(tempString)+[34m1[39;49;00m][37m [39;49;00m=[37m [39;49;00mconvertType(entry->idtype);[37m[39;49;00m$
   142^I[37m^I^I[39;49;00mtempString[strlen(tempString)][37m   [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33m)[39;49;00m[33m'[39;49;00m;[37m[39;49;00m$
   143^I[37m^I^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00mtempString);[37m[39;49;00m$
   144^I[37m^I[39;49;00m}[37m[39;49;00m$
   145^I[37m^I[39;49;00mcurrentMethodBufferIndex[37m [39;49;00m=[37m [39;49;00mcurrentMethodBuffer->numberOfNextElement;[37m[39;49;00m$
   146^I}[37m[39;49;00m$
   147^I[37m[39;49;00m$
   148^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenLeaveFunction[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
   149^I[37m^I[39;49;00mglobal[37m [39;49;00m=[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
   150^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit locals %d[39;49;00m[33m"[39;49;00m,[37m [39;49;00mcurrentMethodNumberOfLocals);[37m[39;49;00m$
   151^I[37m^I[39;49;00mstringBufferInsert(currentMethodBuffer,[37m [39;49;00mcurrentMethodBufferIndex,[37m [39;49;00mtempString);[37m[39;49;00m$
   152^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit stack %d[39;49;00m[33m"[39;49;00m,[37m [39;49;00mcurrentMethodStackSizeMax);[37m[39;49;00m$
   153^I[37m^I[39;49;00mstringBufferInsert(currentMethodBuffer,[37m [39;49;00mcurrentMethodBufferIndex,[37m [39;49;00mtempString);[37m[39;49;00m$
   154^I[37m^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33mreturn[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   155^I[37m^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.end method[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   156^I[37m^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; -----------------------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   157^I[37m^I[39;49;00mstringBufferAppend(currentMethodBuffer,[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   158^I[37m[39;49;00m$
   159^I[37m^I[39;49;00mstringBufferConcatenate(finishedMethodsBuffer,[37m [39;49;00mcurrentMethodBuffer);[37m[39;49;00m$
   160^I}[37m[39;49;00m$
   161^I[37m[39;49;00m$
   162^I[37m[39;49;00m$
   163^I[37m[39;49;00m$
   164^I[36mvoid[39;49;00m[37m [39;49;00m[32mcodegenFinishCode[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
   165^I[37m^I[39;49;00mstringBufferAppend(staticVariableBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; -----------------------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   166^I[37m^I[39;49;00mstringBufferAppend(staticVariableBuffer,[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   167^I[37m[39;49;00m$
   168^I[37m^I[39;49;00msprintf(tempString,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33m.limit stack %d[39;49;00m[33m"[39;49;00m,[37m [39;49;00mclassInitStackSizeMax);[37m[39;49;00m$
   169^I[37m^I[39;49;00mstringBufferInsert(classInitBuffer,[37m [39;49;00mclassInitBufferIndex,[37m [39;49;00mtempString);[37m[39;49;00m$
   170^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m\t[39;49;00m[33mreturn[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   171^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m.end method[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   172^I[37m^I[39;49;00mstringBufferAppend(classInitBuffer,[37m [39;49;00m[33m"[39;49;00m[33m; -----------------------------------------------------------[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   173^I[37m^I[39;49;00m[37m[39;49;00m$
   174^I[37m^I[39;49;00mstringBufferConcatenate(mainBuffer,[37m [39;49;00mstaticVariableBuffer);[37m[39;49;00m$
   175^I[37m^I[39;49;00mstringBufferConcatenate(mainBuffer,[37m [39;49;00mfinishedMethodsBuffer);[37m[39;49;00m$
   176^I[37m^I[39;49;00mstringBufferConcatenate(mainBuffer,[37m [39;49;00mclassInitBuffer);[37m[39;49;00m$
   177^I[37m[39;49;00m$
   178^I[37m^I[39;49;00mstringBufferPrint(mainBuffer);[37m[39;49;00m$
   179^I}[37m[39;49;00m$
   180^I[37m[39;49;00m$
   181^I[34mstatic[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m [39;49;00m[32mincreaseStackby[39;49;00m([36mint[39;49;00m[37m [39;49;00mstackdiff)[37m [39;49;00m{[37m[39;49;00m$
   182^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(global)[37m [39;49;00m{[37m[39;49;00m$
   183^I[37m^I^I[39;49;00mclassInitStackSize[37m [39;49;00m+=[37m [39;49;00mstackdiff;[37m[39;49;00m$
   184^I[37m^I^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(classInitStackSize[37m [39;49;00m>[37m [39;49;00mclassInitStackSizeMax)[37m [39;49;00mclassInitStackSizeMax[37m [39;49;00m=[37m [39;49;00mclassInitStackSize;[37m[39;49;00m$
   185^I[37m^I[39;49;00m}[37m[39;49;00m$
   186^I[37m^I[39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
   187^I[37m^I^I[39;49;00mcurrentMethodStackSize[37m [39;49;00m+=[37m [39;49;00mstackdiff;[37m[39;49;00m$
   188^I[37m^I^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(currentMethodStackSize[37m [39;49;00m>[37m [39;49;00mcurrentMethodStackSizeMax)[37m [39;49;00mcurrentMethodStackSizeMax[37m [39;49;00m=[37m [39;49;00mcurrentMethodStackSize;[37m[39;49;00m$
   189^I[37m^I[39;49;00m}[37m[39;49;00m$
   190^I}[37m[39;49;00m$
   191^I[37m[39;49;00m$
   192^I[36mchar[39;49;00m[37m [39;49;00m[32mconvertType[39;49;00m([36mint[39;49;00m[37m [39;49;00mtype)[37m [39;49;00m{[37m[39;49;00m$
   193^I[37m^I[39;49;00m[34mswitch[39;49;00m(type)[37m [39;49;00m{[37m[39;49;00m$
   194^I[37m^I^I[39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mTYPE_VOID[39;49;00m:[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mV[39;49;00m[33m'[39;49;00m;[37m[39;49;00m$
   195^I[37m^I^I[39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mTYPE_INT[39;49;00m:[37m     [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mI[39;49;00m[33m'[39;49;00m;[37m[39;49;00m$
   196^I[37m^I^I[39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mTYPE_FLOAT[39;49;00m:[37m   [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mF[39;49;00m[33m'[39;49;00m;[37m[39;49;00m$
   197^I[37m^I^I[39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mTYPE_BOOLEAN[39;49;00m:[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mZ[39;49;00m[33m'[39;49;00m;[37m[39;49;00m$
   198^I[37m^I^I[39;49;00m[34mdefault[39;49;00m[37m [39;49;00m:[37m [39;49;00myyerror([33m"[39;49;00m[33mcompiler-intern error in convertType().[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   199^I[37m^I[39;49;00m}[37m[39;49;00m$
   200^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[34m0[39;49;00m;[37m [39;49;00m[37m/* to avoid compiler-warning */[39;49;00m[37m[39;49;00m$
   201^I}[37m[39;49;00m$
   202^I[37m[39;49;00m$
   203^I[37m[39;49;00m$
   204^I[37m//#include <stdlib.h>[39;49;00m$
   205^I[37m//#include <stdio.h>[39;49;00m$
   206^I[37m[39;49;00m$
   207^I[36mint[39;49;00m[37m [39;49;00m[32mmain[39;49;00m()[37m [39;49;00m{[37m[39;49;00m$
   208^I[37m^I[39;49;00m[36mint[39;49;00m[37m [39;49;00ma[37m [39;49;00m=[37m [39;49;00m[34m12[39;49;00m,[37m [39;49;00mb[37m [39;49;00m=[37m [39;49;00m[34m44[39;49;00m;[37m[39;49;00m$
   209^I[37m^I[39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(a[37m [39;49;00m!=[37m [39;49;00mb)[37m [39;49;00m{[37m[39;49;00m$
   210^I[37m^I^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(a[37m [39;49;00m>[37m [39;49;00mb)[37m[39;49;00m$
   211^I[37m^I^I^I[39;49;00ma[37m [39;49;00m-=[37m [39;49;00mb;[37m[39;49;00m$
   212^I[37m^I^I[39;49;00m[34melse[39;49;00m[37m[39;49;00m$
   213^I[37m^I^I^I[39;49;00mb[37m [39;49;00m-=[37m [39;49;00ma;[37m[39;49;00m$
   214^I[37m^I[39;49;00m}[37m[39;49;00m$
   215^I[37m^I[39;49;00mprintf([33m"[39;49;00m[33m%d[39;49;00m[33m\n[39;49;00m[33m%d[39;49;00m[33m"[39;49;00m,[37m [39;49;00ma,[37m [39;49;00m[34m0X0[39;49;00m);\$
   216^I}[37m[39;49;00m$
   217^I[37m[39;49;00m$
   218^I[37m[39;49;00m$
   219^I[37m/**********************************************************************[39;49;00m$
   220^I[37m[39;49;00m$
   221^I[37m  array.c -[39;49;00m$
   222^I[37m[39;49;00m$
   223^I[37m  $Author: murphy $[39;49;00m$
   224^I[37m  $Date: 2005-11-05 04:33:55 +0100 (Sa, 05 Nov 2005) $[39;49;00m$
   225^I[37m  created at: Fri Aug  6 09:46:12 JST 1993[39;49;00m$
   226^I[37m[39;49;00m$
   227^I[37m  Copyright (C) 1993-2003 Yukihiro Matsumoto[39;49;00m$
   228^I[37m  Copyright (C) 2000  Network Applied Communication Laboratory, Inc.[39;49;00m$
   229^I[37m  Copyright (C) 2000  Information-technology Promotion Agency, Japan[39;49;00m$
   230^I[37m[39;49;00m$
   231^I[37m**********************************************************************/[39;49;00m[37m[39;49;00m$
   232^I[37m[39;49;00m$
   233^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"ruby.h"[39;49;00m[36m[39;49;00m$
   234^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"util.h"[39;49;00m[36m[39;49;00m$
   235^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"st.h"[39;49;00m[36m[39;49;00m$
   236^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m"node.h"[39;49;00m[36m[39;49;00m$
   237^I[37m[39;49;00m$
   238^IVALUE[37m [39;49;00mrb_cArray,[37m [39;49;00mrb_cValues;[37m[39;49;00m$
   239^I[37m[39;49;00m$
   240^I[34mstatic[39;49;00m[37m [39;49;00mID[37m [39;49;00mid_cmp;[37m[39;49;00m$
   241^I[37m[39;49;00m$
   242^I[36m#[39;49;00m[36mdefine ARY_DEFAULT_SIZE 16[39;49;00m[36m[39;49;00m$
   243^I[37m[39;49;00m$
   244^I[37m[39;49;00m$
   245^I[36mvoid[39;49;00m[37m[39;49;00m$
   246^I[32mrb_mem_clear[39;49;00m(mem,[37m [39;49;00msize)[37m[39;49;00m$
   247^I[37m    [39;49;00m[34mregister[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00m*mem;[37m[39;49;00m$
   248^I[37m    [39;49;00m[34mregister[39;49;00m[37m [39;49;00m[36mlong[39;49;00m[37m [39;49;00msize;[37m[39;49;00m$
   249^I{[37m[39;49;00m$
   250^I[37m    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(size--)[37m [39;49;00m{[37m[39;49;00m$
   251^I[37m^I[39;49;00m*mem++[37m [39;49;00m=[37m [39;49;00mQnil;[37m[39;49;00m$
   252^I[37m    [39;49;00m}[37m[39;49;00m$
   253^I}[37m[39;49;00m$
   254^I[37m[39;49;00m$
   255^I[34mstatic[39;49;00m[37m [39;49;00m[34minline[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m[39;49;00m$
   256^Imemfill(mem,[37m [39;49;00msize,[37m [39;49;00mval)[37m[39;49;00m$
   257^I[37m    [39;49;00m[34mregister[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00m*mem;[37m[39;49;00m$
   258^I[37m    [39;49;00m[34mregister[39;49;00m[37m [39;49;00m[36mlong[39;49;00m[37m [39;49;00msize;[37m[39;49;00m$
   259^I[37m    [39;49;00m[34mregister[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
   260^I{[37m[39;49;00m$
   261^I[37m    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(size--)[37m [39;49;00m{[37m[39;49;00m$
   262^I[37m^I[39;49;00m*mem++[37m [39;49;00m=[37m [39;49;00mval;[37m[39;49;00m$
   263^I[37m    [39;49;00m}[37m[39;49;00m$
   264^I}[37m[39;49;00m$
   265^I[37m[39;49;00m$
   266^I[36m#[39;49;00m[36mdefine ARY_TMPLOCK  FL_USER1[39;49;00m[36m[39;49;00m$
   267^I[37m[39;49;00m$
   268^I[34mstatic[39;49;00m[37m [39;49;00m[34minline[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m[39;49;00m$
   269^Irb_ary_modify_check(ary)[37m[39;49;00m$
   270^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   271^I{[37m[39;49;00m$
   272^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(OBJ_FROZEN(ary))[37m [39;49;00mrb_error_frozen([33m"[39;49;00m[33marray[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   273^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FL_TEST(ary,[37m [39;49;00mARY_TMPLOCK))[37m[39;49;00m$
   274^I[37m^I[39;49;00mrb_raise(rb_eRuntimeError,[37m [39;49;00m[33m"[39;49;00m[33mcan't modify array during iteration[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   275^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(!OBJ_TAINTED(ary)[37m [39;49;00m&&[37m [39;49;00mrb_safe_level()[37m [39;49;00m>=[37m [39;49;00m[34m4[39;49;00m)[37m[39;49;00m$
   276^I[37m^I[39;49;00mrb_raise(rb_eSecurityError,[37m [39;49;00m[33m"[39;49;00m[33mInsecure: can't modify array[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   277^I}[37m[39;49;00m$
   278^I[37m[39;49;00m$
   279^I[34mstatic[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m[39;49;00m$
   280^Irb_ary_modify(ary)[37m[39;49;00m$
   281^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   282^I{[37m[39;49;00m$
   283^I[37m    [39;49;00mVALUE[37m [39;49;00m*ptr;[37m[39;49;00m$
   284^I[37m[39;49;00m$
   285^I[37m    [39;49;00mrb_ary_modify_check(ary);[37m[39;49;00m$
   286^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FL_TEST(ary,[37m [39;49;00mELTS_SHARED))[37m [39;49;00m{[37m[39;49;00m$
   287^I[37m^I[39;49;00mptr[37m [39;49;00m=[37m [39;49;00mALLOC_N(VALUE,[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
   288^I[37m^I[39;49;00mFL_UNSET(ary,[37m [39;49;00mELTS_SHARED);[37m[39;49;00m$
   289^I[37m^I[39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   290^I[37m^I[39;49;00mMEMCPY(ptr,[37m [39;49;00mRARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
   291^I[37m^I[39;49;00mRARRAY(ary)->ptr[37m [39;49;00m=[37m [39;49;00mptr;[37m[39;49;00m$
   292^I[37m    [39;49;00m}[37m[39;49;00m$
   293^I}[37m[39;49;00m$
   294^I[37m[39;49;00m$
   295^IVALUE[37m[39;49;00m$
   296^Irb_ary_freeze(ary)[37m[39;49;00m$
   297^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   298^I{[37m[39;49;00m$
   299^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_obj_freeze(ary);[37m[39;49;00m$
   300^I}[37m[39;49;00m$
   301^I[37m[39;49;00m$
   302^I[37m/*[39;49;00m$
   303^I[37m *  call-seq:[39;49;00m$
   304^I[37m *     array.frozen?  -> true or false[39;49;00m$
   305^I[37m *[39;49;00m$
   306^I[37m *  Return <code>true</code> if this array is frozen (or temporarily frozen[39;49;00m$
   307^I[37m *  while being sorted).[39;49;00m$
   308^I[37m */[39;49;00m[37m[39;49;00m$
   309^I[37m[39;49;00m$
   310^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   311^Irb_ary_frozen_p(ary)[37m[39;49;00m$
   312^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   313^I{[37m[39;49;00m$
   314^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(OBJ_FROZEN(ary))[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQtrue;[37m[39;49;00m$
   315^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FL_TEST(ary,[37m [39;49;00mARY_TMPLOCK))[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQtrue;[37m[39;49;00m$
   316^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQfalse;[37m[39;49;00m$
   317^I}[37m[39;49;00m$
   318^I[37m[39;49;00m$
   319^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00mary_alloc(VALUE);[37m[39;49;00m$
   320^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   321^I[32mary_alloc[39;49;00m(klass)[37m[39;49;00m$
   322^I[37m    [39;49;00mVALUE[37m [39;49;00mklass;[37m[39;49;00m$
   323^I{[37m[39;49;00m$
   324^I[37m    [39;49;00mNEWOBJ(ary,[37m [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mRArray[39;49;00m);[37m[39;49;00m$
   325^I[37m    [39;49;00mOBJSETUP(ary,[37m [39;49;00mklass,[37m [39;49;00mT_ARRAY);[37m[39;49;00m$
   326^I[37m[39;49;00m$
   327^I[37m    [39;49;00mary->len[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   328^I[37m    [39;49;00mary->ptr[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   329^I[37m    [39;49;00mary->aux.capa[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   330^I[37m[39;49;00m$
   331^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m(VALUE)ary;[37m[39;49;00m$
   332^I}[37m[39;49;00m$
   333^I[37m[39;49;00m$
   334^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   335^Iary_new(klass,[37m [39;49;00mlen)[37m[39;49;00m$
   336^I[37m    [39;49;00mVALUE[37m [39;49;00mklass;[37m[39;49;00m$
   337^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen;[37m[39;49;00m$
   338^I{[37m[39;49;00m$
   339^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   340^I[37m[39;49;00m$
   341^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   342^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mnegative array size (or size too big)[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   343^I[37m    [39;49;00m}[37m[39;49;00m$
   344^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m&&[37m [39;49;00mlen[37m [39;49;00m*[37m [39;49;00m[34msizeof[39;49;00m(VALUE)[37m [39;49;00m<=[37m [39;49;00mlen)[37m [39;49;00m{[37m[39;49;00m$
   345^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33marray size too big[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   346^I[37m    [39;49;00m}[37m[39;49;00m$
   347^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00mlen++;[37m[39;49;00m$
   348^I[37m    [39;49;00m[37m[39;49;00m$
   349^I[37m    [39;49;00mary[37m [39;49;00m=[37m [39;49;00mary_alloc(klass);[37m[39;49;00m$
   350^I[37m    [39;49;00mRARRAY(ary)->ptr[37m [39;49;00m=[37m [39;49;00mALLOC_N(VALUE,[37m [39;49;00mlen);[37m[39;49;00m$
   351^I[37m    [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
   352^I[37m[39;49;00m$
   353^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   354^I}[37m[39;49;00m$
   355^I[37m[39;49;00m$
   356^IVALUE[37m[39;49;00m$
   357^Irb_ary_new2(len)[37m[39;49;00m$
   358^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen;[37m[39;49;00m$
   359^I{[37m[39;49;00m$
   360^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_new(rb_cArray,[37m [39;49;00mlen);[37m[39;49;00m$
   361^I}[37m[39;49;00m$
   362^I[37m[39;49;00m$
   363^I[37m[39;49;00m$
   364^IVALUE[37m[39;49;00m$
   365^Irb_ary_new()[37m[39;49;00m$
   366^I{[37m[39;49;00m$
   367^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_new2(ARY_DEFAULT_SIZE);[37m[39;49;00m$
   368^I}[37m[39;49;00m$
   369^I[37m[39;49;00m$
   370^I[36m#[39;49;00m[36mifdef HAVE_STDARG_PROTOTYPES[39;49;00m[36m[39;49;00m$
   371^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m<stdarg.h>[39;49;00m[36m[39;49;00m$
   372^I[36m#[39;49;00m[36mdefine va_init_list(a,b) va_start(a,b)[39;49;00m[36m[39;49;00m$
   373^I[36m#[39;49;00m[36melse[39;49;00m[36m[39;49;00m$
   374^I[36m#[39;49;00m[36minclude[39;49;00m[37m [39;49;00m[37m<varargs.h>[39;49;00m[36m[39;49;00m$
   375^I[36m#[39;49;00m[36mdefine va_init_list(a,b) va_start(a)[39;49;00m[36m[39;49;00m$
   376^I[36m#[39;49;00m[36mendif[39;49;00m[36m[39;49;00m$
   377^I[37m[39;49;00m$
   378^IVALUE[37m[39;49;00m$
   379^I[36m#[39;49;00m[36mifdef HAVE_STDARG_PROTOTYPES[39;49;00m[36m[39;49;00m$
   380^Irb_ary_new3([36mlong[39;49;00m[37m [39;49;00mn,[37m [39;49;00m...)[37m[39;49;00m$
   381^I[36m#[39;49;00m[36melse[39;49;00m[36m[39;49;00m$
   382^Irb_ary_new3(n,[37m [39;49;00mva_alist)[37m[39;49;00m$
   383^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   384^I[37m    [39;49;00mva_dcl[37m[39;49;00m$
   385^I[36m#[39;49;00m[36mendif[39;49;00m[36m[39;49;00m$
   386^I{[37m[39;49;00m$
   387^I[37m    [39;49;00m[36mva_list[39;49;00m[37m [39;49;00mar;[37m[39;49;00m$
   388^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   389^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
   390^I[37m[39;49;00m$
   391^I[37m    [39;49;00mary[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(n);[37m[39;49;00m$
   392^I[37m[39;49;00m$
   393^I[37m    [39;49;00mva_init_list(ar,[37m [39;49;00mn);[37m[39;49;00m$
   394^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<n;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
   395^I[37m^I[39;49;00mRARRAY(ary)->ptr[i][37m [39;49;00m=[37m [39;49;00mva_arg(ar,[37m [39;49;00mVALUE);[37m[39;49;00m$
   396^I[37m    [39;49;00m}[37m[39;49;00m$
   397^I[37m    [39;49;00mva_end(ar);[37m[39;49;00m$
   398^I[37m[39;49;00m$
   399^I[37m    [39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mn;[37m[39;49;00m$
   400^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   401^I}[37m[39;49;00m$
   402^I[37m[39;49;00m$
   403^IVALUE[37m[39;49;00m$
   404^Irb_ary_new4(n,[37m [39;49;00melts)[37m[39;49;00m$
   405^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   406^I[37m    [39;49;00m[34mconst[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00m*elts;[37m[39;49;00m$
   407^I{[37m[39;49;00m$
   408^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   409^I[37m[39;49;00m$
   410^I[37m    [39;49;00mary[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(n);[37m[39;49;00m$
   411^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(n[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m&&[37m [39;49;00melts)[37m [39;49;00m{[37m[39;49;00m$
   412^I[37m^I[39;49;00mMEMCPY(RARRAY(ary)->ptr,[37m [39;49;00melts,[37m [39;49;00mVALUE,[37m [39;49;00mn);[37m[39;49;00m$
   413^I[37m    [39;49;00m}[37m[39;49;00m$
   414^I[37m    [39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mn;[37m[39;49;00m$
   415^I[37m[39;49;00m$
   416^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   417^I}[37m[39;49;00m$
   418^I[37m[39;49;00m$
   419^IVALUE[37m[39;49;00m$
   420^I[36m#[39;49;00m[36mifdef HAVE_STDARG_PROTOTYPES[39;49;00m[36m[39;49;00m$
   421^Irb_values_new([36mlong[39;49;00m[37m [39;49;00mn,[37m [39;49;00m...)[37m[39;49;00m$
   422^I[36m#[39;49;00m[36melse[39;49;00m[36m[39;49;00m$
   423^Irb_values_new(n,[37m [39;49;00mva_alist)[37m[39;49;00m$
   424^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   425^I[37m    [39;49;00mva_dcl[37m[39;49;00m$
   426^I[36m#[39;49;00m[36mendif[39;49;00m[36m[39;49;00m$
   427^I{[37m[39;49;00m$
   428^I[37m    [39;49;00m[36mva_list[39;49;00m[37m [39;49;00mar;[37m[39;49;00m$
   429^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
   430^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
   431^I[37m[39;49;00m$
   432^I[37m    [39;49;00mval[37m [39;49;00m=[37m [39;49;00mary_new(rb_cValues,[37m [39;49;00mn);[37m[39;49;00m$
   433^I[37m    [39;49;00mva_init_list(ar,[37m [39;49;00mn);[37m[39;49;00m$
   434^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<n;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
   435^I[37m^I[39;49;00mRARRAY(val)->ptr[i][37m [39;49;00m=[37m [39;49;00mva_arg(ar,[37m [39;49;00mVALUE);[37m[39;49;00m$
   436^I[37m    [39;49;00m}[37m[39;49;00m$
   437^I[37m    [39;49;00mva_end(ar);[37m[39;49;00m$
   438^I[37m    [39;49;00mRARRAY(val)->len[37m [39;49;00m=[37m [39;49;00mn;[37m[39;49;00m$
   439^I[37m[39;49;00m$
   440^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mval;[37m[39;49;00m$
   441^I}[37m[39;49;00m$
   442^I[37m[39;49;00m$
   443^IVALUE[37m[39;49;00m$
   444^Irb_values_new2(n,[37m [39;49;00melts)[37m[39;49;00m$
   445^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   446^I[37m    [39;49;00m[34mconst[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00m*elts;[37m[39;49;00m$
   447^I{[37m[39;49;00m$
   448^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
   449^I[37m[39;49;00m$
   450^I[37m    [39;49;00mval[37m [39;49;00m=[37m [39;49;00mary_new(rb_cValues,[37m [39;49;00mn);[37m[39;49;00m$
   451^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(n[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m&&[37m [39;49;00melts)[37m [39;49;00m{[37m[39;49;00m$
   452^I[37m^I[39;49;00mRARRAY(val)->len[37m [39;49;00m=[37m [39;49;00mn;[37m[39;49;00m$
   453^I[37m^I[39;49;00mMEMCPY(RARRAY(val)->ptr,[37m [39;49;00melts,[37m [39;49;00mVALUE,[37m [39;49;00mn);[37m[39;49;00m$
   454^I[37m    [39;49;00m}[37m[39;49;00m$
   455^I[37m[39;49;00m$
   456^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mval;[37m[39;49;00m$
   457^I}[37m[39;49;00m$
   458^I[37m[39;49;00m$
   459^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   460^Iary_make_shared(ary)[37m[39;49;00m$
   461^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   462^I{[37m[39;49;00m$
   463^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(!FL_TEST(ary,[37m [39;49;00mELTS_SHARED))[37m [39;49;00m{[37m[39;49;00m$
   464^I[37m^I[39;49;00mNEWOBJ(shared,[37m [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mRArray[39;49;00m);[37m[39;49;00m$
   465^I[37m^I[39;49;00mOBJSETUP(shared,[37m [39;49;00mrb_cArray,[37m [39;49;00mT_ARRAY);[37m[39;49;00m$
   466^I[37m[39;49;00m$
   467^I[37m^I[39;49;00mshared->len[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   468^I[37m^I[39;49;00mshared->ptr[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr;[37m[39;49;00m$
   469^I[37m^I[39;49;00mshared->aux.capa[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->aux.capa;[37m[39;49;00m$
   470^I[37m^I[39;49;00mRARRAY(ary)->aux.shared[37m [39;49;00m=[37m [39;49;00m(VALUE)shared;[37m[39;49;00m$
   471^I[37m^I[39;49;00mFL_SET(ary,[37m [39;49;00mELTS_SHARED);[37m[39;49;00m$
   472^I[37m^I[39;49;00mOBJ_FREEZE(shared);[37m[39;49;00m$
   473^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00m(VALUE)shared;[37m[39;49;00m$
   474^I[37m    [39;49;00m}[37m[39;49;00m$
   475^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
   476^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->aux.shared;[37m[39;49;00m$
   477^I[37m    [39;49;00m}[37m[39;49;00m$
   478^I}[37m[39;49;00m$
   479^I[37m[39;49;00m$
   480^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   481^Iary_shared_array(klass,[37m [39;49;00mary)[37m[39;49;00m$
   482^I[37m    [39;49;00mVALUE[37m [39;49;00mklass,[37m [39;49;00mary;[37m[39;49;00m$
   483^I{[37m[39;49;00m$
   484^I[37m    [39;49;00mVALUE[37m [39;49;00mval[37m [39;49;00m=[37m [39;49;00mary_alloc(klass);[37m[39;49;00m$
   485^I[37m[39;49;00m$
   486^I[37m    [39;49;00mary_make_shared(ary);[37m[39;49;00m$
   487^I[37m    [39;49;00mRARRAY(val)->ptr[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr;[37m[39;49;00m$
   488^I[37m    [39;49;00mRARRAY(val)->len[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   489^I[37m    [39;49;00mRARRAY(val)->aux.shared[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->aux.shared;[37m[39;49;00m$
   490^I[37m    [39;49;00mFL_SET(val,[37m [39;49;00mELTS_SHARED);[37m[39;49;00m$
   491^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mval;[37m[39;49;00m$
   492^I}[37m[39;49;00m$
   493^I[37m[39;49;00m$
   494^IVALUE[37m[39;49;00m$
   495^Irb_values_from_ary(ary)[37m[39;49;00m$
   496^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   497^I{[37m[39;49;00m$
   498^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_shared_array(rb_cValues,[37m [39;49;00mary);[37m[39;49;00m$
   499^I}[37m[39;49;00m$
   500^I[37m[39;49;00m$
   501^IVALUE[37m[39;49;00m$
   502^Irb_ary_from_values(val)[37m[39;49;00m$
   503^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
   504^I{[37m[39;49;00m$
   505^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_shared_array(rb_cArray,[37m [39;49;00mval);[37m[39;49;00m$
   506^I}[37m[39;49;00m$
   507^I[37m[39;49;00m$
   508^IVALUE[37m[39;49;00m$
   509^Irb_assoc_new(car,[37m [39;49;00mcdr)[37m[39;49;00m$
   510^I[37m    [39;49;00mVALUE[37m [39;49;00mcar,[37m [39;49;00mcdr;[37m[39;49;00m$
   511^I{[37m[39;49;00m$
   512^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_values_new([34m2[39;49;00m,[37m [39;49;00mcar,[37m [39;49;00mcdr);[37m[39;49;00m$
   513^I}[37m[39;49;00m$
   514^I[37m[39;49;00m$
   515^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   516^Ito_ary(ary)[37m[39;49;00m$
   517^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   518^I{[37m[39;49;00m$
   519^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_convert_type(ary,[37m [39;49;00mT_ARRAY,[37m [39;49;00m[33m"[39;49;00m[33mArray[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mto_ary[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   520^I}[37m[39;49;00m$
   521^I[37m[39;49;00m$
   522^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   523^Ito_a(ary)[37m[39;49;00m$
   524^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   525^I{[37m[39;49;00m$
   526^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_convert_type(ary,[37m [39;49;00mT_ARRAY,[37m [39;49;00m[33m"[39;49;00m[33mArray[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mto_a[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   527^I}[37m[39;49;00m$
   528^I[37m[39;49;00m$
   529^IVALUE[37m[39;49;00m$
   530^Irb_check_array_type(ary)[37m[39;49;00m$
   531^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   532^I{[37m[39;49;00m$
   533^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_check_convert_type(ary,[37m [39;49;00mT_ARRAY,[37m [39;49;00m[33m"[39;49;00m[33mArray[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mto_ary[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   534^I}[37m[39;49;00m$
   535^I[37m[39;49;00m$
   536^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00mrb_ary_replace[37m [39;49;00m_((VALUE,[37m [39;49;00mVALUE));[37m[39;49;00m$
   537^I[37m[39;49;00m$
   538^I[37m/*[39;49;00m$
   539^I[37m *  call-seq:[39;49;00m$
   540^I[37m *     Array.new(size=0, obj=nil)[39;49;00m$
   541^I[37m *     Array.new(array)[39;49;00m$
   542^I[37m *     Array.new(size) {|index| block }[39;49;00m$
   543^I[37m *[39;49;00m$
   544^I[37m *  Returns a new array. In the first form, the new array is[39;49;00m$
   545^I[37m *  empty. In the second it is created with _size_ copies of _obj_[39;49;00m$
   546^I[37m *  (that is, _size_ references to the same[39;49;00m$
   547^I[37m *  _obj_). The third form creates a copy of the array[39;49;00m$
   548^I[37m *  passed as a parameter (the array is generated by calling[39;49;00m$
   549^I[37m *  to_ary  on the parameter). In the last form, an array[39;49;00m$
   550^I[37m *  of the given size is created. Each element in this array is[39;49;00m$
   551^I[37m *  calculated by passing the element's index to the given block and[39;49;00m$
   552^I[37m *  storing the return value.[39;49;00m$
   553^I[37m *[39;49;00m$
   554^I[37m *     Array.new[39;49;00m$
   555^I[37m *     Array.new(2)[39;49;00m$
   556^I[37m *     Array.new(5, "A")[39;49;00m$
   557^I[37m * [39;49;00m$
   558^I[37m *     # only one copy of the object is created[39;49;00m$
   559^I[37m *     a = Array.new(2, Hash.new)[39;49;00m$
   560^I[37m *     a[0]['cat'] = 'feline'[39;49;00m$
   561^I[37m *     a[39;49;00m$
   562^I[37m *     a[1]['cat'] = 'Felix'[39;49;00m$
   563^I[37m *     a[39;49;00m$
   564^I[37m * [39;49;00m$
   565^I[37m *     # here multiple copies are created[39;49;00m$
   566^I[37m *     a = Array.new(2) { Hash.new }[39;49;00m$
   567^I[37m *     a[0]['cat'] = 'feline'[39;49;00m$
   568^I[37m *     a[39;49;00m$
   569^I[37m * [39;49;00m$
   570^I[37m *     squares = Array.new(5) {|i| i*i}[39;49;00m$
   571^I[37m *     squares[39;49;00m$
   572^I[37m * [39;49;00m$
   573^I[37m *     copy = Array.new(squares)[39;49;00m$
   574^I[37m */[39;49;00m[37m[39;49;00m$
   575^I[37m[39;49;00m$
   576^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   577^I[32mrb_ary_initialize[39;49;00m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   578^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   579^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   580^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   581^I{[37m[39;49;00m$
   582^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen;[37m[39;49;00m$
   583^I[37m    [39;49;00mVALUE[37m [39;49;00msize,[37m [39;49;00mval;[37m[39;49;00m$
   584^I[37m[39;49;00m$
   585^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m02[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&size,[37m [39;49;00m&val)[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   586^I[37m^I[39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   587^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_block_given_p())[37m [39;49;00m{[37m[39;49;00m$
   588^I[37m^I    [39;49;00mrb_warning([33m"[39;49;00m[33mgiven block not used[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   589^I[37m^I[39;49;00m}[37m[39;49;00m$
   590^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   591^I[37m    [39;49;00m}[37m[39;49;00m$
   592^I[37m[39;49;00m$
   593^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m&&[37m [39;49;00m!FIXNUM_P(size))[37m [39;49;00m{[37m[39;49;00m$
   594^I[37m^I[39;49;00mval[37m [39;49;00m=[37m [39;49;00mrb_check_array_type(size);[37m[39;49;00m$
   595^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(!NIL_P(val))[37m [39;49;00m{[37m[39;49;00m$
   596^I[37m^I    [39;49;00mrb_ary_replace(ary,[37m [39;49;00mval);[37m[39;49;00m$
   597^I[37m^I    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   598^I[37m^I[39;49;00m}[37m[39;49;00m$
   599^I[37m    [39;49;00m}[37m[39;49;00m$
   600^I[37m[39;49;00m$
   601^I[37m    [39;49;00mlen[37m [39;49;00m=[37m [39;49;00mNUM2LONG(size);[37m[39;49;00m$
   602^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   603^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mnegative array size[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   604^I[37m    [39;49;00m}[37m[39;49;00m$
   605^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m&&[37m [39;49;00mlen[37m [39;49;00m*[37m [39;49;00m([36mlong[39;49;00m)[34msizeof[39;49;00m(VALUE)[37m [39;49;00m<=[37m [39;49;00mlen)[37m [39;49;00m{[37m[39;49;00m$
   606^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33marray size too big[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   607^I[37m    [39;49;00m}[37m[39;49;00m$
   608^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
   609^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->aux.capa)[37m [39;49;00m{[37m[39;49;00m$
   610^I[37m^I[39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mlen);[37m[39;49;00m$
   611^I[37m^I[39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
   612^I[37m    [39;49;00m}[37m[39;49;00m$
   613^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_block_given_p())[37m [39;49;00m{[37m[39;49;00m$
   614^I[37m^I[39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
   615^I[37m[39;49;00m$
   616^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   617^I[37m^I    [39;49;00mrb_warn([33m"[39;49;00m[33mblock supersedes default value argument[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   618^I[37m^I[39;49;00m}[37m[39;49;00m$
   619^I[37m^I[39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
   620^I[37m^I    [39;49;00mrb_ary_store(ary,[37m [39;49;00mi,[37m [39;49;00mrb_yield(LONG2NUM(i)));[37m[39;49;00m$
   621^I[37m^I    [39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mi[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
   622^I[37m^I[39;49;00m}[37m[39;49;00m$
   623^I[37m    [39;49;00m}[37m[39;49;00m$
   624^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
   625^I[37m^I[39;49;00mmemfill(RARRAY(ary)->ptr,[37m [39;49;00mlen,[37m [39;49;00mval);[37m[39;49;00m$
   626^I[37m^I[39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
   627^I[37m    [39;49;00m}[37m[39;49;00m$
   628^I[37m[39;49;00m$
   629^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   630^I}[37m[39;49;00m$
   631^I[37m[39;49;00m$
   632^I[37m[39;49;00m$
   633^I[37m/* [39;49;00m$
   634^I[37m* Returns a new array populated with the given objects. [39;49;00m$
   635^I[37m*[39;49;00m$
   636^I[37m*   Array.[]( 1, 'a', /^A/ )[39;49;00m$
   637^I[37m*   Array[ 1, 'a', /^A/ ][39;49;00m$
   638^I[37m*   [ 1, 'a', /^A/ ][39;49;00m$
   639^I[37m*/[39;49;00m[37m[39;49;00m$
   640^I[37m[39;49;00m$
   641^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   642^Irb_ary_s_create(argc,[37m [39;49;00margv,[37m [39;49;00mklass)[37m[39;49;00m$
   643^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   644^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   645^I[37m    [39;49;00mVALUE[37m [39;49;00mklass;[37m[39;49;00m$
   646^I{[37m[39;49;00m$
   647^I[37m    [39;49;00mVALUE[37m [39;49;00mary[37m [39;49;00m=[37m [39;49;00mary_alloc(klass);[37m[39;49;00m$
   648^I[37m[39;49;00m$
   649^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   650^I[37m^I[39;49;00mRARRAY(ary)->ptr[37m [39;49;00m=[37m [39;49;00mALLOC_N(VALUE,[37m [39;49;00margc);[37m[39;49;00m$
   651^I[37m^I[39;49;00mMEMCPY(RARRAY(ary)->ptr,[37m [39;49;00margv,[37m [39;49;00mVALUE,[37m [39;49;00margc);[37m[39;49;00m$
   652^I[37m    [39;49;00m}[37m[39;49;00m$
   653^I[37m    [39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00margc;[37m[39;49;00m$
   654^I[37m[39;49;00m$
   655^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   656^I}[37m[39;49;00m$
   657^I[37m[39;49;00m$
   658^I[36mvoid[39;49;00m[37m[39;49;00m$
   659^Irb_ary_store(ary,[37m [39;49;00midx,[37m [39;49;00mval)[37m[39;49;00m$
   660^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   661^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00midx;[37m[39;49;00m$
   662^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
   663^I{[37m[39;49;00m$
   664^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   665^I[37m^I[39;49;00midx[37m [39;49;00m+=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   666^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   667^I[37m^I    [39;49;00mrb_raise(rb_eIndexError,[37m [39;49;00m[33m"[39;49;00m[33mindex %ld out of array[39;49;00m[33m"[39;49;00m,[37m[39;49;00m$
   668^I[37m^I^I    [39;49;00midx[37m [39;49;00m-[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
   669^I[37m^I[39;49;00m}[37m[39;49;00m$
   670^I[37m    [39;49;00m}[37m[39;49;00m$
   671^I[37m[39;49;00m$
   672^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
   673^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m>=[37m [39;49;00mRARRAY(ary)->aux.capa)[37m [39;49;00m{[37m[39;49;00m$
   674^I[37m^I[39;49;00m[36mlong[39;49;00m[37m [39;49;00mnew_capa[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m/[37m [39;49;00m[34m2[39;49;00m;[37m[39;49;00m$
   675^I[37m[39;49;00m$
   676^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(new_capa[37m [39;49;00m<[37m [39;49;00mARY_DEFAULT_SIZE)[37m [39;49;00m{[37m[39;49;00m$
   677^I[37m^I    [39;49;00mnew_capa[37m [39;49;00m=[37m [39;49;00mARY_DEFAULT_SIZE;[37m[39;49;00m$
   678^I[37m^I[39;49;00m}[37m[39;49;00m$
   679^I[37m^I[39;49;00mnew_capa[37m [39;49;00m+=[37m [39;49;00midx;[37m[39;49;00m$
   680^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(new_capa[37m [39;49;00m*[37m [39;49;00m([36mlong[39;49;00m)[34msizeof[39;49;00m(VALUE)[37m [39;49;00m<=[37m [39;49;00mnew_capa)[37m [39;49;00m{[37m[39;49;00m$
   681^I[37m^I    [39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mindex too big[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   682^I[37m^I[39;49;00m}[37m[39;49;00m$
   683^I[37m^I[39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mnew_capa);[37m[39;49;00m$
   684^I[37m^I[39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mnew_capa;[37m[39;49;00m$
   685^I[37m    [39;49;00m}[37m[39;49;00m$
   686^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
   687^I[37m^I[39;49;00mrb_mem_clear(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mRARRAY(ary)->len,[37m[39;49;00m$
   688^I[37m^I^I     [39;49;00midx-RARRAY(ary)->len[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m);[37m[39;49;00m$
   689^I[37m    [39;49;00m}[37m[39;49;00m$
   690^I[37m[39;49;00m$
   691^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m>=[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
   692^I[37m^I[39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00midx[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
   693^I[37m    [39;49;00m}[37m[39;49;00m$
   694^I[37m    [39;49;00mRARRAY(ary)->ptr[idx][37m [39;49;00m=[37m [39;49;00mval;[37m[39;49;00m$
   695^I}[37m[39;49;00m$
   696^I[37m[39;49;00m$
   697^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   698^Iary_shared_first(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   699^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   700^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   701^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   702^I{[37m[39;49;00m$
   703^I[37m    [39;49;00mVALUE[37m [39;49;00mnv,[37m [39;49;00mresult;[37m[39;49;00m$
   704^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   705^I[37m[39;49;00m$
   706^I[37m    [39;49;00mrb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m1[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&nv);[37m[39;49;00m$
   707^I[37m    [39;49;00mn[37m [39;49;00m=[37m [39;49;00mNUM2LONG(nv);[37m[39;49;00m$
   708^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(n[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
   709^I[37m^I[39;49;00mn[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   710^I[37m    [39;49;00m}[37m[39;49;00m$
   711^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m(n[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   712^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mnegative array size[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
   713^I[37m    [39;49;00m}[37m[39;49;00m$
   714^I[37m    [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mary_shared_array(rb_cArray,[37m [39;49;00mary);[37m[39;49;00m$
   715^I[37m    [39;49;00mRARRAY(result)->len[37m [39;49;00m=[37m [39;49;00mn;[37m[39;49;00m$
   716^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
   717^I}[37m[39;49;00m$
   718^I[37m[39;49;00m$
   719^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   720^Iary_shared_last(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   721^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   722^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   723^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   724^I{[37m[39;49;00m$
   725^I[37m    [39;49;00mVALUE[37m [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mary_shared_first(argc,[37m [39;49;00margv,[37m [39;49;00mary);[37m[39;49;00m$
   726^I[37m[39;49;00m$
   727^I[37m    [39;49;00mRARRAY(result)->ptr[37m [39;49;00m+=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00mRARRAY(result)->len;[37m[39;49;00m$
   728^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
   729^I}[37m[39;49;00m$
   730^I[37m[39;49;00m$
   731^I[37m/*[39;49;00m$
   732^I[37m *  call-seq:[39;49;00m$
   733^I[37m *     array << obj            -> array[39;49;00m$
   734^I[37m *  [39;49;00m$
   735^I[37m *  Append---Pushes the given object on to the end of this array. This[39;49;00m$
   736^I[37m *  expression returns the array itself, so several appends[39;49;00m$
   737^I[37m *  may be chained together.[39;49;00m$
   738^I[37m *[39;49;00m$
   739^I[37m *     [ 1, 2 ] << "c" << "d" << [ 3, 4 ][39;49;00m$
   740^I[37m *             #=>  [ 1, 2, "c", "d", [ 3, 4 ] ][39;49;00m$
   741^I[37m *[39;49;00m$
   742^I[37m */[39;49;00m[37m[39;49;00m$
   743^I[37m[39;49;00m$
   744^IVALUE[37m[39;49;00m$
   745^Irb_ary_push(ary,[37m [39;49;00mitem)[37m[39;49;00m$
   746^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   747^I[37m    [39;49;00mVALUE[37m [39;49;00mitem;[37m[39;49;00m$
   748^I{[37m[39;49;00m$
   749^I[37m    [39;49;00mrb_ary_store(ary,[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00mitem);[37m[39;49;00m$
   750^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   751^I}[37m[39;49;00m$
   752^I[37m[39;49;00m$
   753^I[37m/* [39;49;00m$
   754^I[37m *  call-seq:[39;49;00m$
   755^I[37m *     array.push(obj, ... )   -> array[39;49;00m$
   756^I[37m *  [39;49;00m$
   757^I[37m *  Append---Pushes the given object(s) on to the end of this array. This[39;49;00m$
   758^I[37m *  expression returns the array itself, so several appends[39;49;00m$
   759^I[37m *  may be chained together.[39;49;00m$
   760^I[37m *[39;49;00m$
   761^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
   762^I[37m *     a.push("d", "e", "f")  [39;49;00m$
   763^I[37m *             #=> ["a", "b", "c", "d", "e", "f"][39;49;00m$
   764^I[37m */[39;49;00m[37m[39;49;00m$
   765^I[37m[39;49;00m$
   766^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   767^Irb_ary_push_m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   768^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   769^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   770^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   771^I{[37m[39;49;00m$
   772^I[37m    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(argc--)[37m [39;49;00m{[37m[39;49;00m$
   773^I[37m^I[39;49;00mrb_ary_push(ary,[37m [39;49;00m*argv++);[37m[39;49;00m$
   774^I[37m    [39;49;00m}[37m[39;49;00m$
   775^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   776^I}[37m[39;49;00m$
   777^I[37m[39;49;00m$
   778^IVALUE[37m[39;49;00m$
   779^Irb_ary_pop(ary)[37m[39;49;00m$
   780^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   781^I{[37m[39;49;00m$
   782^I[37m    [39;49;00mrb_ary_modify_check(ary);[37m[39;49;00m$
   783^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   784^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(!FL_TEST(ary,[37m [39;49;00mELTS_SHARED)[37m [39;49;00m&&[37m[39;49;00m$
   785^I[37m^I    [39;49;00mRARRAY(ary)->len[37m [39;49;00m*[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m<[37m [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m&&[37m[39;49;00m$
   786^I[37m^I    [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m>[37m [39;49;00mARY_DEFAULT_SIZE)[37m [39;49;00m{[37m[39;49;00m$
   787^I[37m^I[39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m*[37m [39;49;00m[34m2[39;49;00m;[37m[39;49;00m$
   788^I[37m^I[39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->aux.capa);[37m[39;49;00m$
   789^I[37m    [39;49;00m}[37m[39;49;00m$
   790^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->ptr[--RARRAY(ary)->len];[37m[39;49;00m$
   791^I}[37m[39;49;00m$
   792^I[37m[39;49;00m$
   793^I[37m/*[39;49;00m$
   794^I[37m *  call-seq:[39;49;00m$
   795^I[37m *     array.pop  -> obj or nil[39;49;00m$
   796^I[37m *  [39;49;00m$
   797^I[37m *  Removes the last element from <i>self</i> and returns it, or[39;49;00m$
   798^I[37m *  <code>nil</code> if the array is empty.[39;49;00m$
   799^I[37m *     [39;49;00m$
   800^I[37m *     a = [ "a", "b", "c", "d" ][39;49;00m$
   801^I[37m *     a.pop     #=> "d"[39;49;00m$
   802^I[37m *     a.pop(2)  #=> ["b", "c"][39;49;00m$
   803^I[37m *     a         #=> ["a"][39;49;00m$
   804^I[37m */[39;49;00m[37m[39;49;00m$
   805^I[37m[39;49;00m$
   806^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   807^Irb_ary_pop_m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   808^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   809^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   810^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   811^I{[37m[39;49;00m$
   812^I[37m    [39;49;00mVALUE[37m [39;49;00mresult;[37m[39;49;00m$
   813^I[37m[39;49;00m$
   814^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   815^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_pop(ary);[37m[39;49;00m$
   816^I[37m    [39;49;00m}[37m[39;49;00m$
   817^I[37m[39;49;00m$
   818^I[37m    [39;49;00mrb_ary_modify_check(ary);[37m[39;49;00m$
   819^I[37m[39;49;00m$
   820^I[37m    [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mary_shared_last(argc,[37m [39;49;00margv,[37m [39;49;00mary);[37m[39;49;00m$
   821^I[37m    [39;49;00mRARRAY(ary)->len[37m [39;49;00m-=[37m [39;49;00mRARRAY(result)->len;[37m[39;49;00m$
   822^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
   823^I}[37m[39;49;00m$
   824^I[37m[39;49;00m$
   825^IVALUE[37m[39;49;00m$
   826^Irb_ary_shift(ary)[37m[39;49;00m$
   827^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   828^I{[37m[39;49;00m$
   829^I[37m    [39;49;00mVALUE[37m [39;49;00mtop;[37m[39;49;00m$
   830^I[37m[39;49;00m$
   831^I[37m    [39;49;00mrb_ary_modify_check(ary);[37m[39;49;00m$
   832^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   833^I[37m    [39;49;00mtop[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr[[34m0[39;49;00m];[37m[39;49;00m$
   834^I[37m    [39;49;00mary_make_shared(ary);[37m[39;49;00m$
   835^I[37m    [39;49;00mRARRAY(ary)->ptr++;[37m^I^I[39;49;00m[37m/* shift ptr */[39;49;00m[37m[39;49;00m$
   836^I[37m    [39;49;00mRARRAY(ary)->len--;[37m[39;49;00m$
   837^I[37m[39;49;00m$
   838^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mtop;[37m[39;49;00m$
   839^I}[37m[39;49;00m$
   840^I[37m[39;49;00m$
   841^I[37m/*[39;49;00m$
   842^I[37m *  call-seq:[39;49;00m$
   843^I[37m *     array.shift   ->   obj or nil[39;49;00m$
   844^I[37m *  [39;49;00m$
   845^I[37m *  Returns the first element of <i>self</i> and removes it (shifting all[39;49;00m$
   846^I[37m *  other elements down by one). Returns <code>nil</code> if the array[39;49;00m$
   847^I[37m *  is empty.[39;49;00m$
   848^I[37m *     [39;49;00m$
   849^I[37m *     args = [ "-m", "-q", "filename" ][39;49;00m$
   850^I[37m *     args.shift     #=> "-m"[39;49;00m$
   851^I[37m *     args           #=> ["-q", "filename"][39;49;00m$
   852^I[37m *[39;49;00m$
   853^I[37m *     args = [ "-m", "-q", "filename" ][39;49;00m$
   854^I[37m *     args.shift(2)  #=> ["-m", "-q"][39;49;00m$
   855^I[37m *     args           #=> ["filename"][39;49;00m$
   856^I[37m */[39;49;00m[37m[39;49;00m$
   857^I[37m[39;49;00m$
   858^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   859^Irb_ary_shift_m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   860^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   861^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   862^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   863^I{[37m[39;49;00m$
   864^I[37m    [39;49;00mVALUE[37m [39;49;00mresult;[37m[39;49;00m$
   865^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
   866^I[37m[39;49;00m$
   867^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   868^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_shift(ary);[37m[39;49;00m$
   869^I[37m    [39;49;00m}[37m[39;49;00m$
   870^I[37m[39;49;00m$
   871^I[37m    [39;49;00mrb_ary_modify_check(ary);[37m[39;49;00m$
   872^I[37m[39;49;00m$
   873^I[37m    [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mary_shared_first(argc,[37m [39;49;00margv,[37m [39;49;00mary);[37m[39;49;00m$
   874^I[37m    [39;49;00mn[37m [39;49;00m=[37m [39;49;00mRARRAY(result)->len;[37m[39;49;00m$
   875^I[37m    [39;49;00mRARRAY(ary)->ptr[37m [39;49;00m+=[37m [39;49;00mn;[37m[39;49;00m$
   876^I[37m    [39;49;00mRARRAY(ary)->len[37m [39;49;00m-=[37m [39;49;00mn;[37m[39;49;00m$
   877^I[37m[39;49;00m$
   878^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
   879^I}[37m[39;49;00m$
   880^I[37m[39;49;00m$
   881^IVALUE[37m[39;49;00m$
   882^Irb_ary_unshift(ary,[37m [39;49;00mitem)[37m[39;49;00m$
   883^I[37m    [39;49;00mVALUE[37m [39;49;00mary,[37m [39;49;00mitem;[37m[39;49;00m$
   884^I{[37m[39;49;00m$
   885^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
   886^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00mRARRAY(ary)->aux.capa)[37m [39;49;00m{[37m[39;49;00m$
   887^I[37m^I[39;49;00m[36mlong[39;49;00m[37m [39;49;00mcapa_inc[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m/[37m [39;49;00m[34m2[39;49;00m;[37m[39;49;00m$
   888^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(capa_inc[37m [39;49;00m<[37m [39;49;00mARY_DEFAULT_SIZE)[37m [39;49;00m{[37m[39;49;00m$
   889^I[37m^I    [39;49;00mcapa_inc[37m [39;49;00m=[37m [39;49;00mARY_DEFAULT_SIZE;[37m[39;49;00m$
   890^I[37m^I[39;49;00m}[37m[39;49;00m$
   891^I[37m^I[39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m+=[37m [39;49;00mcapa_inc;[37m[39;49;00m$
   892^I[37m^I[39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->aux.capa);[37m[39;49;00m$
   893^I[37m    [39;49;00m}[37m[39;49;00m$
   894^I[37m[39;49;00m$
   895^I[37m    [39;49;00m[37m/* sliding items */[39;49;00m[37m[39;49;00m$
   896^I[37m    [39;49;00mMEMMOVE(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mRARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
   897^I[37m[39;49;00m$
   898^I[37m    [39;49;00mRARRAY(ary)->len++;[37m[39;49;00m$
   899^I[37m    [39;49;00mRARRAY(ary)->ptr[[34m0[39;49;00m][37m [39;49;00m=[37m [39;49;00mitem;[37m[39;49;00m$
   900^I[37m[39;49;00m$
   901^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   902^I}[37m[39;49;00m$
   903^I[37m[39;49;00m$
   904^I[37m/*[39;49;00m$
   905^I[37m *  call-seq:[39;49;00m$
   906^I[37m *     array.unshift(obj, ...)  -> array[39;49;00m$
   907^I[37m *  [39;49;00m$
   908^I[37m *  Prepends objects to the front of <i>array</i>.[39;49;00m$
   909^I[37m *  other elements up one.[39;49;00m$
   910^I[37m *     [39;49;00m$
   911^I[37m *     a = [ "b", "c", "d" ][39;49;00m$
   912^I[37m *     a.unshift("a")   #=> ["a", "b", "c", "d"][39;49;00m$
   913^I[37m *     a.unshift(1, 2)  #=> [ 1, 2, "a", "b", "c", "d"][39;49;00m$
   914^I[37m */[39;49;00m[37m[39;49;00m$
   915^I[37m[39;49;00m$
   916^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   917^Irb_ary_unshift_m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
   918^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
   919^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
   920^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   921^I{[37m[39;49;00m$
   922^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   923^I[37m[39;49;00m$
   924^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   925^I[37m[39;49;00m$
   926^I[37m    [39;49;00m[37m/* make rooms by setting the last item */[39;49;00m[37m[39;49;00m$
   927^I[37m    [39;49;00mrb_ary_store(ary,[37m [39;49;00mlen[37m [39;49;00m+[37m [39;49;00margc[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mQnil);[37m[39;49;00m$
   928^I[37m[39;49;00m$
   929^I[37m    [39;49;00m[37m/* sliding items */[39;49;00m[37m[39;49;00m$
   930^I[37m    [39;49;00mMEMMOVE(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00margc,[37m [39;49;00mRARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mlen);[37m[39;49;00m$
   931^I[37m    [39;49;00mMEMCPY(RARRAY(ary)->ptr,[37m [39;49;00margv,[37m [39;49;00mVALUE,[37m [39;49;00margc);[37m[39;49;00m$
   932^I[37m    [39;49;00m[37m[39;49;00m$
   933^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
   934^I}[37m[39;49;00m$
   935^I[37m[39;49;00m$
   936^I[37m/* faster version - use this if you don't need to treat negative offset */[39;49;00m[37m[39;49;00m$
   937^I[34mstatic[39;49;00m[37m [39;49;00m[34minline[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   938^Irb_ary_elt(ary,[37m [39;49;00moffset)[37m[39;49;00m$
   939^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   940^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00moffset;[37m[39;49;00m$
   941^I{[37m[39;49;00m$
   942^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   943^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(offset[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m||[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m<=[37m [39;49;00moffset)[37m [39;49;00m{[37m[39;49;00m$
   944^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   945^I[37m    [39;49;00m}[37m[39;49;00m$
   946^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->ptr[offset];[37m[39;49;00m$
   947^I}[37m[39;49;00m$
   948^I[37m[39;49;00m$
   949^IVALUE[37m[39;49;00m$
   950^Irb_ary_entry(ary,[37m [39;49;00moffset)[37m[39;49;00m$
   951^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   952^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00moffset;[37m[39;49;00m$
   953^I{[37m[39;49;00m$
   954^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(offset[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
   955^I[37m^I[39;49;00moffset[37m [39;49;00m+=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
   956^I[37m    [39;49;00m}[37m[39;49;00m$
   957^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_elt(ary,[37m [39;49;00moffset);[37m[39;49;00m$
   958^I}[37m[39;49;00m$
   959^I[37m[39;49;00m$
   960^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
   961^Irb_ary_subseq(ary,[37m [39;49;00mbeg,[37m [39;49;00mlen)[37m[39;49;00m$
   962^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
   963^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mbeg,[37m [39;49;00mlen;[37m[39;49;00m$
   964^I{[37m[39;49;00m$
   965^I[37m    [39;49;00mVALUE[37m [39;49;00mklass,[37m [39;49;00mary2,[37m [39;49;00mshared;[37m[39;49;00m$
   966^I[37m    [39;49;00mVALUE[37m [39;49;00m*ptr;[37m[39;49;00m$
   967^I[37m[39;49;00m$
   968^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   969^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m||[37m [39;49;00mlen[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
   970^I[37m[39;49;00m$
   971^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m+[37m [39;49;00mlen[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
   972^I[37m^I[39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00mbeg;[37m[39;49;00m$
   973^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m[39;49;00m$
   974^I[37m^I    [39;49;00mlen[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
   975^I[37m    [39;49;00m}[37m[39;49;00m$
   976^I[37m    [39;49;00mklass[37m [39;49;00m=[37m [39;49;00mrb_obj_class(ary);[37m[39;49;00m$
   977^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_new(klass,[37m [39;49;00m[34m0[39;49;00m);[37m[39;49;00m$
   978^I[37m[39;49;00m$
   979^I[37m    [39;49;00mshared[37m [39;49;00m=[37m [39;49;00mary_make_shared(ary);[37m[39;49;00m$
   980^I[37m    [39;49;00mptr[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr;[37m[39;49;00m$
   981^I[37m    [39;49;00mary2[37m [39;49;00m=[37m [39;49;00mary_alloc(klass);[37m[39;49;00m$
   982^I[37m    [39;49;00mRARRAY(ary2)->ptr[37m [39;49;00m=[37m [39;49;00mptr[37m [39;49;00m+[37m [39;49;00mbeg;[37m[39;49;00m$
   983^I[37m    [39;49;00mRARRAY(ary2)->len[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
   984^I[37m    [39;49;00mRARRAY(ary2)->aux.shared[37m [39;49;00m=[37m [39;49;00mshared;[37m[39;49;00m$
   985^I[37m    [39;49;00mFL_SET(ary2,[37m [39;49;00mELTS_SHARED);[37m[39;49;00m$
   986^I[37m[39;49;00m$
   987^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary2;[37m[39;49;00m$
   988^I}[37m[39;49;00m$
   989^I[37m[39;49;00m$
   990^I[37m/* [39;49;00m$
   991^I[37m *  call-seq:[39;49;00m$
   992^I[37m *     array[index]                -> obj      or nil[39;49;00m$
   993^I[37m *     array[start, length]        -> an_array or nil[39;49;00m$
   994^I[37m *     array[range]                -> an_array or nil[39;49;00m$
   995^I[37m *     array.slice(index)          -> obj      or nil[39;49;00m$
   996^I[37m *     array.slice(start, length)  -> an_array or nil[39;49;00m$
   997^I[37m *     array.slice(range)          -> an_array or nil[39;49;00m$
   998^I[37m *[39;49;00m$
   999^I[37m *  Element Reference---Returns the element at _index_,[39;49;00m$
  1000^I[37m *  or returns a subarray starting at _start_ and[39;49;00m$
  1001^I[37m *  continuing for _length_ elements, or returns a subarray[39;49;00m$
  1002^I[37m *  specified by _range_.[39;49;00m$
  1003^I[37m *  Negative indices count backward from the end of the[39;49;00m$
  1004^I[37m *  array (-1 is the last element). Returns nil if the index[39;49;00m$
  1005^I[37m *  (or starting index) are out of range.[39;49;00m$
  1006^I[37m *[39;49;00m$
  1007^I[37m *     a = [ "a", "b", "c", "d", "e" ][39;49;00m$
  1008^I[37m *     a[2] +  a[0] + a[1]    #=> "cab"[39;49;00m$
  1009^I[37m *     a[6]                   #=> nil[39;49;00m$
  1010^I[37m *     a[1, 2]                #=> [ "b", "c" ][39;49;00m$
  1011^I[37m *     a[1..3]                #=> [ "b", "c", "d" ][39;49;00m$
  1012^I[37m *     a[4..7]                #=> [ "e" ][39;49;00m$
  1013^I[37m *     a[6..10]               #=> nil[39;49;00m$
  1014^I[37m *     a[-3, 3]               #=> [ "c", "d", "e" ][39;49;00m$
  1015^I[37m *     # special cases[39;49;00m$
  1016^I[37m *     a[5]                   #=> nil[39;49;00m$
  1017^I[37m *     a[5, 1]                #=> [][39;49;00m$
  1018^I[37m *     a[5..10]               #=> [][39;49;00m$
  1019^I[37m *[39;49;00m$
  1020^I[37m */[39;49;00m[37m[39;49;00m$
  1021^I[37m[39;49;00m$
  1022^IVALUE[37m[39;49;00m$
  1023^Irb_ary_aref(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1024^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1025^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1026^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1027^I{[37m[39;49;00m$
  1028^I[37m    [39;49;00mVALUE[37m [39;49;00marg;[37m[39;49;00m$
  1029^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mbeg,[37m [39;49;00mlen;[37m[39;49;00m$
  1030^I[37m[39;49;00m$
  1031^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1032^I[37m^I[39;49;00mbeg[37m [39;49;00m=[37m [39;49;00mNUM2LONG(argv[[34m0[39;49;00m]);[37m[39;49;00m$
  1033^I[37m^I[39;49;00mlen[37m [39;49;00m=[37m [39;49;00mNUM2LONG(argv[[34m1[39;49;00m]);[37m[39;49;00m$
  1034^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1035^I[37m^I    [39;49;00mbeg[37m [39;49;00m+=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1036^I[37m^I[39;49;00m}[37m[39;49;00m$
  1037^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_subseq(ary,[37m [39;49;00mbeg,[37m [39;49;00mlen);[37m[39;49;00m$
  1038^I[37m    [39;49;00m}[37m[39;49;00m$
  1039^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m!=[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1040^I[37m^I[39;49;00mrb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m11[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m0[39;49;00m);[37m[39;49;00m$
  1041^I[37m    [39;49;00m}[37m[39;49;00m$
  1042^I[37m    [39;49;00marg[37m [39;49;00m=[37m [39;49;00margv[[34m0[39;49;00m];[37m[39;49;00m$
  1043^I[37m    [39;49;00m[37m/* special case - speeding up */[39;49;00m[37m[39;49;00m$
  1044^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FIXNUM_P(arg))[37m [39;49;00m{[37m[39;49;00m$
  1045^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_entry(ary,[37m [39;49;00mFIX2LONG(arg));[37m[39;49;00m$
  1046^I[37m    [39;49;00m}[37m[39;49;00m$
  1047^I[37m    [39;49;00m[37m/* check if idx is Range */[39;49;00m[37m[39;49;00m$
  1048^I[37m    [39;49;00m[34mswitch[39;49;00m[37m [39;49;00m(rb_range_beg_len(arg,[37m [39;49;00m&beg,[37m [39;49;00m&len,[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00m[34m0[39;49;00m))[37m [39;49;00m{[37m[39;49;00m$
  1049^I[37m      [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mQfalse[39;49;00m:[37m[39;49;00m$
  1050^I[37m^I[39;49;00m[34mbreak[39;49;00m;[37m[39;49;00m$
  1051^I[37m      [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mQnil[39;49;00m:[37m[39;49;00m$
  1052^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
  1053^I[37m      [39;49;00m[34mdefault[39;49;00m:[37m[39;49;00m$
  1054^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_subseq(ary,[37m [39;49;00mbeg,[37m [39;49;00mlen);[37m[39;49;00m$
  1055^I[37m    [39;49;00m}[37m[39;49;00m$
  1056^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_entry(ary,[37m [39;49;00mNUM2LONG(arg));[37m[39;49;00m$
  1057^I}[37m[39;49;00m$
  1058^I[37m[39;49;00m$
  1059^I[37m/* [39;49;00m$
  1060^I[37m *  call-seq:[39;49;00m$
  1061^I[37m *     array.at(index)   ->   obj  or nil[39;49;00m$
  1062^I[37m *[39;49;00m$
  1063^I[37m *  Returns the element at _index_. A[39;49;00m$
  1064^I[37m *  negative index counts from the end of _self_.  Returns +nil+[39;49;00m$
  1065^I[37m *  if the index is out of range. See also <code>Array#[]</code>.[39;49;00m$
  1066^I[37m *  (<code>Array#at</code> is slightly faster than <code>Array#[]</code>,[39;49;00m$
  1067^I[37m *  as it does not accept ranges and so on.)[39;49;00m$
  1068^I[37m *[39;49;00m$
  1069^I[37m *     a = [ "a", "b", "c", "d", "e" ][39;49;00m$
  1070^I[37m *     a.at(0)     #=> "a"[39;49;00m$
  1071^I[37m *     a.at(-1)    #=> "e"[39;49;00m$
  1072^I[37m */[39;49;00m[37m[39;49;00m$
  1073^I[37m[39;49;00m$
  1074^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1075^Irb_ary_at(ary,[37m [39;49;00mpos)[37m[39;49;00m$
  1076^I[37m    [39;49;00mVALUE[37m [39;49;00mary,[37m [39;49;00mpos;[37m[39;49;00m$
  1077^I{[37m[39;49;00m$
  1078^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_entry(ary,[37m [39;49;00mNUM2LONG(pos));[37m[39;49;00m$
  1079^I}[37m[39;49;00m$
  1080^I[37m[39;49;00m$
  1081^I[37m/*[39;49;00m$
  1082^I[37m *  call-seq:[39;49;00m$
  1083^I[37m *     array.first     ->   obj or nil[39;49;00m$
  1084^I[37m *     array.first(n)  ->   an_array[39;49;00m$
  1085^I[37m *  [39;49;00m$
  1086^I[37m *  Returns the first element of the array. If the array is empty,[39;49;00m$
  1087^I[37m *  returns <code>nil</code>.[39;49;00m$
  1088^I[37m *     [39;49;00m$
  1089^I[37m *     a = [ "q", "r", "s", "t" ][39;49;00m$
  1090^I[37m *     a.first     #=> "q"[39;49;00m$
  1091^I[37m *     a.first(2)  #=> ["q", "r"][39;49;00m$
  1092^I[37m */[39;49;00m[37m[39;49;00m$
  1093^I[37m[39;49;00m$
  1094^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1095^Irb_ary_first(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1096^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1097^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1098^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1099^I{[37m[39;49;00m$
  1100^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1101^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
  1102^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->ptr[[34m0[39;49;00m];[37m[39;49;00m$
  1103^I[37m    [39;49;00m}[37m[39;49;00m$
  1104^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1105^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_shared_first(argc,[37m [39;49;00margv,[37m [39;49;00mary);[37m[39;49;00m$
  1106^I[37m    [39;49;00m}[37m[39;49;00m$
  1107^I}[37m[39;49;00m$
  1108^I[37m[39;49;00m$
  1109^I[37m/*[39;49;00m$
  1110^I[37m *  call-seq:[39;49;00m$
  1111^I[37m *     array.last     ->  obj or nil[39;49;00m$
  1112^I[37m *     array.last(n)  ->  an_array[39;49;00m$
  1113^I[37m *  [39;49;00m$
  1114^I[37m *  Returns the last element(s) of <i>self</i>. If the array is empty,[39;49;00m$
  1115^I[37m *  the first form returns <code>nil</code>.[39;49;00m$
  1116^I[37m *     [39;49;00m$
  1117^I[37m *     a = [ "w", "x", "y", "z" ][39;49;00m$
  1118^I[37m *     a.last     #=> "z"[39;49;00m$
  1119^I[37m *     a.last(2)  #=> ["y", "z"][39;49;00m$
  1120^I[37m */[39;49;00m[37m[39;49;00m$
  1121^I[37m[39;49;00m$
  1122^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1123^Irb_ary_last(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1124^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1125^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1126^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1127^I{[37m[39;49;00m$
  1128^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1129^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
  1130^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->ptr[RARRAY(ary)->len[34m-1[39;49;00m];[37m[39;49;00m$
  1131^I[37m    [39;49;00m}[37m[39;49;00m$
  1132^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1133^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary_shared_last(argc,[37m [39;49;00margv,[37m [39;49;00mary);[37m[39;49;00m$
  1134^I[37m    [39;49;00m}[37m[39;49;00m$
  1135^I}[37m[39;49;00m$
  1136^I[37m[39;49;00m$
  1137^I[37m/*[39;49;00m$
  1138^I[37m *  call-seq:[39;49;00m$
  1139^I[37m *     array.fetch(index)                    -> obj[39;49;00m$
  1140^I[37m *     array.fetch(index, default )          -> obj[39;49;00m$
  1141^I[37m *     array.fetch(index) {|index| block }   -> obj[39;49;00m$
  1142^I[37m *  [39;49;00m$
  1143^I[37m *  Tries to return the element at position <i>index</i>. If the index[39;49;00m$
  1144^I[37m *  lies outside the array, the first form throws an[39;49;00m$
  1145^I[37m *  <code>IndexError</code> exception, the second form returns[39;49;00m$
  1146^I[37m *  <i>default</i>, and the third form returns the value of invoking[39;49;00m$
  1147^I[37m *  the block, passing in the index. Negative values of <i>index</i>[39;49;00m$
  1148^I[37m *  count from the end of the array.[39;49;00m$
  1149^I[37m *     [39;49;00m$
  1150^I[37m *     a = [ 11, 22, 33, 44 ][39;49;00m$
  1151^I[37m *     a.fetch(1)               #=> 22[39;49;00m$
  1152^I[37m *     a.fetch(-1)              #=> 44[39;49;00m$
  1153^I[37m *     a.fetch(4, 'cat')        #=> "cat"[39;49;00m$
  1154^I[37m *     a.fetch(4) { |i| i*i }   #=> 16[39;49;00m$
  1155^I[37m */[39;49;00m[37m[39;49;00m$
  1156^I[37m[39;49;00m$
  1157^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1158^Irb_ary_fetch(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1159^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1160^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1161^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1162^I{[37m[39;49;00m$
  1163^I[37m    [39;49;00mVALUE[37m [39;49;00mpos,[37m [39;49;00mifnone;[37m[39;49;00m$
  1164^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mblock_given;[37m[39;49;00m$
  1165^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00midx;[37m[39;49;00m$
  1166^I[37m[39;49;00m$
  1167^I[37m    [39;49;00mrb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m11[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&pos,[37m [39;49;00m&ifnone);[37m[39;49;00m$
  1168^I[37m    [39;49;00mblock_given[37m [39;49;00m=[37m [39;49;00mrb_block_given_p();[37m[39;49;00m$
  1169^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(block_given[37m [39;49;00m&&[37m [39;49;00margc[37m [39;49;00m==[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1170^I[37m^I[39;49;00mrb_warn([33m"[39;49;00m[33mblock supersedes default value argument[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1171^I[37m    [39;49;00m}[37m[39;49;00m$
  1172^I[37m    [39;49;00midx[37m [39;49;00m=[37m [39;49;00mNUM2LONG(pos);[37m[39;49;00m$
  1173^I[37m[39;49;00m$
  1174^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1175^I[37m^I[39;49;00midx[37m [39;49;00m+=[37m  [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1176^I[37m    [39;49;00m}[37m[39;49;00m$
  1177^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(idx[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m||[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m<=[37m [39;49;00midx)[37m [39;49;00m{[37m[39;49;00m$
  1178^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(block_given)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_yield(pos);[37m[39;49;00m$
  1179^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1180^I[37m^I    [39;49;00mrb_raise(rb_eIndexError,[37m [39;49;00m[33m"[39;49;00m[33mindex %ld out of array[39;49;00m[33m"[39;49;00m,[37m [39;49;00midx);[37m[39;49;00m$
  1181^I[37m^I[39;49;00m}[37m[39;49;00m$
  1182^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mifnone;[37m[39;49;00m$
  1183^I[37m    [39;49;00m}[37m[39;49;00m$
  1184^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mRARRAY(ary)->ptr[idx];[37m[39;49;00m$
  1185^I}[37m[39;49;00m$
  1186^I[37m[39;49;00m$
  1187^I[37m/*[39;49;00m$
  1188^I[37m *  call-seq:[39;49;00m$
  1189^I[37m *     array.index(obj)           ->  int or nil[39;49;00m$
  1190^I[37m *     array.index {|item| block} ->  int or nil[39;49;00m$
  1191^I[37m *  [39;49;00m$
  1192^I[37m *  Returns the index of the first object in <i>self</i> such that is[39;49;00m$
  1193^I[37m *  <code>==</code> to <i>obj</i>. If a block is given instead of an[39;49;00m$
  1194^I[37m *  argument, returns first object for which <em>block</em> is true.[39;49;00m$
  1195^I[37m *  Returns <code>nil</code> if no match is found.[39;49;00m$
  1196^I[37m *     [39;49;00m$
  1197^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
  1198^I[37m *     a.index("b")        #=> 1[39;49;00m$
  1199^I[37m *     a.index("z")        #=> nil[39;49;00m$
  1200^I[37m *     a.index{|x|x=="b"}  #=> 1[39;49;00m$
  1201^I[37m */[39;49;00m[37m[39;49;00m$
  1202^I[37m[39;49;00m$
  1203^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1204^Irb_ary_index(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1205^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1206^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1207^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1208^I{[37m[39;49;00m$
  1209^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
  1210^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1211^I[37m[39;49;00m$
  1212^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m01[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&val)[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1213^I[37m^I[39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1214^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RTEST(rb_yield(RARRAY(ary)->ptr[i])))[37m [39;49;00m{[37m[39;49;00m$
  1215^I[37m^I^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mLONG2NUM(i);[37m[39;49;00m$
  1216^I[37m^I    [39;49;00m}[37m[39;49;00m$
  1217^I[37m^I[39;49;00m}[37m[39;49;00m$
  1218^I[37m    [39;49;00m}[37m[39;49;00m$
  1219^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1220^I[37m^I[39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1221^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_equal(RARRAY(ary)->ptr[i],[37m [39;49;00mval))[37m[39;49;00m$
  1222^I[37m^I^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mLONG2NUM(i);[37m[39;49;00m$
  1223^I[37m^I[39;49;00m}[37m[39;49;00m$
  1224^I[37m    [39;49;00m}[37m[39;49;00m$
  1225^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
  1226^I}[37m[39;49;00m$
  1227^I[37m[39;49;00m$
  1228^I[37m/*[39;49;00m$
  1229^I[37m *  call-seq:[39;49;00m$
  1230^I[37m *     array.rindex(obj)    ->  int or nil[39;49;00m$
  1231^I[37m *  [39;49;00m$
  1232^I[37m *  Returns the index of the last object in <i>array</i>[39;49;00m$
  1233^I[37m *  <code>==</code> to <i>obj</i>. If a block is given instead of an[39;49;00m$
  1234^I[37m *  argument, returns first object for which <em>block</em> is[39;49;00m$
  1235^I[37m *  true. Returns <code>nil</code> if no match is found.[39;49;00m$
  1236^I[37m *     [39;49;00m$
  1237^I[37m *     a = [ "a", "b", "b", "b", "c" ][39;49;00m$
  1238^I[37m *     a.rindex("b")        #=> 3[39;49;00m$
  1239^I[37m *     a.rindex("z")        #=> nil[39;49;00m$
  1240^I[37m *     a.rindex{|x|x=="b"}  #=> 3[39;49;00m$
  1241^I[37m */[39;49;00m[37m[39;49;00m$
  1242^I[37m[39;49;00m$
  1243^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1244^Irb_ary_rindex(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1245^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1246^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1247^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1248^I{[37m[39;49;00m$
  1249^I[37m    [39;49;00mVALUE[37m [39;49;00mval;[37m[39;49;00m$
  1250^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1251^I[37m[39;49;00m$
  1252^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m01[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&val)[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1253^I[37m^I[39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(i--)[37m [39;49;00m{[37m[39;49;00m$
  1254^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RTEST(rb_yield(RARRAY(ary)->ptr[i])))[37m[39;49;00m$
  1255^I[37m^I^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mLONG2NUM(i);[37m[39;49;00m$
  1256^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(i[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
  1257^I[37m^I^I[39;49;00mi[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1258^I[37m^I    [39;49;00m}[37m[39;49;00m$
  1259^I[37m^I[39;49;00m}[37m[39;49;00m$
  1260^I[37m    [39;49;00m}[37m[39;49;00m$
  1261^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1262^I[37m^I[39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(i--)[37m [39;49;00m{[37m[39;49;00m$
  1263^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_equal(RARRAY(ary)->ptr[i],[37m [39;49;00mval))[37m[39;49;00m$
  1264^I[37m^I^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mLONG2NUM(i);[37m[39;49;00m$
  1265^I[37m^I    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(i[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
  1266^I[37m^I^I[39;49;00mi[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1267^I[37m^I    [39;49;00m}[37m[39;49;00m$
  1268^I[37m^I[39;49;00m}[37m[39;49;00m$
  1269^I[37m    [39;49;00m}[37m[39;49;00m$
  1270^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQnil;[37m[39;49;00m$
  1271^I}[37m[39;49;00m$
  1272^I[37m[39;49;00m$
  1273^IVALUE[37m[39;49;00m$
  1274^Irb_ary_to_ary(obj)[37m[39;49;00m$
  1275^I[37m    [39;49;00mVALUE[37m [39;49;00mobj;[37m[39;49;00m$
  1276^I{[37m[39;49;00m$
  1277^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(TYPE(obj)[37m [39;49;00m==[37m [39;49;00mT_ARRAY)[37m [39;49;00m{[37m[39;49;00m$
  1278^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mobj;[37m[39;49;00m$
  1279^I[37m    [39;49;00m}[37m[39;49;00m$
  1280^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_respond_to(obj,[37m [39;49;00mrb_intern([33m"[39;49;00m[33mto_ary[39;49;00m[33m"[39;49;00m)))[37m [39;49;00m{[37m[39;49;00m$
  1281^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mto_ary(obj);[37m[39;49;00m$
  1282^I[37m    [39;49;00m}[37m[39;49;00m$
  1283^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_new3([34m1[39;49;00m,[37m [39;49;00mobj);[37m[39;49;00m$
  1284^I}[37m[39;49;00m$
  1285^I[37m[39;49;00m$
  1286^I[34mstatic[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m[39;49;00m$
  1287^Irb_ary_splice(ary,[37m [39;49;00mbeg,[37m [39;49;00mlen,[37m [39;49;00mrpl)[37m[39;49;00m$
  1288^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1289^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mbeg,[37m [39;49;00mlen;[37m[39;49;00m$
  1290^I[37m    [39;49;00mVALUE[37m [39;49;00mrpl;[37m[39;49;00m$
  1291^I{[37m[39;49;00m$
  1292^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mrlen;[37m[39;49;00m$
  1293^I[37m[39;49;00m$
  1294^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00mrb_raise(rb_eIndexError,[37m [39;49;00m[33m"[39;49;00m[33mnegative length (%ld)[39;49;00m[33m"[39;49;00m,[37m [39;49;00mlen);[37m[39;49;00m$
  1295^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1296^I[37m^I[39;49;00mbeg[37m [39;49;00m+=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1297^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1298^I[37m^I    [39;49;00mbeg[37m [39;49;00m-=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1299^I[37m^I    [39;49;00mrb_raise(rb_eIndexError,[37m [39;49;00m[33m"[39;49;00m[33mindex %ld out of array[39;49;00m[33m"[39;49;00m,[37m [39;49;00mbeg);[37m[39;49;00m$
  1300^I[37m^I[39;49;00m}[37m[39;49;00m$
  1301^I[37m    [39;49;00m}[37m[39;49;00m$
  1302^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m+[37m [39;49;00mlen[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
  1303^I[37m^I[39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00mbeg;[37m[39;49;00m$
  1304^I[37m    [39;49;00m}[37m[39;49;00m$
  1305^I[37m[39;49;00m$
  1306^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rpl[37m [39;49;00m==[37m [39;49;00mQundef)[37m [39;49;00m{[37m[39;49;00m$
  1307^I[37m^I[39;49;00mrlen[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
  1308^I[37m    [39;49;00m}[37m[39;49;00m$
  1309^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1310^I[37m^I[39;49;00mrpl[37m [39;49;00m=[37m [39;49;00mrb_ary_to_ary(rpl);[37m[39;49;00m$
  1311^I[37m^I[39;49;00mrlen[37m [39;49;00m=[37m [39;49;00mRARRAY(rpl)->len;[37m[39;49;00m$
  1312^I[37m    [39;49;00m}[37m[39;49;00m$
  1313^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
  1314^I[37m[39;49;00m$
  1315^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m>=[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
  1316^I[37m^I[39;49;00mlen[37m [39;49;00m=[37m [39;49;00mbeg[37m [39;49;00m+[37m [39;49;00mrlen;[37m[39;49;00m$
  1317^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m>=[37m [39;49;00mRARRAY(ary)->aux.capa)[37m [39;49;00m{[37m[39;49;00m$
  1318^I[37m^I    [39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mlen);[37m[39;49;00m$
  1319^I[37m^I    [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
  1320^I[37m^I[39;49;00m}[37m[39;49;00m$
  1321^I[37m^I[39;49;00mrb_mem_clear(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00mbeg[37m [39;49;00m-[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
  1322^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(rlen[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1323^I[37m^I    [39;49;00mMEMCPY(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mbeg,[37m [39;49;00mRARRAY(rpl)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mrlen);[37m[39;49;00m$
  1324^I[37m^I[39;49;00m}[37m[39;49;00m$
  1325^I[37m^I[39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00mlen;[37m[39;49;00m$
  1326^I[37m    [39;49;00m}[37m[39;49;00m$
  1327^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1328^I[37m^I[39;49;00m[36mlong[39;49;00m[37m [39;49;00malen;[37m[39;49;00m$
  1329^I[37m[39;49;00m$
  1330^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(beg[37m [39;49;00m+[37m [39;49;00mlen[37m [39;49;00m>[37m [39;49;00mRARRAY(ary)->len)[37m [39;49;00m{[37m[39;49;00m$
  1331^I[37m^I    [39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00mbeg;[37m[39;49;00m$
  1332^I[37m^I[39;49;00m}[37m[39;49;00m$
  1333^I[37m[39;49;00m$
  1334^I[37m^I[39;49;00malen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m+[37m [39;49;00mrlen[37m [39;49;00m-[37m [39;49;00mlen;[37m[39;49;00m$
  1335^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(alen[37m [39;49;00m>=[37m [39;49;00mRARRAY(ary)->aux.capa)[37m [39;49;00m{[37m[39;49;00m$
  1336^I[37m^I    [39;49;00mREALLOC_N(RARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00malen);[37m[39;49;00m$
  1337^I[37m^I    [39;49;00mRARRAY(ary)->aux.capa[37m [39;49;00m=[37m [39;49;00malen;[37m[39;49;00m$
  1338^I[37m^I[39;49;00m}[37m[39;49;00m$
  1339^I[37m[39;49;00m$
  1340^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(len[37m [39;49;00m!=[37m [39;49;00mrlen)[37m [39;49;00m{[37m[39;49;00m$
  1341^I[37m^I    [39;49;00mMEMMOVE(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mbeg[37m [39;49;00m+[37m [39;49;00mrlen,[37m [39;49;00mRARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mbeg[37m [39;49;00m+[37m [39;49;00mlen,[37m[39;49;00m$
  1342^I[37m^I^I    [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00m(beg[37m [39;49;00m+[37m [39;49;00mlen));[37m[39;49;00m$
  1343^I[37m^I    [39;49;00mRARRAY(ary)->len[37m [39;49;00m=[37m [39;49;00malen;[37m[39;49;00m$
  1344^I[37m^I[39;49;00m}[37m[39;49;00m$
  1345^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(rlen[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1346^I[37m^I    [39;49;00mMEMMOVE(RARRAY(ary)->ptr[37m [39;49;00m+[37m [39;49;00mbeg,[37m [39;49;00mRARRAY(rpl)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mrlen);[37m[39;49;00m$
  1347^I[37m^I[39;49;00m}[37m[39;49;00m$
  1348^I[37m    [39;49;00m}[37m[39;49;00m$
  1349^I}[37m[39;49;00m$
  1350^I[37m[39;49;00m$
  1351^I[37m/* [39;49;00m$
  1352^I[37m *  call-seq:[39;49;00m$
  1353^I[37m *     array[index]         = obj                     ->  obj[39;49;00m$
  1354^I[37m *     array[start, length] = obj or an_array or nil  ->  obj or an_array or nil[39;49;00m$
  1355^I[37m *     array[range]         = obj or an_array or nil  ->  obj or an_array or nil[39;49;00m$
  1356^I[37m *[39;49;00m$
  1357^I[37m *  Element Assignment---Sets the element at _index_,[39;49;00m$
  1358^I[37m *  or replaces a subarray starting at _start_ and[39;49;00m$
  1359^I[37m *  continuing for _length_ elements, or replaces a subarray[39;49;00m$
  1360^I[37m *  specified by _range_.  If indices are greater than[39;49;00m$
  1361^I[37m *  the current capacity of the array, the array grows[39;49;00m$
  1362^I[37m *  automatically. A negative indices will count backward[39;49;00m$
  1363^I[37m *  from the end of the array. Inserts elements if _length_ is[39;49;00m$
  1364^I[37m *  zero. An +IndexError+ is raised if a negative index points[39;49;00m$
  1365^I[37m *  past the beginning of the array. See also[39;49;00m$
  1366^I[37m *  <code>Array#push</code>, and <code>Array#unshift</code>.[39;49;00m$
  1367^I[37m * [39;49;00m$
  1368^I[37m *     a = Array.new[39;49;00m$
  1369^I[37m *     a[4] = "4";                 #=> [nil, nil, nil, nil, "4"][39;49;00m$
  1370^I[37m *     a[0, 3] = [ 'a', 'b', 'c' ] #=> ["a", "b", "c", nil, "4"][39;49;00m$
  1371^I[37m *     a[1..2] = [ 1, 2 ]          #=> ["a", 1, 2, nil, "4"][39;49;00m$
  1372^I[37m *     a[0, 2] = "?"               #=> ["?", 2, nil, "4"][39;49;00m$
  1373^I[37m *     a[0..2] = "A"               #=> ["A", "4"][39;49;00m$
  1374^I[37m *     a[-1]   = "Z"               #=> ["A", "Z"][39;49;00m$
  1375^I[37m *     a[1..-1] = nil              #=> ["A", nil][39;49;00m$
  1376^I[37m *     a[1..-1] = []              #=> ["A"][39;49;00m$
  1377^I[37m */[39;49;00m[37m[39;49;00m$
  1378^I[37m[39;49;00m$
  1379^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1380^Irb_ary_aset(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1381^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1382^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1383^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1384^I{[37m[39;49;00m$
  1385^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00moffset,[37m [39;49;00mbeg,[37m [39;49;00mlen;[37m[39;49;00m$
  1386^I[37m[39;49;00m$
  1387^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m3[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1388^I[37m^I[39;49;00mrb_ary_splice(ary,[37m [39;49;00mNUM2LONG(argv[[34m0[39;49;00m]),[37m [39;49;00mNUM2LONG(argv[[34m1[39;49;00m]),[37m [39;49;00margv[[34m2[39;49;00m]);[37m[39;49;00m$
  1389^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00margv[[34m2[39;49;00m];[37m[39;49;00m$
  1390^I[37m    [39;49;00m}[37m[39;49;00m$
  1391^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m!=[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1392^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mwrong number of arguments (%d for 2)[39;49;00m[33m"[39;49;00m,[37m [39;49;00margc);[37m[39;49;00m$
  1393^I[37m    [39;49;00m}[37m[39;49;00m$
  1394^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FIXNUM_P(argv[[34m0[39;49;00m]))[37m [39;49;00m{[37m[39;49;00m$
  1395^I[37m^I[39;49;00moffset[37m [39;49;00m=[37m [39;49;00mFIX2LONG(argv[[34m0[39;49;00m]);[37m[39;49;00m$
  1396^I[37m^I[39;49;00m[34mgoto[39;49;00m[37m [39;49;00mfixnum;[37m[39;49;00m$
  1397^I[37m    [39;49;00m}[37m[39;49;00m$
  1398^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_range_beg_len(argv[[34m0[39;49;00m],[37m [39;49;00m&beg,[37m [39;49;00m&len,[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00m[34m1[39;49;00m))[37m [39;49;00m{[37m[39;49;00m$
  1399^I[37m^I[39;49;00m[37m/* check if idx is Range */[39;49;00m[37m[39;49;00m$
  1400^I[37m^I[39;49;00mrb_ary_splice(ary,[37m [39;49;00mbeg,[37m [39;49;00mlen,[37m [39;49;00margv[[34m1[39;49;00m]);[37m[39;49;00m$
  1401^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00margv[[34m1[39;49;00m];[37m[39;49;00m$
  1402^I[37m    [39;49;00m}[37m[39;49;00m$
  1403^I[37m[39;49;00m$
  1404^I[37m    [39;49;00moffset[37m [39;49;00m=[37m [39;49;00mNUM2LONG(argv[[34m0[39;49;00m]);[37m[39;49;00m$
  1405^Ifixnum:[37m[39;49;00m$
  1406^I[37m    [39;49;00mrb_ary_store(ary,[37m [39;49;00moffset,[37m [39;49;00margv[[34m1[39;49;00m]);[37m[39;49;00m$
  1407^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00margv[[34m1[39;49;00m];[37m[39;49;00m$
  1408^I}[37m[39;49;00m$
  1409^I[37m[39;49;00m$
  1410^I[37m/*[39;49;00m$
  1411^I[37m *  call-seq:[39;49;00m$
  1412^I[37m *     array.insert(index, obj...)  -> array[39;49;00m$
  1413^I[37m *  [39;49;00m$
  1414^I[37m *  Inserts the given values before the element with the given index[39;49;00m$
  1415^I[37m *  (which may be negative).[39;49;00m$
  1416^I[37m *     [39;49;00m$
  1417^I[37m *     a = %w{ a b c d }[39;49;00m$
  1418^I[37m *     a.insert(2, 99)         #=> ["a", "b", 99, "c", "d"][39;49;00m$
  1419^I[37m *     a.insert(-2, 1, 2, 3)   #=> ["a", "b", 99, "c", 1, 2, 3, "d"][39;49;00m$
  1420^I[37m */[39;49;00m[37m[39;49;00m$
  1421^I[37m[39;49;00m$
  1422^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1423^Irb_ary_insert(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1424^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1425^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1426^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1427^I{[37m[39;49;00m$
  1428^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mpos;[37m[39;49;00m$
  1429^I[37m[39;49;00m$
  1430^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m<[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1431^I[37m^I[39;49;00mrb_raise(rb_eArgError,[37m [39;49;00m[33m"[39;49;00m[33mwrong number of arguments (at least 1)[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1432^I[37m    [39;49;00m}[37m[39;49;00m$
  1433^I[37m    [39;49;00mpos[37m [39;49;00m=[37m [39;49;00mNUM2LONG(argv[[34m0[39;49;00m]);[37m[39;49;00m$
  1434^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(pos[37m [39;49;00m==[37m [39;49;00m[34m-1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1435^I[37m^I[39;49;00mpos[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1436^I[37m    [39;49;00m}[37m[39;49;00m$
  1437^I[37m    [39;49;00m[34melse[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m(pos[37m [39;49;00m<[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1438^I[37m^I[39;49;00mpos++;[37m[39;49;00m$
  1439^I[37m    [39;49;00m}[37m[39;49;00m$
  1440^I[37m[39;49;00m$
  1441^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(argc[37m [39;49;00m==[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1442^I[37m    [39;49;00mrb_ary_splice(ary,[37m [39;49;00mpos,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00mrb_ary_new4(argc[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00margv[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m));[37m[39;49;00m$
  1443^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1444^I}[37m[39;49;00m$
  1445^I[37m[39;49;00m$
  1446^I[37m/*[39;49;00m$
  1447^I[37m *  call-seq:[39;49;00m$
  1448^I[37m *     array.each {|item| block }   ->   array[39;49;00m$
  1449^I[37m *  [39;49;00m$
  1450^I[37m *  Calls <i>block</i> once for each element in <i>self</i>, passing that[39;49;00m$
  1451^I[37m *  element as a parameter.[39;49;00m$
  1452^I[37m *     [39;49;00m$
  1453^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
  1454^I[37m *     a.each {|x| print x, " -- " }[39;49;00m$
  1455^I[37m *     [39;49;00m$
  1456^I[37m *  produces:[39;49;00m$
  1457^I[37m *     [39;49;00m$
  1458^I[37m *     a -- b -- c --[39;49;00m$
  1459^I[37m */[39;49;00m[37m[39;49;00m$
  1460^I[37m[39;49;00m$
  1461^IVALUE[37m[39;49;00m$
  1462^Irb_ary_each(ary)[37m[39;49;00m$
  1463^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1464^I{[37m[39;49;00m$
  1465^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1466^I[37m[39;49;00m$
  1467^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1468^I[37m^I[39;49;00mrb_yield(RARRAY(ary)->ptr[i]);[37m[39;49;00m$
  1469^I[37m    [39;49;00m}[37m[39;49;00m$
  1470^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1471^I}[37m[39;49;00m$
  1472^I[37m[39;49;00m$
  1473^I[37m/*[39;49;00m$
  1474^I[37m *  call-seq:[39;49;00m$
  1475^I[37m *     array.each_index {|index| block }  ->  array[39;49;00m$
  1476^I[37m *  [39;49;00m$
  1477^I[37m *  Same as <code>Array#each</code>, but passes the index of the element[39;49;00m$
  1478^I[37m *  instead of the element itself.[39;49;00m$
  1479^I[37m *     [39;49;00m$
  1480^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
  1481^I[37m *     a.each_index {|x| print x, " -- " }[39;49;00m$
  1482^I[37m *     [39;49;00m$
  1483^I[37m *  produces:[39;49;00m$
  1484^I[37m *     [39;49;00m$
  1485^I[37m *     0 -- 1 -- 2 --[39;49;00m$
  1486^I[37m */[39;49;00m[37m[39;49;00m$
  1487^I[37m[39;49;00m$
  1488^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1489^Irb_ary_each_index(ary)[37m[39;49;00m$
  1490^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1491^I{[37m[39;49;00m$
  1492^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1493^I[37m[39;49;00m$
  1494^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1495^I[37m^I[39;49;00mrb_yield(LONG2NUM(i));[37m[39;49;00m$
  1496^I[37m    [39;49;00m}[37m[39;49;00m$
  1497^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1498^I}[37m[39;49;00m$
  1499^I[37m[39;49;00m$
  1500^I[37m/*[39;49;00m$
  1501^I[37m *  call-seq:[39;49;00m$
  1502^I[37m *     array.reverse_each {|item| block } [39;49;00m$
  1503^I[37m *  [39;49;00m$
  1504^I[37m *  Same as <code>Array#each</code>, but traverses <i>self</i> in reverse[39;49;00m$
  1505^I[37m *  order.[39;49;00m$
  1506^I[37m *     [39;49;00m$
  1507^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
  1508^I[37m *     a.reverse_each {|x| print x, " " }[39;49;00m$
  1509^I[37m *     [39;49;00m$
  1510^I[37m *  produces:[39;49;00m$
  1511^I[37m *     [39;49;00m$
  1512^I[37m *     c b a[39;49;00m$
  1513^I[37m */[39;49;00m[37m[39;49;00m$
  1514^I[37m[39;49;00m$
  1515^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1516^Irb_ary_reverse_each(ary)[37m[39;49;00m$
  1517^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1518^I{[37m[39;49;00m$
  1519^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1520^I[37m[39;49;00m$
  1521^I[37m    [39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(len--)[37m [39;49;00m{[37m[39;49;00m$
  1522^I[37m^I[39;49;00mrb_yield(RARRAY(ary)->ptr[len]);[37m[39;49;00m$
  1523^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m<[37m [39;49;00mlen)[37m [39;49;00m{[37m[39;49;00m$
  1524^I[37m^I    [39;49;00mlen[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1525^I[37m^I[39;49;00m}[37m[39;49;00m$
  1526^I[37m    [39;49;00m}[37m[39;49;00m$
  1527^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1528^I}[37m[39;49;00m$
  1529^I[37m[39;49;00m$
  1530^I[37m/*[39;49;00m$
  1531^I[37m *  call-seq:[39;49;00m$
  1532^I[37m *     array.length -> int[39;49;00m$
  1533^I[37m *  [39;49;00m$
  1534^I[37m *  Returns the number of elements in <i>self</i>. May be zero.[39;49;00m$
  1535^I[37m *     [39;49;00m$
  1536^I[37m *     [ 1, 2, 3, 4, 5 ].length   #=> 5[39;49;00m$
  1537^I[37m */[39;49;00m[37m[39;49;00m$
  1538^I[37m[39;49;00m$
  1539^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1540^Irb_ary_length(ary)[37m[39;49;00m$
  1541^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1542^I{[37m[39;49;00m$
  1543^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mLONG2NUM(RARRAY(ary)->len);[37m[39;49;00m$
  1544^I}[37m[39;49;00m$
  1545^I[37m[39;49;00m$
  1546^I[37m/*[39;49;00m$
  1547^I[37m *  call-seq:[39;49;00m$
  1548^I[37m *     array.empty?   -> true or false[39;49;00m$
  1549^I[37m *  [39;49;00m$
  1550^I[37m *  Returns <code>true</code> if <i>self</i> array contains no elements.[39;49;00m$
  1551^I[37m *     [39;49;00m$
  1552^I[37m *     [].empty?   #=> true[39;49;00m$
  1553^I[37m */[39;49;00m[37m[39;49;00m$
  1554^I[37m[39;49;00m$
  1555^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1556^Irb_ary_empty_p(ary)[37m[39;49;00m$
  1557^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1558^I{[37m[39;49;00m$
  1559^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m[39;49;00m$
  1560^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQtrue;[37m[39;49;00m$
  1561^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mQfalse;[37m[39;49;00m$
  1562^I}[37m[39;49;00m$
  1563^I[37m[39;49;00m$
  1564^IVALUE[37m[39;49;00m$
  1565^Irb_ary_dup(ary)[37m[39;49;00m$
  1566^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1567^I{[37m[39;49;00m$
  1568^I[37m    [39;49;00mVALUE[37m [39;49;00mdup[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(RARRAY(ary)->len);[37m[39;49;00m$
  1569^I[37m[39;49;00m$
  1570^I[37m    [39;49;00mDUPSETUP(dup,[37m [39;49;00mary);[37m[39;49;00m$
  1571^I[37m    [39;49;00mMEMCPY(RARRAY(dup)->ptr,[37m [39;49;00mRARRAY(ary)->ptr,[37m [39;49;00mVALUE,[37m [39;49;00mRARRAY(ary)->len);[37m[39;49;00m$
  1572^I[37m    [39;49;00mRARRAY(dup)->len[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1573^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mdup;[37m[39;49;00m$
  1574^I}[37m[39;49;00m$
  1575^I[37m[39;49;00m$
  1576^I[34mextern[39;49;00m[37m [39;49;00mVALUE[37m [39;49;00mrb_output_fs;[37m[39;49;00m$
  1577^I[37m[39;49;00m$
  1578^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1579^I[32mrecursive_join[39;49;00m(ary,[37m [39;49;00marg,[37m [39;49;00mrecur)[37m[39;49;00m$
  1580^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1581^I[37m    [39;49;00mVALUE[37m [39;49;00m*arg;[37m[39;49;00m$
  1582^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mrecur;[37m[39;49;00m$
  1583^I{[37m[39;49;00m$
  1584^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(recur)[37m [39;49;00m{[37m[39;49;00m$
  1585^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_str_new2([33m"[39;49;00m[33m[...][39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1586^I[37m    [39;49;00m}[37m[39;49;00m$
  1587^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_join(arg[[34m0[39;49;00m],[37m [39;49;00marg[[34m1[39;49;00m]);[37m[39;49;00m$
  1588^I}[37m[39;49;00m$
  1589^I[37m[39;49;00m$
  1590^IVALUE[37m[39;49;00m$
  1591^Irb_ary_join(ary,[37m [39;49;00msep)[37m[39;49;00m$
  1592^I[37m    [39;49;00mVALUE[37m [39;49;00mary,[37m [39;49;00msep;[37m[39;49;00m$
  1593^I{[37m[39;49;00m$
  1594^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen[37m [39;49;00m=[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mi;[37m[39;49;00m$
  1595^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mtaint[37m [39;49;00m=[37m [39;49;00mQfalse;[37m[39;49;00m$
  1596^I[37m    [39;49;00mVALUE[37m [39;49;00mresult,[37m [39;49;00mtmp;[37m[39;49;00m$
  1597^I[37m[39;49;00m$
  1598^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_str_new([34m0[39;49;00m,[37m [39;49;00m[34m0[39;49;00m);[37m[39;49;00m$
  1599^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(OBJ_TAINTED(ary)[37m [39;49;00m||[37m [39;49;00mOBJ_TAINTED(sep))[37m [39;49;00mtaint[37m [39;49;00m=[37m [39;49;00mQtrue;[37m[39;49;00m$
  1600^I[37m[39;49;00m$
  1601^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1602^I[37m^I[39;49;00mtmp[37m [39;49;00m=[37m [39;49;00mrb_check_string_type(RARRAY(ary)->ptr[i]);[37m[39;49;00m$
  1603^I[37m^I[39;49;00mlen[37m [39;49;00m+=[37m [39;49;00mNIL_P(tmp)[37m [39;49;00m?[37m [39;49;00m[34m10[39;49;00m[37m [39;49;00m:[37m [39;49;00mRSTRING(tmp)->len;[37m[39;49;00m$
  1604^I[37m    [39;49;00m}[37m[39;49;00m$
  1605^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(!NIL_P(sep))[37m [39;49;00m{[37m[39;49;00m$
  1606^I[37m^I[39;49;00mStringValue(sep);[37m[39;49;00m$
  1607^I[37m^I[39;49;00mlen[37m [39;49;00m+=[37m [39;49;00mRSTRING(sep)->len[37m [39;49;00m*[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m);[37m[39;49;00m$
  1608^I[37m    [39;49;00m}[37m[39;49;00m$
  1609^I[37m    [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mrb_str_buf_new(len);[37m[39;49;00m$
  1610^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1611^I[37m^I[39;49;00mtmp[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr[i];[37m[39;49;00m$
  1612^I[37m^I[39;49;00m[34mswitch[39;49;00m[37m [39;49;00m(TYPE(tmp))[37m [39;49;00m{[37m[39;49;00m$
  1613^I[37m^I  [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mT_STRING[39;49;00m:[37m[39;49;00m$
  1614^I[37m^I    [39;49;00m[34mbreak[39;49;00m;[37m[39;49;00m$
  1615^I[37m^I  [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mT_ARRAY[39;49;00m:[37m[39;49;00m$
  1616^I[37m^I    [39;49;00m{[37m[39;49;00m$
  1617^I[37m^I^I[39;49;00mVALUE[37m [39;49;00margs[[34m2[39;49;00m];[37m[39;49;00m$
  1618^I[37m[39;49;00m$
  1619^I[37m^I^I[39;49;00margs[[34m0[39;49;00m][37m [39;49;00m=[37m [39;49;00mtmp;[37m[39;49;00m$
  1620^I[37m^I^I[39;49;00margs[[34m1[39;49;00m][37m [39;49;00m=[37m [39;49;00msep;[37m[39;49;00m$
  1621^I[37m^I^I[39;49;00mtmp[37m [39;49;00m=[37m [39;49;00mrb_exec_recursive(recursive_join,[37m [39;49;00mary,[37m [39;49;00m(VALUE)args);[37m[39;49;00m$
  1622^I[37m^I    [39;49;00m}[37m[39;49;00m$
  1623^I[37m^I    [39;49;00m[34mbreak[39;49;00m;[37m[39;49;00m$
  1624^I[37m^I  [39;49;00m[34mdefault[39;49;00m:[37m[39;49;00m$
  1625^I[37m^I    [39;49;00mtmp[37m [39;49;00m=[37m [39;49;00mrb_obj_as_string(tmp);[37m[39;49;00m$
  1626^I[37m^I[39;49;00m}[37m[39;49;00m$
  1627^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(i[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m&&[37m [39;49;00m!NIL_P(sep))[37m[39;49;00m$
  1628^I[37m^I    [39;49;00mrb_str_buf_append(result,[37m [39;49;00msep);[37m[39;49;00m$
  1629^I[37m^I[39;49;00mrb_str_buf_append(result,[37m [39;49;00mtmp);[37m[39;49;00m$
  1630^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(OBJ_TAINTED(tmp))[37m [39;49;00mtaint[37m [39;49;00m=[37m [39;49;00mQtrue;[37m[39;49;00m$
  1631^I[37m    [39;49;00m}[37m[39;49;00m$
  1632^I[37m[39;49;00m$
  1633^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(taint)[37m [39;49;00mOBJ_TAINT(result);[37m[39;49;00m$
  1634^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
  1635^I}[37m[39;49;00m$
  1636^I[37m[39;49;00m$
  1637^I[37m/*[39;49;00m$
  1638^I[37m *  call-seq:[39;49;00m$
  1639^I[37m *     array.join(sep=$,)    -> str[39;49;00m$
  1640^I[37m *  [39;49;00m$
  1641^I[37m *  Returns a string created by converting each element of the array to[39;49;00m$
  1642^I[37m *  a string, separated by <i>sep</i>.[39;49;00m$
  1643^I[37m *     [39;49;00m$
  1644^I[37m *     [ "a", "b", "c" ].join        #=> "abc"[39;49;00m$
  1645^I[37m *     [ "a", "b", "c" ].join("-")   #=> "a-b-c"[39;49;00m$
  1646^I[37m */[39;49;00m[37m[39;49;00m$
  1647^I[37m[39;49;00m$
  1648^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1649^Irb_ary_join_m(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  1650^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  1651^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  1652^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1653^I{[37m[39;49;00m$
  1654^I[37m    [39;49;00mVALUE[37m [39;49;00msep;[37m[39;49;00m$
  1655^I[37m[39;49;00m$
  1656^I[37m    [39;49;00mrb_scan_args(argc,[37m [39;49;00margv,[37m [39;49;00m[33m"[39;49;00m[33m01[39;49;00m[33m"[39;49;00m,[37m [39;49;00m&sep);[37m[39;49;00m$
  1657^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(NIL_P(sep))[37m [39;49;00msep[37m [39;49;00m=[37m [39;49;00mrb_output_fs;[37m[39;49;00m$
  1658^I[37m    [39;49;00m[37m[39;49;00m$
  1659^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_join(ary,[37m [39;49;00msep);[37m[39;49;00m$
  1660^I}[37m[39;49;00m$
  1661^I[37m[39;49;00m$
  1662^I[37m/*[39;49;00m$
  1663^I[37m *  call-seq:[39;49;00m$
  1664^I[37m *     array.to_s -> string[39;49;00m$
  1665^I[37m *  [39;49;00m$
  1666^I[37m *  Returns _self_<code>.join</code>.[39;49;00m$
  1667^I[37m *     [39;49;00m$
  1668^I[37m *     [ "a", "e", "i", "o" ].to_s   #=> "aeio"[39;49;00m$
  1669^I[37m *[39;49;00m$
  1670^I[37m */[39;49;00m[37m[39;49;00m$
  1671^I[37m[39;49;00m$
  1672^IVALUE[37m[39;49;00m$
  1673^Irb_ary_to_s(ary)[37m[39;49;00m$
  1674^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1675^I{[37m[39;49;00m$
  1676^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_str_new([34m0[39;49;00m,[37m [39;49;00m[34m0[39;49;00m);[37m[39;49;00m$
  1677^I[37m    [39;49;00m[37m[39;49;00m$
  1678^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_join(ary,[37m [39;49;00mrb_output_fs);[37m[39;49;00m$
  1679^I}[37m[39;49;00m$
  1680^I[37m[39;49;00m$
  1681^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1682^Iinspect_ary(ary,[37m [39;49;00mdummy,[37m [39;49;00mrecur)[37m[39;49;00m$
  1683^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1684^I[37m    [39;49;00mVALUE[37m [39;49;00mdummy;[37m[39;49;00m$
  1685^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mrecur;[37m[39;49;00m$
  1686^I{[37m[39;49;00m$
  1687^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mtainted[37m [39;49;00m=[37m [39;49;00mOBJ_TAINTED(ary);[37m[39;49;00m$
  1688^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1689^I[37m    [39;49;00mVALUE[37m [39;49;00ms,[37m [39;49;00mstr;[37m[39;49;00m$
  1690^I[37m[39;49;00m$
  1691^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(recur)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_tainted_str_new2([33m"[39;49;00m[33m[...][39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1692^I[37m    [39;49;00mstr[37m [39;49;00m=[37m [39;49;00mrb_str_buf_new2([33m"[39;49;00m[33m[[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1693^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<RARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1694^I[37m^I[39;49;00ms[37m [39;49;00m=[37m [39;49;00mrb_inspect(RARRAY(ary)->ptr[i]);[37m[39;49;00m$
  1695^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(OBJ_TAINTED(s))[37m [39;49;00mtainted[37m [39;49;00m=[37m [39;49;00mQtrue;[37m[39;49;00m$
  1696^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(i[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00mrb_str_buf_cat2(str,[37m [39;49;00m[33m"[39;49;00m[33m, [39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1697^I[37m^I[39;49;00mrb_str_buf_append(str,[37m [39;49;00ms);[37m[39;49;00m$
  1698^I[37m    [39;49;00m}[37m[39;49;00m$
  1699^I[37m    [39;49;00mrb_str_buf_cat2(str,[37m [39;49;00m[33m"[39;49;00m[33m][39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1700^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(tainted)[37m [39;49;00mOBJ_TAINT(str);[37m[39;49;00m$
  1701^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mstr;[37m[39;49;00m$
  1702^I}[37m[39;49;00m$
  1703^I[37m[39;49;00m$
  1704^I[37m/*[39;49;00m$
  1705^I[37m *  call-seq:[39;49;00m$
  1706^I[37m *     array.inspect  -> string[39;49;00m$
  1707^I[37m *[39;49;00m$
  1708^I[37m *  Create a printable version of <i>array</i>.[39;49;00m$
  1709^I[37m */[39;49;00m[37m[39;49;00m$
  1710^I[37m[39;49;00m$
  1711^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1712^Irb_ary_inspect(ary)[37m[39;49;00m$
  1713^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1714^I{[37m[39;49;00m$
  1715^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m==[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_str_new2([33m"[39;49;00m[33m[][39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1716^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_exec_recursive(inspect_ary,[37m [39;49;00mary,[37m [39;49;00m[34m0[39;49;00m);[37m[39;49;00m$
  1717^I}[37m[39;49;00m$
  1718^I[37m[39;49;00m$
  1719^I[37m/*[39;49;00m$
  1720^I[37m *  call-seq:[39;49;00m$
  1721^I[37m *     array.to_a     -> array[39;49;00m$
  1722^I[37m *  [39;49;00m$
  1723^I[37m *  Returns _self_. If called on a subclass of Array, converts[39;49;00m$
  1724^I[37m *  the receiver to an Array object.[39;49;00m$
  1725^I[37m */[39;49;00m[37m[39;49;00m$
  1726^I[37m[39;49;00m$
  1727^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1728^Irb_ary_to_a(ary)[37m[39;49;00m$
  1729^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1730^I{[37m[39;49;00m$
  1731^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(rb_obj_class(ary)[37m [39;49;00m!=[37m [39;49;00mrb_cArray)[37m [39;49;00m{[37m[39;49;00m$
  1732^I[37m^I[39;49;00mVALUE[37m [39;49;00mdup[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(RARRAY(ary)->len);[37m[39;49;00m$
  1733^I[37m^I[39;49;00mrb_ary_replace(dup,[37m [39;49;00mary);[37m[39;49;00m$
  1734^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mdup;[37m[39;49;00m$
  1735^I[37m    [39;49;00m}[37m[39;49;00m$
  1736^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1737^I}[37m[39;49;00m$
  1738^I[37m[39;49;00m$
  1739^I[37m/*[39;49;00m$
  1740^I[37m *  call-seq:[39;49;00m$
  1741^I[37m *     array.to_ary -> array[39;49;00m$
  1742^I[37m *  [39;49;00m$
  1743^I[37m *  Returns _self_.[39;49;00m$
  1744^I[37m */[39;49;00m[37m[39;49;00m$
  1745^I[37m[39;49;00m$
  1746^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1747^Irb_ary_to_ary_m(ary)[37m[39;49;00m$
  1748^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1749^I{[37m[39;49;00m$
  1750^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1751^I}[37m[39;49;00m$
  1752^I[37m[39;49;00m$
  1753^IVALUE[37m[39;49;00m$
  1754^Irb_ary_reverse(ary)[37m[39;49;00m$
  1755^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1756^I{[37m[39;49;00m$
  1757^I[37m    [39;49;00mVALUE[37m [39;49;00m*p1,[37m [39;49;00m*p2;[37m[39;49;00m$
  1758^I[37m    [39;49;00mVALUE[37m [39;49;00mtmp;[37m[39;49;00m$
  1759^I[37m[39;49;00m$
  1760^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
  1761^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m>[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1762^I[37m^I[39;49;00mp1[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr;[37m[39;49;00m$
  1763^I[37m^I[39;49;00mp2[37m [39;49;00m=[37m [39;49;00mp1[37m [39;49;00m+[37m [39;49;00mRARRAY(ary)->len[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m;[37m^I[39;49;00m[37m/* points last item */[39;49;00m[37m[39;49;00m$
  1764^I[37m[39;49;00m$
  1765^I[37m^I[39;49;00m[34mwhile[39;49;00m[37m [39;49;00m(p1[37m [39;49;00m<[37m [39;49;00mp2)[37m [39;49;00m{[37m[39;49;00m$
  1766^I[37m^I    [39;49;00mtmp[37m [39;49;00m=[37m [39;49;00m*p1;[37m[39;49;00m$
  1767^I[37m^I    [39;49;00m*p1++[37m [39;49;00m=[37m [39;49;00m*p2;[37m[39;49;00m$
  1768^I[37m^I    [39;49;00m*p2--[37m [39;49;00m=[37m [39;49;00mtmp;[37m[39;49;00m$
  1769^I[37m^I[39;49;00m}[37m[39;49;00m$
  1770^I[37m    [39;49;00m}[37m[39;49;00m$
  1771^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1772^I}[37m[39;49;00m$
  1773^I[37m[39;49;00m$
  1774^I[37m/*[39;49;00m$
  1775^I[37m *  call-seq:[39;49;00m$
  1776^I[37m *     array.reverse!   -> array [39;49;00m$
  1777^I[37m *  [39;49;00m$
  1778^I[37m *  Reverses _self_ in place.[39;49;00m$
  1779^I[37m *     [39;49;00m$
  1780^I[37m *     a = [ "a", "b", "c" ][39;49;00m$
  1781^I[37m *     a.reverse!       #=> ["c", "b", "a"][39;49;00m$
  1782^I[37m *     a                #=> ["c", "b", "a"][39;49;00m$
  1783^I[37m */[39;49;00m[37m[39;49;00m$
  1784^I[37m[39;49;00m$
  1785^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1786^Irb_ary_reverse_bang(ary)[37m[39;49;00m$
  1787^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1788^I{[37m[39;49;00m$
  1789^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_reverse(ary);[37m[39;49;00m$
  1790^I}[37m[39;49;00m$
  1791^I[37m[39;49;00m$
  1792^I[37m/*[39;49;00m$
  1793^I[37m *  call-seq:[39;49;00m$
  1794^I[37m *     array.reverse -> an_array[39;49;00m$
  1795^I[37m *  [39;49;00m$
  1796^I[37m *  Returns a new array containing <i>self</i>'s elements in reverse order.[39;49;00m$
  1797^I[37m *     [39;49;00m$
  1798^I[37m *     [ "a", "b", "c" ].reverse   #=> ["c", "b", "a"][39;49;00m$
  1799^I[37m *     [ 1 ].reverse               #=> [1][39;49;00m$
  1800^I[37m */[39;49;00m[37m[39;49;00m$
  1801^I[37m[39;49;00m$
  1802^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1803^Irb_ary_reverse_m(ary)[37m[39;49;00m$
  1804^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1805^I{[37m[39;49;00m$
  1806^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_reverse(rb_ary_dup(ary));[37m[39;49;00m$
  1807^I}[37m[39;49;00m$
  1808^I[37m[39;49;00m$
  1809^I[34mstruct[39;49;00m[37m [39;49;00m[04m[32mary_sort_data[39;49;00m[37m [39;49;00m{[37m[39;49;00m$
  1810^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1811^I[37m    [39;49;00mVALUE[37m [39;49;00m*ptr;[37m[39;49;00m$
  1812^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mlen;[37m[39;49;00m$
  1813^I};[37m[39;49;00m$
  1814^I[37m[39;49;00m$
  1815^I[34mstatic[39;49;00m[37m [39;49;00m[36mvoid[39;49;00m[37m[39;49;00m$
  1816^I[32mary_sort_check[39;49;00m(data)[37m[39;49;00m$
  1817^I[37m    [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mary_sort_data[39;49;00m[37m [39;49;00m*data;[37m[39;49;00m$
  1818^I{[37m[39;49;00m$
  1819^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(data->ary)->ptr[37m [39;49;00m!=[37m [39;49;00mdata->ptr[37m [39;49;00m||[37m [39;49;00mRARRAY(data->ary)->len[37m [39;49;00m!=[37m [39;49;00mdata->len)[37m [39;49;00m{[37m[39;49;00m$
  1820^I[37m^I[39;49;00mrb_raise(rb_eRuntimeError,[37m [39;49;00m[33m"[39;49;00m[33marray modified during sort[39;49;00m[33m"[39;49;00m);[37m[39;49;00m$
  1821^I[37m    [39;49;00m}[37m[39;49;00m$
  1822^I}[37m[39;49;00m$
  1823^I[37m[39;49;00m$
  1824^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m[39;49;00m$
  1825^Isort_1(a,[37m [39;49;00mb,[37m [39;49;00mdata)[37m[39;49;00m$
  1826^I[37m    [39;49;00mVALUE[37m [39;49;00m*a,[37m [39;49;00m*b;[37m[39;49;00m$
  1827^I[37m    [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mary_sort_data[39;49;00m[37m [39;49;00m*data;[37m[39;49;00m$
  1828^I{[37m[39;49;00m$
  1829^I[37m    [39;49;00mVALUE[37m [39;49;00mretval[37m [39;49;00m=[37m [39;49;00mrb_yield_values([34m2[39;49;00m,[37m [39;49;00m*a,[37m [39;49;00m*b);[37m[39;49;00m$
  1830^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
  1831^I[37m[39;49;00m$
  1832^I[37m    [39;49;00mn[37m [39;49;00m=[37m [39;49;00mrb_cmpint(retval,[37m [39;49;00m*a,[37m [39;49;00m*b);[37m[39;49;00m$
  1833^I[37m    [39;49;00mary_sort_check(data);[37m[39;49;00m$
  1834^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
  1835^I}[37m[39;49;00m$
  1836^I[37m[39;49;00m$
  1837^I[34mstatic[39;49;00m[37m [39;49;00m[36mint[39;49;00m[37m[39;49;00m$
  1838^Isort_2(ap,[37m [39;49;00mbp,[37m [39;49;00mdata)[37m[39;49;00m$
  1839^I[37m    [39;49;00mVALUE[37m [39;49;00m*ap,[37m [39;49;00m*bp;[37m[39;49;00m$
  1840^I[37m    [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mary_sort_data[39;49;00m[37m [39;49;00m*data;[37m[39;49;00m$
  1841^I{[37m[39;49;00m$
  1842^I[37m    [39;49;00mVALUE[37m [39;49;00mretval;[37m[39;49;00m$
  1843^I[37m    [39;49;00mVALUE[37m [39;49;00ma[37m [39;49;00m=[37m [39;49;00m*ap,[37m [39;49;00mb[37m [39;49;00m=[37m [39;49;00m*bp;[37m[39;49;00m$
  1844^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
  1845^I[37m[39;49;00m$
  1846^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(FIXNUM_P(a)[37m [39;49;00m&&[37m [39;49;00mFIXNUM_P(b))[37m [39;49;00m{[37m[39;49;00m$
  1847^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(([36mlong[39;49;00m)a[37m [39;49;00m>[37m [39;49;00m([36mlong[39;49;00m)b)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[34m1[39;49;00m;[37m[39;49;00m$
  1848^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(([36mlong[39;49;00m)a[37m [39;49;00m<[37m [39;49;00m([36mlong[39;49;00m)b)[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[34m-1[39;49;00m;[37m[39;49;00m$
  1849^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[34m0[39;49;00m;[37m[39;49;00m$
  1850^I[37m    [39;49;00m}[37m[39;49;00m$
  1851^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(TYPE(a)[37m [39;49;00m==[37m [39;49;00mT_STRING[37m [39;49;00m&&[37m [39;49;00mTYPE(b)[37m [39;49;00m==[37m [39;49;00mT_STRING)[37m [39;49;00m{[37m[39;49;00m$
  1852^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_str_cmp(a,[37m [39;49;00mb);[37m[39;49;00m$
  1853^I[37m    [39;49;00m}[37m[39;49;00m$
  1854^I[37m[39;49;00m$
  1855^I[37m    [39;49;00mretval[37m [39;49;00m=[37m [39;49;00mrb_funcall(a,[37m [39;49;00mid_cmp,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb);[37m[39;49;00m$
  1856^I[37m    [39;49;00mn[37m [39;49;00m=[37m [39;49;00mrb_cmpint(retval,[37m [39;49;00ma,[37m [39;49;00mb);[37m[39;49;00m$
  1857^I[37m    [39;49;00mary_sort_check(data);[37m[39;49;00m$
  1858^I[37m[39;49;00m$
  1859^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mn;[37m[39;49;00m$
  1860^I}[37m[39;49;00m$
  1861^I[37m[39;49;00m$
  1862^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1863^Isort_internal(ary)[37m[39;49;00m$
  1864^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1865^I{[37m[39;49;00m$
  1866^I[37m    [39;49;00m[34mstruct[39;49;00m[37m [39;49;00m[04m[32mary_sort_data[39;49;00m[37m [39;49;00mdata;[37m[39;49;00m$
  1867^I[37m[39;49;00m$
  1868^I[37m    [39;49;00mdata.ary[37m [39;49;00m=[37m [39;49;00mary;[37m[39;49;00m$
  1869^I[37m    [39;49;00mdata.ptr[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->ptr;[37m [39;49;00mdata.len[37m [39;49;00m=[37m [39;49;00mRARRAY(ary)->len;[37m[39;49;00m$
  1870^I[37m    [39;49;00mqsort(RARRAY(ary)->ptr,[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00m[34msizeof[39;49;00m(VALUE),[37m[39;49;00m$
  1871^I[37m^I  [39;49;00mrb_block_given_p()?sort_1:sort_2,[37m [39;49;00m&data);[37m[39;49;00m$
  1872^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1873^I}[37m[39;49;00m$
  1874^I[37m[39;49;00m$
  1875^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1876^Isort_unlock(ary)[37m[39;49;00m$
  1877^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1878^I{[37m[39;49;00m$
  1879^I[37m    [39;49;00mFL_UNSET(ary,[37m [39;49;00mARY_TMPLOCK);[37m[39;49;00m$
  1880^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1881^I}[37m[39;49;00m$
  1882^I[37m[39;49;00m$
  1883^I[37m/*[39;49;00m$
  1884^I[37m *  call-seq:[39;49;00m$
  1885^I[37m *     array.sort!                   -> array[39;49;00m$
  1886^I[37m *     array.sort! {| a,b | block }  -> array [39;49;00m$
  1887^I[37m *  [39;49;00m$
  1888^I[37m *  Sorts _self_. Comparisons for[39;49;00m$
  1889^I[37m *  the sort will be done using the <code><=></code> operator or using[39;49;00m$
  1890^I[37m *  an optional code block. The block implements a comparison between[39;49;00m$
  1891^I[37m *  <i>a</i> and <i>b</i>, returning -1, 0, or +1. See also[39;49;00m$
  1892^I[37m *  <code>Enumerable#sort_by</code>.[39;49;00m$
  1893^I[37m *     [39;49;00m$
  1894^I[37m *     a = [ "d", "a", "e", "c", "b" ][39;49;00m$
  1895^I[37m *     a.sort                    #=> ["a", "b", "c", "d", "e"][39;49;00m$
  1896^I[37m *     a.sort {|x,y| y <=> x }   #=> ["e", "d", "c", "b", "a"][39;49;00m$
  1897^I[37m */[39;49;00m[37m[39;49;00m$
  1898^I[37m[39;49;00m$
  1899^IVALUE[37m[39;49;00m$
  1900^Irb_ary_sort_bang(ary)[37m[39;49;00m$
  1901^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1902^I{[37m[39;49;00m$
  1903^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
  1904^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(RARRAY(ary)->len[37m [39;49;00m>[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m{[37m[39;49;00m$
  1905^I[37m^I[39;49;00mFL_SET(ary,[37m [39;49;00mARY_TMPLOCK);[37m^I[39;49;00m[37m/* prohibit modification during sort */[39;49;00m[37m[39;49;00m$
  1906^I[37m^I[39;49;00mrb_ensure(sort_internal,[37m [39;49;00mary,[37m [39;49;00msort_unlock,[37m [39;49;00mary);[37m[39;49;00m$
  1907^I[37m    [39;49;00m}[37m[39;49;00m$
  1908^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1909^I}[37m[39;49;00m$
  1910^I[37m[39;49;00m$
  1911^I[37m/*[39;49;00m$
  1912^I[37m *  call-seq:[39;49;00m$
  1913^I[37m *     array.sort                   -> an_array [39;49;00m$
  1914^I[37m *     array.sort {| a,b | block }  -> an_array [39;49;00m$
  1915^I[37m *  [39;49;00m$
  1916^I[37m *  Returns a new array created by sorting <i>self</i>. Comparisons for[39;49;00m$
  1917^I[37m *  the sort will be done using the <code><=></code> operator or using[39;49;00m$
  1918^I[37m *  an optional code block. The block implements a comparison between[39;49;00m$
  1919^I[37m *  <i>a</i> and <i>b</i>, returning -1, 0, or +1. See also[39;49;00m$
  1920^I[37m *  <code>Enumerable#sort_by</code>.[39;49;00m$
  1921^I[37m *     [39;49;00m$
  1922^I[37m *     a = [ "d", "a", "e", "c", "b" ][39;49;00m$
  1923^I[37m *     a.sort                    #=> ["a", "b", "c", "d", "e"][39;49;00m$
  1924^I[37m *     a.sort {|x,y| y <=> x }   #=> ["e", "d", "c", "b", "a"][39;49;00m$
  1925^I[37m */[39;49;00m[37m[39;49;00m$
  1926^I[37m[39;49;00m$
  1927^IVALUE[37m[39;49;00m$
  1928^Irb_ary_sort(ary)[37m[39;49;00m$
  1929^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1930^I{[37m[39;49;00m$
  1931^I[37m    [39;49;00mary[37m [39;49;00m=[37m [39;49;00mrb_ary_dup(ary);[37m[39;49;00m$
  1932^I[37m    [39;49;00mrb_ary_sort_bang(ary);[37m[39;49;00m$
  1933^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1934^I}[37m[39;49;00m$
  1935^I[37m[39;49;00m$
  1936^I[37m/*[39;49;00m$
  1937^I[37m *  call-seq:[39;49;00m$
  1938^I[37m *     array.collect {|item| block }  -> an_array[39;49;00m$
  1939^I[37m *     array.map     {|item| block }  -> an_array[39;49;00m$
  1940^I[37m *  [39;49;00m$
  1941^I[37m *  Invokes <i>block</i> once for each element of <i>self</i>. Creates a [39;49;00m$
  1942^I[37m *  new array containing the values returned by the block.[39;49;00m$
  1943^I[37m *  See also <code>Enumerable#collect</code>.[39;49;00m$
  1944^I[37m *     [39;49;00m$
  1945^I[37m *     a = [ "a", "b", "c", "d" ][39;49;00m$
  1946^I[37m *     a.collect {|x| x + "!" }   #=> ["a!", "b!", "c!", "d!"][39;49;00m$
  1947^I[37m *     a                          #=> ["a", "b", "c", "d"][39;49;00m$
  1948^I[37m */[39;49;00m[37m[39;49;00m$
  1949^I[37m[39;49;00m$
  1950^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1951^Irb_ary_collect(ary)[37m[39;49;00m$
  1952^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1953^I{[37m[39;49;00m$
  1954^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1955^I[37m    [39;49;00mVALUE[37m [39;49;00mcollect;[37m[39;49;00m$
  1956^I[37m[39;49;00m$
  1957^I[37m    [39;49;00m[34mif[39;49;00m[37m [39;49;00m(!rb_block_given_p())[37m [39;49;00m{[37m[39;49;00m$
  1958^I[37m^I[39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_ary_new4(RARRAY(ary)->len,[37m [39;49;00mRARRAY(ary)->ptr);[37m[39;49;00m$
  1959^I[37m    [39;49;00m}[37m[39;49;00m$
  1960^I[37m[39;49;00m$
  1961^I[37m    [39;49;00mcollect[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(RARRAY(ary)->len);[37m[39;49;00m$
  1962^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m [39;49;00mi[37m [39;49;00m<[37m [39;49;00mRARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1963^I[37m^I[39;49;00mrb_ary_push(collect,[37m [39;49;00mrb_yield(RARRAY(ary)->ptr[i]));[37m[39;49;00m$
  1964^I[37m    [39;49;00m}[37m[39;49;00m$
  1965^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcollect;[37m[39;49;00m$
  1966^I}[37m[39;49;00m$
  1967^I[37m[39;49;00m$
  1968^I[37m/* [39;49;00m$
  1969^I[37m *  call-seq:[39;49;00m$
  1970^I[37m *     array.collect! {|item| block }   ->   array[39;49;00m$
  1971^I[37m *     array.map!     {|item| block }   ->   array[39;49;00m$
  1972^I[37m *[39;49;00m$
  1973^I[37m *  Invokes the block once for each element of _self_, replacing the[39;49;00m$
  1974^I[37m *  element with the value returned by _block_.[39;49;00m$
  1975^I[37m *  See also <code>Enumerable#collect</code>.[39;49;00m$
  1976^I[37m *   [39;49;00m$
  1977^I[37m *     a = [ "a", "b", "c", "d" ][39;49;00m$
  1978^I[37m *     a.collect! {|x| x + "!" }[39;49;00m$
  1979^I[37m *     a             #=>  [ "a!", "b!", "c!", "d!" ][39;49;00m$
  1980^I[37m */[39;49;00m[37m[39;49;00m$
  1981^I[37m[39;49;00m$
  1982^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  1983^Irb_ary_collect_bang(ary)[37m[39;49;00m$
  1984^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  1985^I{[37m[39;49;00m$
  1986^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  1987^I[37m[39;49;00m$
  1988^I[37m    [39;49;00mrb_ary_modify(ary);[37m[39;49;00m$
  1989^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m [39;49;00mi[37m [39;49;00m<[37m [39;49;00mRARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  1990^I[37m^I[39;49;00mrb_ary_store(ary,[37m [39;49;00mi,[37m [39;49;00mrb_yield(RARRAY(ary)->ptr[i]));[37m[39;49;00m$
  1991^I[37m    [39;49;00m}[37m[39;49;00m$
  1992^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mary;[37m[39;49;00m$
  1993^I}[37m[39;49;00m$
  1994^I[37m[39;49;00m$
  1995^IVALUE[37m[39;49;00m$
  1996^Irb_get_values_at(obj,[37m [39;49;00molen,[37m [39;49;00margc,[37m [39;49;00margv,[37m [39;49;00mfunc)[37m[39;49;00m$
  1997^I[37m    [39;49;00mVALUE[37m [39;49;00mobj;[37m[39;49;00m$
  1998^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00molen;[37m[39;49;00m$
  1999^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  2000^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  2001^I[37m    [39;49;00mVALUE[37m [39;49;00m(*func)[37m [39;49;00m_((VALUE,[36mlong[39;49;00m));[37m[39;49;00m$
  2002^I{[37m[39;49;00m$
  2003^I[37m    [39;49;00mVALUE[37m [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(argc);[37m[39;49;00m$
  2004^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mbeg,[37m [39;49;00mlen,[37m [39;49;00mi,[37m [39;49;00mj;[37m[39;49;00m$
  2005^I[37m[39;49;00m$
  2006^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i=[34m0[39;49;00m;[37m [39;49;00mi<argc;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  2007^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(FIXNUM_P(argv[i]))[37m [39;49;00m{[37m[39;49;00m$
  2008^I[37m^I    [39;49;00mrb_ary_push(result,[37m [39;49;00m(*func)(obj,[37m [39;49;00mFIX2LONG(argv[i])));[37m[39;49;00m$
  2009^I[37m^I    [39;49;00m[34mcontinue[39;49;00m;[37m[39;49;00m$
  2010^I[37m^I[39;49;00m}[37m[39;49;00m$
  2011^I[37m^I[39;49;00m[37m/* check if idx is Range */[39;49;00m[37m[39;49;00m$
  2012^I[37m^I[39;49;00m[34mswitch[39;49;00m[37m [39;49;00m(rb_range_beg_len(argv[i],[37m [39;49;00m&beg,[37m [39;49;00m&len,[37m [39;49;00molen,[37m [39;49;00m[34m0[39;49;00m))[37m [39;49;00m{[37m[39;49;00m$
  2013^I[37m^I  [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mQfalse[39;49;00m:[37m[39;49;00m$
  2014^I[37m^I    [39;49;00m[34mbreak[39;49;00m;[37m[39;49;00m$
  2015^I[37m^I  [39;49;00m[34mcase[39;49;00m[37m [39;49;00m[31mQnil[39;49;00m:[37m[39;49;00m$
  2016^I[37m^I    [39;49;00m[34mcontinue[39;49;00m;[37m[39;49;00m$
  2017^I[37m^I  [39;49;00m[34mdefault[39;49;00m:[37m[39;49;00m$
  2018^I[37m^I    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(j=[34m0[39;49;00m;[37m [39;49;00mj<len;[37m [39;49;00mj++)[37m [39;49;00m{[37m[39;49;00m$
  2019^I[37m^I^I[39;49;00mrb_ary_push(result,[37m [39;49;00m(*func)(obj,[37m [39;49;00mj+beg));[37m[39;49;00m$
  2020^I[37m^I    [39;49;00m}[37m[39;49;00m$
  2021^I[37m^I    [39;49;00m[34mcontinue[39;49;00m;[37m[39;49;00m$
  2022^I[37m^I[39;49;00m}[37m[39;49;00m$
  2023^I[37m^I[39;49;00mrb_ary_push(result,[37m [39;49;00m(*func)(obj,[37m [39;49;00mNUM2LONG(argv[i])));[37m[39;49;00m$
  2024^I[37m    [39;49;00m}[37m[39;49;00m$
  2025^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
  2026^I}[37m[39;49;00m$
  2027^I[37m[39;49;00m$
  2028^I[37m/* [39;49;00m$
  2029^I[37m *  call-seq:[39;49;00m$
  2030^I[37m *     array.values_at(selector,... )  -> an_array[39;49;00m$
  2031^I[37m *[39;49;00m$
  2032^I[37m *  Returns an array containing the elements in[39;49;00m$
  2033^I[37m *  _self_ corresponding to the given selector(s). The selectors[39;49;00m$
  2034^I[37m *  may be either integer indices or ranges. [39;49;00m$
  2035^I[37m *  See also <code>Array#select</code>.[39;49;00m$
  2036^I[37m * [39;49;00m$
  2037^I[37m *     a = %w{ a b c d e f }[39;49;00m$
  2038^I[37m *     a.values_at(1, 3, 5)[39;49;00m$
  2039^I[37m *     a.values_at(1, 3, 5, 7)[39;49;00m$
  2040^I[37m *     a.values_at(-1, -3, -5, -7)[39;49;00m$
  2041^I[37m *     a.values_at(1..3, 2...5)[39;49;00m$
  2042^I[37m */[39;49;00m[37m[39;49;00m$
  2043^I[37m[39;49;00m$
  2044^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  2045^Irb_ary_values_at(argc,[37m [39;49;00margv,[37m [39;49;00mary)[37m[39;49;00m$
  2046^I[37m    [39;49;00m[36mint[39;49;00m[37m [39;49;00margc;[37m[39;49;00m$
  2047^I[37m    [39;49;00mVALUE[37m [39;49;00m*argv;[37m[39;49;00m$
  2048^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  2049^I{[37m[39;49;00m$
  2050^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mrb_get_values_at(ary,[37m [39;49;00mRARRAY(ary)->len,[37m [39;49;00margc,[37m [39;49;00margv,[37m [39;49;00mrb_ary_entry);[37m[39;49;00m$
  2051^I}[37m[39;49;00m$
  2052^I[37m[39;49;00m$
  2053^I[37m/*[39;49;00m$
  2054^I[37m *  call-seq:[39;49;00m$
  2055^I[37m *     array.select {|item| block } -> an_array[39;49;00m$
  2056^I[37m *  [39;49;00m$
  2057^I[37m *  Invokes the block passing in successive elements from <i>array</i>,[39;49;00m$
  2058^I[37m *  returning an array containing those elements for which the block[39;49;00m$
  2059^I[37m *  returns a true value (equivalent to <code>Enumerable#select</code>).[39;49;00m$
  2060^I[37m *     [39;49;00m$
  2061^I[37m *     a = %w{ a b c d e f }[39;49;00m$
  2062^I[37m *     a.select {|v| v =~ /[aeiou]/}   #=> ["a", "e"][39;49;00m$
  2063^I[37m */[39;49;00m[37m[39;49;00m$
  2064^I[37m[39;49;00m$
  2065^I[34mstatic[39;49;00m[37m [39;49;00mVALUE[37m[39;49;00m$
  2066^Irb_ary_select(ary)[37m[39;49;00m$
  2067^I[37m    [39;49;00mVALUE[37m [39;49;00mary;[37m[39;49;00m$
  2068^I{[37m[39;49;00m$
  2069^I[37m    [39;49;00mVALUE[37m [39;49;00mresult;[37m[39;49;00m$
  2070^I[37m    [39;49;00m[36mlong[39;49;00m[37m [39;49;00mi;[37m[39;49;00m$
  2071^I[37m[39;49;00m$
  2072^I[37m    [39;49;00mresult[37m [39;49;00m=[37m [39;49;00mrb_ary_new2(RARRAY(ary)->len);[37m[39;49;00m$
  2073^I[37m    [39;49;00m[34mfor[39;49;00m[37m [39;49;00m(i[37m [39;49;00m=[37m [39;49;00m[34m0[39;49;00m;[37m [39;49;00mi[37m [39;49;00m<[37m [39;49;00mRARRAY(ary)->len;[37m [39;49;00mi++)[37m [39;49;00m{[37m[39;49;00m$
  2074^I[37m^I[39;49;00m[34mif[39;49;00m[37m [39;49;00m(RTEST(rb_yield(RARRAY(ary)->ptr[i])))[37m [39;49;00m{[37m[39;49;00m$
  2075^I[37m^I    [39;49;00mrb_ary_push(result,[37m [39;49;00mrb_ary_elt(ary,[37m [39;49;00mi));[37m[39;49;00m$
  2076^I[37m^I[39;49;00m}[37m[39;49;00m$
  2077^I[37m    [39;49;00m}[37m[39;49;00m$
  2078^I[37m    [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mresult;[37m[39;49;00m$
  2079^I}$
