     1	10[34mREM[39;49;00m[37m >EIRC[39;49;00m[37m[39;49;00m
     2	20[34mREM[39;49;00m[37m The simplest IRC client you can write. Maybe.[39;49;00m[37m[39;49;00m
     3	30[34mREM[39;49;00m[37m (C) Justin Fletcher, 1998[39;49;00m[37m[39;49;00m
     4	40[36m:[39;49;00m[37m[39;49;00m
     5	50[34mEND[39;49;00m=[34mPAGE[39;49;00m[34m+1024[39;49;00m*[34m16[39;49;00m[37m[39;49;00m
     6	60[34mREM[39;49;00m[37m Change these if you wish[39;49;00m[37m[39;49;00m
     7	70[31mhost$[39;49;00m=[33m"[39;49;00m[33mirc.stealth.net[39;49;00m[33m"[39;49;00m[37m[39;49;00m
     8	80[31mport[39;49;00m=[34m6667[39;49;00m[37m[39;49;00m
     9	90[31mnick$[39;49;00m=[33m"[39;49;00m[33meirc[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    10	100[31mourchan$[39;49;00m=[33m"[39;49;00m[33m#acorn[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    11	110[36m:[39;49;00m[37m[39;49;00m
    12	120[34mREM[39;49;00m[37m Start connecting to a host[39;49;00m[37m[39;49;00m
    13	130[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_ConnectToHost[39;49;00m[33m"[39;49;00m,[31mhost$[39;49;00m,[31mport[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mhandle[39;49;00m[37m[39;49;00m
    14	140[34mREPEAT[39;49;00m[37m[39;49;00m
    15	150[37m [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_CheckState[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mstate[39;49;00m[37m[39;49;00m
    16	160[37m [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31mstate[39;49;00m<[34m-1[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_Forget[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m[36m:[39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_DecodeState[39;49;00m[33m"[39;49;00m,[31mstate[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31ma$[39;49;00m[36m:[39;49;00m[34mERR[39;49;00m[34mOR[39;49;00m[37m [39;49;00m[34m1[39;49;00m,[33m"[39;49;00m[33mFailed ([39;49;00m[33m"[39;49;00m+[31ma$[39;49;00m+[33m"[39;49;00m[33m)[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    17	170[34mUNTIL[39;49;00m[37m [39;49;00m[31mstate[39;49;00m=[34m4[39;49;00m[37m[39;49;00m
    18	180[36m:[39;49;00m[37m[39;49;00m
    19	190[34mREM[39;49;00m[37m We are now connected[39;49;00m[37m[39;49;00m
    20	200[34mPRINT[39;49;00m[33m"[39;49;00m[33mConnected[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    21	210[36m:[39;49;00m[37m[39;49;00m
    22	220[34mREM[39;49;00m[37m Log on to the server[39;49;00m[37m[39;49;00m
    23	230[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mUSER [39;49;00m[33m"[39;49;00m+[31mnick$[39;49;00m+[33m"[39;49;00m[33m x x :[39;49;00m[33m"[39;49;00m+[31mnick$[39;49;00m[37m[39;49;00m
    24	240[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mNICK [39;49;00m[33m"[39;49;00m+[31mnick$[39;49;00m[37m[39;49;00m
    25	250[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mJOIN [39;49;00m[33m"[39;49;00m+[31mourchan$[39;49;00m[37m[39;49;00m
    26	260[34mREM[39;49;00m[37m Install a monitor so that we don't waste time[39;49;00m[37m[39;49;00m
    27	270[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_Monitor[39;49;00m[33m"[39;49;00m,[34m0[39;49;00m,[31mhandle[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mmonitor[39;49;00m[37m[39;49;00m
    28	280[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_ResetMonitor[39;49;00m[33m"[39;49;00m,[31mmonitor[39;49;00m,[34m0[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mpolladdr%[39;49;00m[37m[39;49;00m
    29	290[36m:[39;49;00m[37m[39;49;00m
    30	300[34mREM[39;49;00m[37m If we crash, we should tidy up after ourselves[39;49;00m[37m[39;49;00m
    31	310[34mON[39;49;00m[37m [39;49;00m[34mERR[39;49;00m[34mOR[39;49;00m[37m [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mXESocket_Forget[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m[36m:[39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mXESocket_Forget[39;49;00m[33m"[39;49;00m,[31mmonitor[39;49;00m[36m:[39;49;00m[34mERR[39;49;00m[34mOR[39;49;00m[37m [39;49;00m[34mEXT[39;49;00m[37m [39;49;00m[34mERR[39;49;00m,[34mREPORT$[39;49;00m+[33m"[39;49;00m[33m at line [39;49;00m[33m"[39;49;00m+[34mSTR$[39;49;00m[34mERL[39;49;00m[37m[39;49;00m
    32	320[36m:[39;49;00m[37m[39;49;00m
    33	330[34mREM[39;49;00m[37m Memory buffer for our data[39;49;00m[37m[39;49;00m
    34	340[31mbufsize%[39;49;00m=[34m1024[39;49;00m[37m[39;49;00m
    35	350[34mDIM[39;49;00m[37m [39;49;00m[31mbuf%[39;49;00m[37m [39;49;00m[31mbufsize%[39;49;00m[37m[39;49;00m
    36	360[36m:[39;49;00m[37m[39;49;00m
    37	370[31minput$[39;49;00m=[33m"[39;49;00m[33m"[39;49;00m[36m:[39;49;00m[34mREM[39;49;00m[37m The input line[39;49;00m[37m[39;49;00m
    38	380[34mREPEAT[39;49;00m[37m[39;49;00m
    39	390[37m [39;49;00m[34mREM[39;49;00m[37m In a taskwindow we should yield until there is data[39;49;00m[37m[39;49;00m
    40	400[37m [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mOS_UpCall[39;49;00m[33m"[39;49;00m,[34m6[39;49;00m,[31mpolladdr%[39;49;00m[37m[39;49;00m
    41	410[37m [39;49;00m[34mIF[39;49;00m[37m [39;49;00m![31mpolladdr%[39;49;00m<>[34m0[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
    42	420[37m  [39;49;00m[34mREM[39;49;00m[37m Reset the monitor for the time being[39;49;00m[37m[39;49;00m
    43	430[37m  [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_ResetMonitor[39;49;00m[33m"[39;49;00m,[31mmonitor[39;49;00m,[34m0[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mpolladdr%[39;49;00m[37m[39;49;00m
    44	440[37m  [39;49;00m[34mREPEAT[39;49;00m[37m[39;49;00m
    45	450[37m   [39;49;00m[34mREM[39;49;00m[37m Read lines from the connection until this buffer is empty[39;49;00m[37m[39;49;00m
    46	460[37m   [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_ReadLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[31mbuf%[39;49;00m,[31mbufsize%[39;49;00m,[34m%100[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m,[31mstr[39;49;00m,[31mlen[39;49;00m[37m[39;49;00m
    47	470[37m   [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31mstr[39;49;00m<>[34m0[39;49;00m[37m [39;49;00m[34mAND[39;49;00m[37m [39;49;00m$[31mstr[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
    48	480[37m    [39;49;00m[31mline$[39;49;00m=$[31mstr[39;49;00m[37m[39;49;00m
    49	490[37m    [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34m4[39;49;00m)=[33m"[39;49;00m[33mPING[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
    50	500[37m     [39;49;00m[34mREM[39;49;00m[37m Ping's must be replied to immediately[39;49;00m[37m[39;49;00m
    51	510[37m     [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mPONG [39;49;00m[33m"[39;49;00m+[34mMID$[39;49;00m([31mline$[39;49;00m,[34m6[39;49;00m)[37m[39;49;00m
    52	520[37m    [39;49;00m[34mELSE[39;49;00m[37m[39;49;00m
    53	530[37m     [39;49;00m[34mREM[39;49;00m[37m Extract source info[39;49;00m[37m[39;49;00m
    54	540[37m     [39;49;00m[31mfrom$[39;49;00m=[34mMID$[39;49;00m([34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m),[34m2[39;49;00m)[37m[39;49;00m
    55	550[37m     [39;49;00m[31mline$[39;49;00m=[34mMID$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m+1[39;49;00m)[37m[39;49;00m
    56	560[37m     [39;49;00m[31muid$[39;49;00m=[34mLEFT$[39;49;00m([31mfrom$[39;49;00m,[34mINSTR[39;49;00m([31mfrom$[39;49;00m+[33m"[39;49;00m[33m![39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m![39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m)[37m[39;49;00m
    57	570[37m     [39;49;00m[31mcom$[39;49;00m=[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m)[37m[39;49;00m
    58	580[37m     [39;49;00m[31mline$[39;49;00m=[34mMID$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m+1[39;49;00m)[37m[39;49;00m
    59	590[37m     [39;49;00m[34mREM[39;49;00m[37m remove the input line[39;49;00m[37m[39;49;00m
    60	600[37m     [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31minput$[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[34mFOR[39;49;00m[31mI[39;49;00m=[34m1[39;49;00m[34mTO[39;49;00m[34mLEN[39;49;00m([31minput$[39;49;00m)[36m:[39;49;00m[34mVDU[39;49;00m[34m127[39;49;00m[36m:[39;49;00m[34mNEXT[39;49;00m[37m[39;49;00m
    61	610[37m     [39;49;00m[34mCASE[39;49;00m[37m [39;49;00m[34mFN[39;49;00m[32mupper[39;49;00m([31mcom$[39;49;00m)[37m [39;49;00m[34mOF[39;49;00m[37m[39;49;00m
    62	620[37m      [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mPRIVMSG[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    63	630[37m       [39;49;00m[34mREM[39;49;00m[37m Extract the destination[39;49;00m[37m[39;49;00m
    64	640[37m       [39;49;00m[31mchan$[39;49;00m=[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m)[37m[39;49;00m
    65	650[37m       [39;49;00m[31mline$[39;49;00m=[34mMID$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m+2[39;49;00m)[36m:[39;49;00m[34mREM[39;49;00m[37m Skip :[39;49;00m[37m[39;49;00m
    66	660[37m       [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34m1[39;49;00m)=[34mCHR$[39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
    67	670[37m        [39;49;00m[34mREM[39;49;00m[37m CTCP, so respond to it[39;49;00m[37m[39;49;00m
    68	680[37m        [39;49;00m[31mline$[39;49;00m=[34mMID$[39;49;00m([31mline$[39;49;00m,[34m2[39;49;00m,[34mLEN[39;49;00m([31mline$[39;49;00m)[34m-2[39;49;00m)[37m[39;49;00m
    69	690[37m        [39;49;00m[31mcom$[39;49;00m=[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m)[37m[39;49;00m
    70	700[37m        [39;49;00m[31mline$[39;49;00m=[34mMID$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m+1[39;49;00m)[37m[39;49;00m
    71	710[37m        [39;49;00m[34mCASE[39;49;00m[37m [39;49;00m[34mFN[39;49;00m[32mupper[39;49;00m([31mcom$[39;49;00m)[37m [39;49;00m[34mOF[39;49;00m[37m[39;49;00m
    72	720[37m         [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mPING[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    73	730[37m          [39;49;00m[34mREM[39;49;00m[37m Ping lag timing[39;49;00m[37m[39;49;00m
    74	740[37m          [39;49;00m[31mline$[39;49;00m=[33m"[39;49;00m[33mPONG [39;49;00m[33m"[39;49;00m+[31mline$[39;49;00m[37m[39;49;00m
    75	750[37m          [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m pinged us[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    76	760[37m         [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mVERSION[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    77	770[37m          [39;49;00m[34mREM[39;49;00m[37m Version checking[39;49;00m[37m[39;49;00m
    78	780[37m          [39;49;00m[31mline$[39;49;00m=[33m"[39;49;00m[33mVERSION EIRC 1.00 (c) Justin Fletcher[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    79	790[37m          [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m wanted our version[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    80	800[37m         [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mACTION[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    81	810[37m          [39;49;00m[34mPRINT[39;49;00m[33m"[39;49;00m[33m* [39;49;00m[33m"[39;49;00m;[31muid$[39;49;00m;[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m;[31mline$[39;49;00m[37m[39;49;00m
    82	820[37m          [39;49;00m[31mline$[39;49;00m=[33m"[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    83	830[37m         [39;49;00m[34mOTHERWISE[39;49;00m[37m[39;49;00m
    84	840[37m          [39;49;00m[34mREM[39;49;00m[37m everything else is an error[39;49;00m[37m[39;49;00m
    85	850[37m          [39;49;00m[31mline$[39;49;00m=[33m"[39;49;00m[33mERRMSG [39;49;00m[33m"[39;49;00m+[31mcom$[39;49;00m+[33m"[39;49;00m[33m not understood[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    86	860[37m          [39;49;00m[34mPRINT[39;49;00m[33m"[39;49;00m[33mCTCP '[39;49;00m[33m"[39;49;00m;[31mcom$[39;49;00m;[33m"[39;49;00m[33m' from [39;49;00m[33m"[39;49;00m;[31muid$[39;49;00m;[33m"[39;49;00m[33m ([39;49;00m[33m"[39;49;00m;[31mline$[39;49;00m;[33m"[39;49;00m[33m)[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    87	870[37m        [39;49;00m[34mEND[39;49;00m[34mCASE[39;49;00m[37m[39;49;00m
    88	880[37m        [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31mline$[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
    89	890[37m         [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mNOTICE [39;49;00m[33m"[39;49;00m+[31muid$[39;49;00m+[33m"[39;49;00m[33m :[39;49;00m[33m"[39;49;00m+[34mCHR$[39;49;00m[34m1[39;49;00m+[31mline$[39;49;00m+[34mCHR$[39;49;00m[34m1[39;49;00m[37m[39;49;00m
    90	900[37m        [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
    91	910[37m       [39;49;00m[34mELSE[39;49;00m[37m[39;49;00m
    92	920[37m        [39;49;00m[34mREM[39;49;00m[37m Somebody said something...[39;49;00m[37m[39;49;00m
    93	930[37m        [39;49;00m[34mPRINT[39;49;00m[33m"[39;49;00m[33m<[39;49;00m[33m"[39;49;00m;[31muid$[39;49;00m;[33m"[39;49;00m[33m> [39;49;00m[33m"[39;49;00m;[34mFN[39;49;00m[32msafe[39;49;00m([31mline$[39;49;00m)[37m[39;49;00m
    94	940[37m       [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
    95	950[37m      [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mJOIN[39;49;00m[33m"[39;49;00m[37m[39;49;00m
    96	960[37m       [39;49;00m[34mREM[39;49;00m[37m We (or someone else) has joined the channel[39;49;00m[37m[39;49;00m
    97	970[37m       [39;49;00m[31mchan$[39;49;00m=[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m))[36m:[39;49;00m[34mREM[39;49;00m[37m Skip :[39;49;00m[37m[39;49;00m
    98	980[37m       [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[34mLEFT$[39;49;00m([31mchan$[39;49;00m,[34m1[39;49;00m)=[33m"[39;49;00m[33m:[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[31mchan$[39;49;00m=[34mMID$[39;49;00m([31mchan$[39;49;00m,[34m2[39;49;00m)[37m[39;49;00m
    99	990[37m       [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m has joined [39;49;00m[33m"[39;49;00m;[31mchan$[39;49;00m[37m[39;49;00m
   100	1000[37m      [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mPART[39;49;00m[33m"[39;49;00m[37m[39;49;00m
   101	1010[37m       [39;49;00m[34mREM[39;49;00m[37m Someone else has left the channel[39;49;00m[37m[39;49;00m
   102	1020[37m       [39;49;00m[31mchan$[39;49;00m=[34mLEFT$[39;49;00m([31mline$[39;49;00m,[34mINSTR[39;49;00m([31mline$[39;49;00m+[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m)[34m-1[39;49;00m)[37m[39;49;00m
   103	1030[37m       [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[34mLEFT$[39;49;00m([31mchan$[39;49;00m,[34m1[39;49;00m)=[33m"[39;49;00m[33m:[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[31mchan$[39;49;00m=[34mMID$[39;49;00m([31mchan$[39;49;00m,[34m2[39;49;00m)[37m[39;49;00m
   104	1040[37m       [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m has left [39;49;00m[33m"[39;49;00m;[31mchan$[39;49;00m[37m[39;49;00m
   105	1050[37m      [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mQUIT[39;49;00m[33m"[39;49;00m[37m[39;49;00m
   106	1060[37m       [39;49;00m[34mREM[39;49;00m[37m Someone else has quit IRC[39;49;00m[37m[39;49;00m
   107	1070[37m       [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m quit IRC[39;49;00m[33m"[39;49;00m[37m[39;49;00m
   108	1080[37m      [39;49;00m[34mOTHERWISE[39;49;00m[37m[39;49;00m
   109	1090[37m       [39;49;00m[34mREM[39;49;00m[37m Some unknown command[39;49;00m[37m[39;49;00m
   110	1100[37m       [39;49;00m[34mPRINT[39;49;00m[31muid$[39;49;00m;[33m"[39;49;00m[33m:[39;49;00m[33m"[39;49;00m;[31mcom$[39;49;00m;[33m"[39;49;00m[33m:[39;49;00m[33m"[39;49;00m;[34mFN[39;49;00m[32msafe[39;49;00m([31mline$[39;49;00m)[37m[39;49;00m
   111	1110[37m     [39;49;00m[34mEND[39;49;00m[34mCASE[39;49;00m[37m[39;49;00m
   112	1120[37m     [39;49;00m[34mREM[39;49;00m[37m Re-display our input line[39;49;00m[37m[39;49;00m
   113	1130[37m     [39;49;00m[34mPRINT[39;49;00m[31minput$[39;49;00m;[37m[39;49;00m
   114	1140[37m    [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
   115	1150[37m   [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
   116	1160[37m  [39;49;00m[34mUNTIL[39;49;00m[37m [39;49;00m[31mstr[39;49;00m=[34m0[39;49;00m[37m[39;49;00m
   117	1170[37m [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
   118	1180[37m [39;49;00m[31mb$[39;49;00m=[34mINKEY$[39;49;00m([34m0[39;49;00m)[37m[39;49;00m
   119	1190[37m [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31mb$[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[37m[39;49;00m
   120	1200[37m  [39;49;00m[34mCASE[39;49;00m[37m [39;49;00m[31mb$[39;49;00m[37m [39;49;00m[34mOF[39;49;00m[37m[39;49;00m
   121	1210[37m   [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[34mCHR$[39;49;00m[34m13[39;49;00m[37m[39;49;00m
   122	1220[37m    [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_SendLine[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[33m"[39;49;00m[33mPRIVMSG [39;49;00m[33m"[39;49;00m+[31mourchan$[39;49;00m+[33m"[39;49;00m[33m :[39;49;00m[33m"[39;49;00m+[31minput$[39;49;00m[37m[39;49;00m
   123	1230[37m    [39;49;00m[34mREM[39;49;00m[37m Remove the line[39;49;00m[37m[39;49;00m
   124	1240[37m    [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31minput$[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[34mFOR[39;49;00m[31mI[39;49;00m=[34m1[39;49;00m[34mTO[39;49;00m[34mLEN[39;49;00m([31minput$[39;49;00m)[36m:[39;49;00m[34mVDU[39;49;00m[34m127[39;49;00m[36m:[39;49;00m[34mNEXT[39;49;00m[37m[39;49;00m
   125	1250[37m    [39;49;00m[34mREM[39;49;00m[37m We said it...[39;49;00m[37m[39;49;00m
   126	1260[37m    [39;49;00m[34mPRINT[39;49;00m[33m"[39;49;00m[33m<[39;49;00m[33m"[39;49;00m+[31mnick$[39;49;00m+[33m"[39;49;00m[33m> [39;49;00m[33m"[39;49;00m;[31minput$[39;49;00m[37m[39;49;00m
   127	1270[37m    [39;49;00m[31minput$[39;49;00m=[33m"[39;49;00m[33m"[39;49;00m[37m[39;49;00m
   128	1280[37m   [39;49;00m[34mWHEN[39;49;00m[37m [39;49;00m[34mCHR$[39;49;00m[34m127[39;49;00m,[34mCHR$[39;49;00m[34m8[39;49;00m[37m[39;49;00m
   129	1290[37m    [39;49;00m[34mREM[39;49;00m[37m Backspace[39;49;00m[37m[39;49;00m
   130	1300[37m    [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31minput$[39;49;00m<>[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[34mVDU[39;49;00m[34m127[39;49;00m[37m[39;49;00m
   131	1310[37m    [39;49;00m[31minput$[39;49;00m=[34mLEFT$[39;49;00m([31minput$[39;49;00m)[37m[39;49;00m
   132	1320[37m   [39;49;00m[34mOTHERWISE[39;49;00m[37m[39;49;00m
   133	1330[37m    [39;49;00m[34mREM[39;49;00m[37m Ad to current input[39;49;00m[37m[39;49;00m
   134	1340[37m    [39;49;00m[31minput$[39;49;00m+=[31mb$[39;49;00m[37m[39;49;00m
   135	1350[37m    [39;49;00m[34mPRINT[39;49;00m[31mb$[39;49;00m;[37m[39;49;00m
   136	1360[37m  [39;49;00m[34mEND[39;49;00m[34mCASE[39;49;00m[37m[39;49;00m
   137	1370[37m [39;49;00m[34mEND[39;49;00m[34mIF[39;49;00m[37m[39;49;00m
   138	1380[37m [39;49;00m[34mREM[39;49;00m[37m Has the socket closed[39;49;00m[37m[39;49;00m
   139	1390[37m [39;49;00m[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_Closed[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m,[34m%0[39;49;00m[37m [39;49;00m[34mTO[39;49;00m[37m [39;49;00m[31mclosed[39;49;00m[37m[39;49;00m
   140	1400[34mUNTIL[39;49;00m[37m [39;49;00m[31mclosed[39;49;00m[37m[39;49;00m
   141	1410[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_Forget[39;49;00m[33m"[39;49;00m,[31mhandle[39;49;00m[37m[39;49;00m
   142	1420[34mSYS[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mESocket_Forget[39;49;00m[33m"[39;49;00m,[31mmonitor[39;49;00m[37m[39;49;00m
   143	1430[34mEND[39;49;00m[37m[39;49;00m
   144	1440[36m:[39;49;00m[37m[39;49;00m
   145	1450[34mDEF[39;49;00m[34mFN[39;49;00m[32mupper[39;49;00m([31ma$[39;49;00m)[36m:[39;49;00m[34mLOCAL[39;49;00m[37m [39;49;00m[31mc$[39;49;00m,[31mb$[39;49;00m,[31mI[39;49;00m[37m[39;49;00m
   146	1460[34mFOR[39;49;00m[31mI[39;49;00m=[34m1[39;49;00m[34mTO[39;49;00m[34mLEN[39;49;00m([31ma$[39;49;00m)[37m[39;49;00m
   147	1470[31mc$[39;49;00m=[34mMID$[39;49;00m([31ma$[39;49;00m,[31mI[39;49;00m,[34m1[39;49;00m)[36m:[39;49;00m[34mIF[39;49;00m[37m [39;49;00m[31mc$[39;49;00m>=[33m"[39;49;00m[33ma[39;49;00m[33m"[39;49;00m[34mAND[39;49;00m[31mc$[39;49;00m<=[33m"[39;49;00m[33mz[39;49;00m[33m"[39;49;00m[34mTHEN[39;49;00m[31mc$[39;49;00m=[34mCHR$[39;49;00m([34mASC[39;49;00m([31mc$[39;49;00m)[34m-32[39;49;00m)[37m[39;49;00m
   148	1480[31mb$[39;49;00m+=[31mc$[39;49;00m[36m:[39;49;00m[34mNEXT[39;49;00m[36m:[39;49;00m=[31mb$[39;49;00m[37m[39;49;00m
   149	1490[37m[39;49;00m
   150	1500[34mREM[39;49;00m[37m Remove control codes[39;49;00m[37m[39;49;00m
   151	1510[34mDEF[39;49;00m[34mFN[39;49;00m[32msafe[39;49;00m([31mline$[39;49;00m)[37m[39;49;00m
   152	1520[34mLOCAL[39;49;00m[37m [39;49;00m[31mI[39;49;00m[37m[39;49;00m
   153	1530[34mFOR[39;49;00m[31mI[39;49;00m=[34m1[39;49;00m[34mTO[39;49;00m[34mLEN[39;49;00m([31mline$[39;49;00m)[37m[39;49;00m
   154	1540[37m [39;49;00m[34mIF[39;49;00m[37m [39;49;00m[34mMID$[39;49;00m([31mline$[39;49;00m,[31mI[39;49;00m,[34m1[39;49;00m)<[33m"[39;49;00m[33m [39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mTHEN[39;49;00m[34mMID$[39;49;00m([31mline$[39;49;00m,[31mI[39;49;00m,[34m1[39;49;00m)=[33m"[39;49;00m[33m*[39;49;00m[33m"[39;49;00m[37m[39;49;00m
   155	1550[34mNEXT[39;49;00m[37m[39;49;00m
   156	1560=[31mline$[39;49;00m
