[37m; bigtest.nsi[39;49;00m[37m[39;49;00m$
[37m;[39;49;00m[37m[39;49;00m$
[37m; This script attempts to test most of the functionality of the NSIS exehead.[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[36m!ifdef[39;49;00m[37m [39;49;00mHAVE_UPX[37m[39;49;00m$
[36m!packhdr[39;49;00m[37m [39;49;00mtmp.dat[37m [39;49;00m[33m"[39;49;00m[33mupx\upx -9 tmp.dat[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[36m!endif[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[36m!ifdef[39;49;00m[37m [39;49;00mNOCOMPRESS[37m[39;49;00m$
[34mSetCompress[39;49;00m[37m [39;49;00m[31moff[39;49;00m[37m[39;49;00m$
[36m!endif[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mName[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mBigNSISTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mCaption[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mNSIS Big Test[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mIcon[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m${NSISDIR}[39;49;00m[33m\Contrib\Graphics\Icons\nsis1-install.ico[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mOutFile[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbigtest.exe[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSetDateSave[39;49;00m[37m [39;49;00m[31mon[39;49;00m[37m[39;49;00m$
[34mSetDatablockOptimize[39;49;00m[37m [39;49;00m[31mon[39;49;00m[37m[39;49;00m$
[34mCRCCheck[39;49;00m[37m [39;49;00m[31mon[39;49;00m[37m[39;49;00m$
[34mSilentInstall[39;49;00m[37m [39;49;00m[31mnormal[39;49;00m[37m[39;49;00m$
[34mBGGradient[39;49;00m[37m [39;49;00m000000[37m [39;49;00m800000[37m [39;49;00mFFFFFF[37m[39;49;00m$
[34mInstallColors[39;49;00m[37m [39;49;00mFF8080[37m [39;49;00m000030[37m[39;49;00m$
[34mXPStyle[39;49;00m[37m [39;49;00m[31mon[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mInstallDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$PROGRAMFILES[39;49;00m[33m\NSISTest\BigNSISTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mInstallDirRegKey[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mSoftware\NSISTest\BigNSISTest[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mInstall_Dir[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mCheckBitmap[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m${NSISDIR}[39;49;00m[33m\Contrib\Graphics\Checks\classic-cross.bmp[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mLicenseText[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mA test text, make sure it's all there[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mLicenseData[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbigtest.nsi[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mRequestExecutionLevel[39;49;00m[37m [39;49;00m[31madmin[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mPage[39;49;00m[37m [39;49;00mlicense[37m[39;49;00m$
[34mPage[39;49;00m[37m [39;49;00mcomponents[37m[39;49;00m$
[34mPage[39;49;00m[37m [39;49;00mdirectory[37m[39;49;00m$
[34mPage[39;49;00m[37m [39;49;00minstfiles[37m[39;49;00m$
[37m[39;49;00m$
[34mUninstPage[39;49;00m[37m [39;49;00muninstConfirm[37m[39;49;00m$
[34mUninstPage[39;49;00m[37m [39;49;00minstfiles[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[36m!ifndef[39;49;00m[37m [39;49;00mNOINSTTYPES[37m [39;49;00m[37m; only if not defined[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mInstType[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMost[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mInstType[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mFull[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mInstType[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMore[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mInstType[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mBase[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[37m;InstType /NOCUSTOM[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[37m;InstType /COMPONENTSONLYONCUSTOM[39;49;00m[37m[39;49;00m$
[36m!endif[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mAutoCloseWindow[39;49;00m[37m [39;49;00m[31mfalse[39;49;00m[37m[39;49;00m$
[34mShowInstDetails[39;49;00m[37m [39;49;00m[31mshow[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[37m; empty string makes it hidden, so would starting with -[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[37m; write reg info[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mStrCpy[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mPOOOOOOOOOOOP[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDetailPrint[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mI like to be able to see what is going on (debug) $1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegStr[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mInstall_Dir[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[37m; write uninstall strings[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegStr[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mSoftware\Microsoft\Windows\CurrentVersion\Uninstall\BigNSISTest[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mDisplayName[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mBigNSISTest (remove only)[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegStr[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mSoftware\Microsoft\Windows\CurrentVersion\Uninstall\BigNSISTest[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mUninstallString[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m'"$INSTDIR\bt-uninst.exe"'[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSetOutPath[39;49;00m[37m [39;49;00m[31m$INSTDIR[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mFile[39;49;00m[37m [39;49;00m[36m/a[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33msilent.nsi[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mCreateDirectory[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\MyProjectFamily\MyProject[39;49;00m[33m"[39;49;00m[37m [39;49;00m[37m; 2 recursively create a directory for fun.[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteUninstaller[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbt-uninst.exe[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mNop[39;49;00m[37m [39;49;00m[37m; for fun[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTempTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m2[37m [39;49;00m3[37m[39;49;00m$
[37m  [39;49;00mStart:[37m [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mStart:[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mGoto MyLabel[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDYES[39;49;00m[37m [39;49;00mMyLabel[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mRight before MyLabel:[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00mMyLabel:[37m [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMyLabel:[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mRight after MyLabel:[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mGoto Start:?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDYES[39;49;00m[37m [39;49;00mStart[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionGroup[39;49;00m[37m [39;49;00m[36m/e[39;49;00m[37m [39;49;00mSectionGroup1[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest Registry/INI functions[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m4[37m [39;49;00m3[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegStr[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mStrTest_INSTDIR[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegDword[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mDwordTest_0xDEADBEEF[39;49;00m[33m"[39;49;00m[37m [39;49;00m0xdeadbeef[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegDword[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mDwordTest_123456[39;49;00m[33m"[39;49;00m[37m [39;49;00m123456[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegDword[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mDwordTest_0123[39;49;00m[33m"[39;49;00m[37m [39;49;00m0123[37m[39;49;00m$
[37m  [39;49;00m[34mWriteRegBin[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00mSOFTWARE\NSISTest\BigNSISTest[37m [39;49;00m[33m"[39;49;00m[33mBinTest_deadbeef01f00dbeef[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mDEADBEEF01F00DBEEF[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mStrCpy[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SYSDIR[39;49;00m[33m\IniTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteINIStr[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m  [39;49;00m[33m"[39;49;00m[33mMySection[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteINIStr[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m  [39;49;00m[33m"[39;49;00m[33mMySectionIni[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteINIStr[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m  [39;49;00m[33m"[39;49;00m[33mMySectionIni[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue2[39;49;00m[33m"[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mWriteINIStr[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m  [39;49;00m[33m"[39;49;00m[33mIniOn[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mCall[39;49;00m[37m [39;49;00mMyFunctionTest[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mDeleteINIStr[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mIniOn[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDeleteINISec[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMySectionIni[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mReadINIStr[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMySectionIni[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mStrCmp[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00mINIDelSuccess[37m[39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mDeleteINISec failed[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00mINIDelSuccess:[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mClearErrors[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mReadRegStr[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[31mHKCR[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33msoftware\microsoft[39;49;00m[33m"[39;49;00m[37m [39;49;00mxyz_cc_does_not_exist[37m[39;49;00m$
[37m  [39;49;00m[34mIfErrors[39;49;00m[37m [39;49;00m0[37m [39;49;00mNoError[37m[39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mcould not read from HKCR\software\microsoft\xyz_cc_does_not_exist[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m[34mGoto[39;49;00m[37m [39;49;00mErrorYay[37m[39;49;00m$
[37m  [39;49;00mNoError:[37m[39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mread '$1' from HKCR\software\microsoft\xyz_cc_does_not_exist[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00mErrorYay:[37m[39;49;00m$
[37m  [39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest CreateShortCut[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m2[37m [39;49;00m3[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mCall[39;49;00m[37m [39;49;00mCSCTest[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionGroup[39;49;00m[37m [39;49;00mGroup2[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest Branching[39;49;00m[33m"[39;49;00m[37m [39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00mBeginTestSection:[37m[39;49;00m$
[37m  [39;49;00m[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m2[37m [39;49;00m3[37m[39;49;00m$
[37m [39;49;00m$
[37m  [39;49;00m[34mSetOutPath[39;49;00m[37m [39;49;00m[31m$INSTDIR[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mIfFileExists[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\LogicLib.nsi[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m [39;49;00mBranchTest69[37m[39;49;00m$
[37m    [39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to overwrite $INSTDIR\LogicLib.nsi?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDNO[39;49;00m[37m [39;49;00mNoOverwrite[37m [39;49;00m[37m; skipped if file doesn't exist[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m    [39;49;00mBranchTest69:[37m[39;49;00m$
[37m  [39;49;00m$
[37m    [39;49;00m[34mSetOverwrite[39;49;00m[37m [39;49;00m[31mifnewer[39;49;00m[37m [39;49;00m[37m; NOT AN INSTRUCTION, NOT COUNTED IN SKIPPINGS[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00mNoOverwrite:[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mFile[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mLogicLib.nsi[39;49;00m[33m"[39;49;00m[37m [39;49;00m[37m; skipped if answered no[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mSetOverwrite[39;49;00m[37m [39;49;00m[31mtry[39;49;00m[37m [39;49;00m[37m; NOT AN INSTRUCTION, NOT COUNTED IN SKIPPINGS[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to skip the rest of this section?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDYES[39;49;00m[37m [39;49;00mEndTestBranch[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to go back to the beginning of this section?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDYES[39;49;00m[37m [39;49;00mBeginTestSection[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to hide the installer and wait five seconds?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDNO[39;49;00m[37m [39;49;00mNoHide[37m[39;49;00m$
[37m[39;49;00m$
[37m    [39;49;00m[34mHideWindow[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m[34mSleep[39;49;00m[37m [39;49;00m5000[37m[39;49;00m$
[37m    [39;49;00m[34mBringToFront[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00mNoHide:[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to call the function 5 times?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDNO[39;49;00m[37m [39;49;00mNoRecurse[37m[39;49;00m$
[37m[39;49;00m$
[37m    [39;49;00m[34mStrCpy[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mx[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00mLoopTest:[37m [39;49;00m$
[37m      [39;49;00m$
[37m    [39;49;00m[34mCall[39;49;00m[37m [39;49;00mmyfunc[37m[39;49;00m$
[37m    [39;49;00m[34mStrCpy[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mx$1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m[34mStrCmp[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mxxxxxx[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m [39;49;00mLoopTest[37m[39;49;00m$
[37m      [39;49;00m$
[37m  [39;49;00mNoRecurse:[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00mEndTestBranch:[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionGroupEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest CopyFiles[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m2[37m [39;49;00m3[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSetOutPath[39;49;00m[37m [39;49;00m[31m$INSTDIR[39;49;00m\cpdest[37m[39;49;00m$
[37m  [39;49;00m[34mCopyFiles[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$WINDIR[39;49;00m[33m\*.ini[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\cpdest[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionGroupEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest Exec functions[39;49;00m[33m"[39;49;00m[37m [39;49;00mTESTIDX[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSectionIn[39;49;00m[37m [39;49;00m1[37m [39;49;00m2[37m [39;49;00m3[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mSearchPath[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00mnotepad.exe[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mnotepad.exe=$1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mExec[39;49;00m[37m [39;49;00m[33m'"$1"'[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mExecShell[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mopen[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m'"$INSTDIR"'[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mSleep[39;49;00m[37m [39;49;00m500[37m[39;49;00m$
[37m  [39;49;00m[34mBringToFront[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTest ActiveX control registration[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSectionIn[39;49;00m[37m [39;49;00m2[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mUnRegDLL[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SYSDIR[39;49;00m[33m\spin32.ocx[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mSleep[39;49;00m[37m [39;49;00m1000[37m[39;49;00m$
[37m  [39;49;00m[34mRegDLL[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SYSDIR[39;49;00m[33m\spin32.ocx[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mSleep[39;49;00m[37m [39;49;00m1000[37m[39;49;00m$
[37m  [39;49;00m$
[34mSectionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mFunction[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mCSCTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mCreateDirectory[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\Big NSIS Test[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mSetOutPath[39;49;00m[37m [39;49;00m[31m$INSTDIR[39;49;00m[37m [39;49;00m[37m; for working directory[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mCreateShortCut[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\Big NSIS Test\Uninstall BIG NSIS Test.lnk[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\bt-uninst.exe[39;49;00m[33m"[39;49;00m[37m [39;49;00m[37m; use defaults for parameters, icon, etc.[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[37m; this one will use notepad's icon, start it minimized, and give it a hotkey (of Ctrl+Shift+Q)[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mCreateShortCut[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\Big NSIS Test\silent.nsi.lnk[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\silent.nsi[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$WINDIR[39;49;00m[33m\notepad.exe[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m [39;49;00m[31mSW_SHOWMINIMIZED[39;49;00m[37m [39;49;00mCONTROL|SHIFT|Q[37m[39;49;00m$
[37m  [39;49;00m[34mCreateShortCut[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\Big NSIS Test\TheDir.lnk[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m [39;49;00m[31mSW_SHOWMAXIMIZED[39;49;00m[37m [39;49;00mCONTROL|SHIFT|Z[37m[39;49;00m$
[37m[39;49;00m$
[34mFunctionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mFunction[39;49;00m[37m [39;49;00mmyfunc[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mStrCpy[39;49;00m[37m [39;49;00m[36m$2[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMyTestVar=$1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mmyfunc: $2[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mFunctionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mFunction[39;49;00m[37m [39;49;00mMyFunctionTest[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mReadINIStr[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mMySectionIni[39;49;00m[33m"[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mValue1[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mStrCmp[39;49;00m[37m [39;49;00m[36m$1[39;49;00m[37m [39;49;00m[36m$8[39;49;00m[37m [39;49;00mNoFailedMsg[37m[39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWriteINIStr failed[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00mNoFailedMsg:[37m[39;49;00m$
[37m[39;49;00m$
[34mFunctionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mFunction[39;49;00m[37m [39;49;00m.onSelChange[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mSectionGetText[39;49;00m[37m [39;49;00m[34m${TESTIDX}[39;49;00m[37m [39;49;00m[36m$0[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mStrCmp[39;49;00m[37m [39;49;00m[36m$0[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00me[37m[39;49;00m$
[37m    [39;49;00m[34mSectionSetText[39;49;00m[37m [39;49;00m[34m${TESTIDX}[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mGoto[39;49;00m[37m [39;49;00me2[37m[39;49;00m$
e:[37m[39;49;00m$
[37m  [39;49;00m[34mSectionSetText[39;49;00m[37m [39;49;00m[34m${TESTIDX}[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mTextInSection[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
e2:[37m[39;49;00m$
[37m[39;49;00m$
[34mFunctionEnd[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m;--------------------------------[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m; Uninstaller[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mUninstallText[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mThis will uninstall example2. Hit next to continue.[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[34mUninstallIcon[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m${NSISDIR}[39;49;00m[33m\Contrib\Graphics\Icons\nsis1-uninstall.ico[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[34mSection[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mUninstall[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mDeleteRegKey[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mSoftware\Microsoft\Windows\CurrentVersion\Uninstall\BigNSISTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDeleteRegKey[39;49;00m[37m [39;49;00m[31mHKLM[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mSOFTWARE\NSISTest\BigNSISTest[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\silent.nsi[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\LogicLib.nsi[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\bt-uninst.exe[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\test.ini[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\Big NSIS Test\*.*[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mRMDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[36m$SMPROGRAMS[39;49;00m[33m\BiG NSIS Test[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_YESNO[39;49;00m|[31mMB_ICONQUESTION[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mWould you like to remove the directory $INSTDIR\cpdest?[39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDNO[39;49;00m[37m [39;49;00mNoDelete[37m[39;49;00m$
[37m    [39;49;00m[34mDelete[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\cpdest\*.*[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m    [39;49;00m[34mRMDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\cpdest[39;49;00m[33m"[39;49;00m[37m [39;49;00m[37m; skipped if no[39;49;00m[37m[39;49;00m$
[37m  [39;49;00mNoDelete:[37m[39;49;00m$
[37m  [39;49;00m$
[37m  [39;49;00m[34mRMDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\MyProjectFamily\MyProject[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mRMDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m\MyProjectFamily[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m  [39;49;00m[34mRMDir[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m"[39;49;00m[37m[39;49;00m$
[37m[39;49;00m$
[37m  [39;49;00m[34mIfFileExists[39;49;00m[37m [39;49;00m[33m"[39;49;00m[31m$INSTDIR[39;49;00m[33m"[39;49;00m[37m [39;49;00m0[37m [39;49;00mNoErrorMsg[37m[39;49;00m$
[37m    [39;49;00m[34mMessageBox[39;49;00m[37m [39;49;00m[31mMB_OK[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mNote: $INSTDIR could not be removed![39;49;00m[33m"[39;49;00m[37m [39;49;00m[31mIDOK[39;49;00m[37m [39;49;00m0[37m [39;49;00m[37m; skipped if file doesn't exist[39;49;00m[37m[39;49;00m$
[37m  [39;49;00mNoErrorMsg:[37m[39;49;00m$
[37m[39;49;00m$
[34mSectionEnd[39;49;00m$
