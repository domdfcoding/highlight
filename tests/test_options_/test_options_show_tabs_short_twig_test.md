From[37m [39;49;00mthe[37m [39;49;00mTwig[37m [39;49;00mtest[37m [39;49;00msuite,[37m [39;49;00mhttps://github.com/fabpot/Twig,[37m [39;49;00mavailable[37m [39;49;00munder[37m [39;49;00mBSD[37m [39;49;00mlicense.[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
Exception[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00munclosed[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m     [39;49;00m{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m         [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mfo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m         [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mUnexpected[37m [39;49;00mtag[37m [39;49;00mname[37m [39;49;00m[33m"[39;49;00m[33mendblock[39;49;00m[33m"[39;49;00m[37m [39;49;00m(expecting[37m [39;49;00mclosing[37m [39;49;00mtag[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33mif[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdefined[37m [39;49;00mnear[37m [39;49;00mline[37m [39;49;00m[34m4[39;49;00m)[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m16[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Exception[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00mundefined[37m [39;49;00mtrait[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mwith[37m [39;49;00mfoobar[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Runtime:[37m [39;49;00mBlock[37m [39;49;00m[33m"[39;49;00m[33mfoobar[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mtrait[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m.[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mmethod[37m [39;49;00mcalls[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mitems.foo[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems[[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m][37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems[foo][37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems[items[foo]][37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar[37m[39;49;00m
bar[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00marray[37m [39;49;00mnotation[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{[37m# empty array #}[39;49;00m[37m[39;49;00m
{{[37m [39;49;00m[]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[34m0[39;49;00m:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[34m0[39;49;00m:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}|keys|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00m{[34m0[39;49;00m:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mfoo:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[34m0[39;49;00m:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mfoo:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}|keys|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{[37m# nested arrays #}[39;49;00m[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00ma[37m [39;49;00m=[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m],[37m [39;49;00m{[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m{[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}}][37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00ma[[34m2[39;49;00m]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00ma[[34m3[39;49;00m][[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{[37m# works even if [] is used inside the array #}[39;49;00m[37m[39;49;00m
{{[37m [39;49;00m[foo[bar]]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{[37m# elements can be any expression #}[39;49;00m[37m[39;49;00m
{{[37m [39;49;00m[[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m|upper,[37m [39;49;00mbar|upper,[37m [39;49;00mbar[37m [39;49;00m==[37m [39;49;00mfoo]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{[37m# arrays can have a trailing , like in PHP #}[39;49;00m[37m[39;49;00m
{{[37m[39;49;00m
[37m  [39;49;00m[[37m[39;49;00m
[37m    [39;49;00m[34m1[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[34m2[39;49;00m,[37m[39;49;00m
[37m  [39;49;00m]|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
}}[37m[39;49;00m
[37m[39;49;00m
{[37m# keys can be any expression #}[39;49;00m[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00ma[37m [39;49;00m=[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mb[37m [39;49;00m=[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mary[37m [39;49;00m=[37m [39;49;00m{[37m [39;49;00m(a):[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m(b):[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m(a[37m [39;49;00m~[37m [39;49;00mb):[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m[37m [39;49;00m}[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mary|keys|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mary|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m,[34m2[39;49;00m[37m[39;49;00m
foo,bar[37m[39;49;00m
[34m1[39;49;00m,bar[37m[39;49;00m
[34m0[39;49;00m,foo[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m,bar[37m[39;49;00m
[34m0[39;49;00m,foo[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m,[34m2[39;49;00m[37m[39;49;00m
bar[37m[39;49;00m
[37m[39;49;00m
bar[37m[39;49;00m
[37m[39;49;00m
FOO,BAR,[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m,[34m2[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m,foo,c,[34m1[39;49;00mfoo[37m[39;49;00m
a,b,c,d[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mbinary[37m [39;49;00moperations[37m [39;49;00m(+,[37m [39;49;00m-,[37m [39;49;00m*,[37m [39;49;00m/,[37m [39;49;00m~,[37m [39;49;00m%,[37m [39;49;00m[35mand[39;49;00m,[37m [39;49;00m[35mor[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m*[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m/[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m3[39;49;00m[37m [39;49;00m%[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00mbar[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m~[37m [39;49;00mbar[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20[39;49;00m[37m [39;49;00m//[37m [39;49;00m[34m7[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
foobar[37m[39;49;00m
barbar[37m[39;49;00m
foofoo[37m[39;49;00m
barfoo[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mbitwise[37m [39;49;00moperations[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00mb-[35mand[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00mb-[35mor[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00mb-xor[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m([34m1[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mb-[35mor[39;49;00m[37m [39;49;00m[34m0[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([34m1[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00m([34m0[39;49;00m[37m [39;49;00mb-[35mor[39;49;00m[37m [39;49;00m[34m0[39;49;00m))[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
ok[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mcomparison[37m [39;49;00moperators[37m [39;49;00m(==,[37m [39;49;00m!=,[37m [39;49;00m<,[37m [39;49;00m>,[37m [39;49;00m>=,[37m [39;49;00m<=)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m>[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m>[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m>=[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m>=[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m<[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m<[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m<=[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m<=[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m==[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m==[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m!=[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m!=[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
///[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m//[34m1[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m/[37m[39;49;00m
/[34m1[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33mdivisible by[39;49;00m[33m"[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdivisible[37m [39;49;00mby([34m2[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdivisible[37m [39;49;00mby([34m3[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m    [39;49;00mdivisible[37m   [39;49;00mby[37m   [39;49;00m([34m2[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m[39;49;00m
[37m   [39;49;00mdivisible[37m[39;49;00m
[37m   [39;49;00mby[37m[39;49;00m
[37m   [39;49;00m([34m3[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m..[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m0.[39;49;00m.[34m10[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00mi[37m [39;49;00m}}[37m [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mletter[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m..[33m'[39;49;00m[33mz[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00mletter[37m [39;49;00m}}[37m [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mletter[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m|upper..[33m'[39;49;00m[33mz[39;49;00m[33m'[39;49;00m|upper[37m [39;49;00m%}{{[37m [39;49;00mletter[37m [39;49;00m}}[37m [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mfoo[[34m0[39;49;00m]..foo[[34m1[39;49;00m][37m [39;49;00m%}{{[37m [39;49;00mi[37m [39;49;00m}}[37m [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m..[37m [39;49;00m[34m10[39;49;00m[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00mi[37m [39;49;00m}}[37m [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m1[39;49;00m,[37m [39;49;00m[34m10[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m0[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m[34m6[39;49;00m[37m [39;49;00m[34m7[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34m9[39;49;00m[37m [39;49;00m[34m10[39;49;00m[37m [39;49;00m[37m[39;49;00m
a[37m [39;49;00mb[37m [39;49;00mc[37m [39;49;00md[37m [39;49;00me[37m [39;49;00mf[37m [39;49;00mg[37m [39;49;00mh[37m [39;49;00mi[37m [39;49;00mj[37m [39;49;00mk[37m [39;49;00ml[37m [39;49;00mm[37m [39;49;00mn[37m [39;49;00mo[37m [39;49;00mp[37m [39;49;00mq[37m [39;49;00mr[37m [39;49;00ms[37m [39;49;00mt[37m [39;49;00mu[37m [39;49;00mv[37m [39;49;00mw[37m [39;49;00mx[37m [39;49;00my[37m [39;49;00mz[37m [39;49;00m[37m[39;49;00m
A[37m [39;49;00mB[37m [39;49;00mC[37m [39;49;00mD[37m [39;49;00mE[37m [39;49;00mF[37m [39;49;00mG[37m [39;49;00mH[37m [39;49;00mI[37m [39;49;00mJ[37m [39;49;00mK[37m [39;49;00mL[37m [39;49;00mM[37m [39;49;00mN[37m [39;49;00mO[37m [39;49;00mP[37m [39;49;00mQ[37m [39;49;00mR[37m [39;49;00mS[37m [39;49;00mT[37m [39;49;00mU[37m [39;49;00mV[37m [39;49;00mW[37m [39;49;00mX[37m [39;49;00mY[37m [39;49;00mZ[37m [39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m[34m6[39;49;00m[37m [39;49;00m[34m7[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34m9[39;49;00m[37m [39;49;00m[34m10[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34m3[39;49;00m[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m[34m6[39;49;00m[37m [39;49;00m[34m7[39;49;00m[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34m9[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33mends with[39;49;00m[33m"[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mo[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mfoowaytoolong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00mends[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mgrouping[37m [39;49;00mof[37m [39;49;00mexpressions[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m([34m2[39;49;00m[37m [39;49;00m+[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m/[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mliterals[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
[34m1[39;49;00m[37m [39;49;00m{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00m{{[37m [39;49;00mTRUE[37m [39;49;00m}}[37m[39;49;00m
[34m3[39;49;00m[37m [39;49;00m{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[34m4[39;49;00m[37m [39;49;00m{{[37m [39;49;00mFALSE[37m [39;49;00m}}[37m[39;49;00m
[34m5[39;49;00m[37m [39;49;00m{{[37m [39;49;00mnone[37m [39;49;00m}}[37m[39;49;00m
[34m6[39;49;00m[37m [39;49;00m{{[37m [39;49;00mNONE[37m [39;49;00m}}[37m[39;49;00m
[34m7[39;49;00m[37m [39;49;00m{{[37m [39;49;00m[36mnull[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[34m8[39;49;00m[37m [39;49;00m{{[37m [39;49;00mNULL[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m6[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m7[39;49;00m[37m [39;49;00m[37m[39;49;00m
[34m8[39;49;00m[37m [39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00m__call()[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mattributes[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mfoo.foo[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo.bar[37m [39;49;00m}}[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo_from_call[37m[39;49;00m
bar_from_getbar[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33mmatches[39;49;00m[33m"[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mmatches[37m [39;49;00m[33m'[39;49;00m[33m/o/[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mmatches[37m [39;49;00m[33m'[39;49;00m[33m/^fo/[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mmatches[37m [39;49;00m[33m'[39;49;00m[33m/O/i[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mmethod[37m [39;49;00mcalls[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mitems.foo.foo[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.getFoo()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.bar[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo[[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m][37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.bar([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m43[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.bar(foo)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.self.foo()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.[34mis[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.[35min[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems.foo.[35mnot[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
[37m[39;49;00m
bar_a-[34m43[39;49;00m[37m[39;49;00m
bar_bar[37m[39;49;00m
foo[37m[39;49;00m
[34mis[39;49;00m[37m[39;49;00m
[35min[39;49;00m[37m[39;49;00m
[35mnot[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00mallows[37m [39;49;00mto[37m [39;49;00muse[37m [39;49;00mnamed[37m [39;49;00moperators[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mvariable[37m [39;49;00mnames[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[34mmatch[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mmatches[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00m[34mmatch[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mmatches[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33min[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33min[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mis[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mis[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[35min[39;49;00m[37m[39;49;00m
[34mis[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00mparses[37m [39;49;00mpostfix[37m [39;49;00mexpressions[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mmacros[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoo()[37m [39;49;00m%}foo{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m|upper[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)|upper[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m-[34m1[39;49;00m|upper[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmacros.foo()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m(macros).foo()[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
a[37m[39;49;00m
A[37m[39;49;00m
A[37m[39;49;00m
-[34m1[39;49;00m[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33msame as[39;49;00m[33m"[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([34m1[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([36mtrue[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([34m1[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([36mtrue[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m   [39;49;00msame[37m    [39;49;00m[34mas[39;49;00m[37m   [39;49;00m([34m1[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m[39;49;00m
[37m    [39;49;00msame[37m[39;49;00m
[37m    [39;49;00m[34mas[39;49;00m[37m[39;49;00m
[37m    [39;49;00m([36mtrue[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[33m"[39;49;00m[33mstarts with[39;49;00m[33m"[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33moo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mfoowaytoolong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m      [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m[39;49;00m
with[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
KO[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mstring[37m [39;49;00minterpolation[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{[37m# "foo #{"foo #{bar} baz"} baz" #}[39;49;00m[37m[39;49;00m
{[37m# "foo #{bar}#{bar} baz" #}[39;49;00m[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mBAR[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m [39;49;00mfoo[37m [39;49;00mBAR[37m [39;49;00mbaz[37m [39;49;00mbaz[37m[39;49;00m
foo[37m [39;49;00mBARBAR[37m [39;49;00mbaz[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00mternary[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
YES[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00mternary[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
YES[37m[39;49;00m
NO[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00mternary[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m([34m1[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES1[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO1[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m([34m0[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mYES1[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mNO1[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m==[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo<br />[39;49;00m[33m'[39;49;00m:[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m~[37m [39;49;00m(bar[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m[37m [39;49;00m~[37m [39;49;00mbar)[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
YES[37m[39;49;00m
NO[37m[39;49;00m
YES1[37m[39;49;00m
NO1[37m[39;49;00m
foo<br[37m [39;49;00m/>[37m[39;49;00m
foo-bar[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mallow[37m [39;49;00mto[37m [39;49;00muse[37m [39;49;00mtwo-word[37m [39;49;00mnamed[37m [39;49;00moperators[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mvariable[37m [39;49;00mnames[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mstarts[37m [39;49;00mwith[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mUnexpected[37m [39;49;00mtoken[37m [39;49;00m[33m"[39;49;00m[33moperator[39;49;00m[33m"[39;49;00m[37m [39;49;00mof[37m [39;49;00mvalue[37m [39;49;00m[33m"[39;49;00m[33mstarts with[39;49;00m[33m"[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00munary[37m [39;49;00moperators[37m [39;49;00mprecedence[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m-[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m*[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m4[39;49;00m[37m [39;49;00m/[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m*[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
-[34m2[39;49;00m[37m[39;49;00m
[34m0[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
-[34m20[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00munary[37m [39;49;00moperators[37m [39;49;00m([35mnot[39;49;00m,[37m [39;49;00m-,[37m [39;49;00m+)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m+[34m1[39;49;00m[37m [39;49;00m+[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}/{{[37m [39;49;00m-[34m1[39;49;00m[37m [39;49;00m-[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m([36mfalse[39;49;00m[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00m[36mtrue[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
/[34m1[39;49;00m[37m[39;49;00m
[34m2[39;49;00m/-[34m2[39;49;00m[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mabs[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m(-[34m5.5[39;49;00m)|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m(-[34m5[39;49;00m)|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m(-[34m0[39;49;00m)|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m5[39;49;00m|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m5.5[39;49;00m|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber1|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber2|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber3|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber4|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber5|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber6|[36mabs[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mnumber1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m-[34m5.5[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m-[34m5[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber3[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m-[34m0[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber4[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber5[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber6[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m5.5[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m5.5[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m0[39;49;00m[37m[39;49;00m
[34m0[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m5.5[39;49;00m[37m[39;49;00m
[34m5.5[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m0[39;49;00m[37m[39;49;00m
[34m0[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m5.5[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mbatch[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mrow[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|batch([34m3.1[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mcolumn[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mrow[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>{{[37m [39;49;00mcolumn[37m [39;49;00m}}</div>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m</div>[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mg[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mh[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mi[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mj[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>a</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>b</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>c</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>d</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>e</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>f</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>g</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>h</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>i</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>j</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mbatch[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mrow[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|batch([34m3[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mcolumn[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mrow[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>{{[37m [39;49;00mcolumn[37m [39;49;00m}}</div>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m</div>[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mg[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mh[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mi[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mj[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>a</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>b</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>c</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>d</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>e</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>f</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>g</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>h</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>i</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>j</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mbatch[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
<table>[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mrow[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|batch([34m3[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mcolumn[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mrow[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<td>{{[37m [39;49;00mcolumn[37m [39;49;00m}}</td>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m</tr>[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
</table>[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mg[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mh[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mi[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mj[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<table>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>a</td>[37m[39;49;00m
[37m      [39;49;00m<td>b</td>[37m[39;49;00m
[37m      [39;49;00m<td>c</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>d</td>[37m[39;49;00m
[37m      [39;49;00m<td>e</td>[37m[39;49;00m
[37m      [39;49;00m<td>f</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>g</td>[37m[39;49;00m
[37m      [39;49;00m<td>h</td>[37m[39;49;00m
[37m      [39;49;00m<td>i</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>j</td>[37m[39;49;00m
[37m      [39;49;00m<td></td>[37m[39;49;00m
[37m      [39;49;00m<td></td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
</table>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mbatch[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mrow[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|batch([34m3[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfill[39;49;00m[33m'[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mcolumn[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mrow[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>{{[37m [39;49;00mcolumn[37m [39;49;00m}}</div>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m</div>[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mg[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mh[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mi[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mj[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mk[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33ml[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>a</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>b</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>c</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>d</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>e</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>f</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>g</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>h</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>i</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
[37m  [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=row>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>j</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>k</div>[37m[39;49;00m
[37m      [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=item>l</div>[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mbatch[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
<table>[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mrow[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|batch([34m3[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfill[39;49;00m[33m'[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mcolumn[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mrow[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<td>{{[37m [39;49;00mcolumn[37m [39;49;00m}}</td>[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m</tr>[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
</table>[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33md[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mf[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mg[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mh[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mi[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mj[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<table>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>a</td>[37m[39;49;00m
[37m      [39;49;00m<td>b</td>[37m[39;49;00m
[37m      [39;49;00m<td>c</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>d</td>[37m[39;49;00m
[37m      [39;49;00m<td>e</td>[37m[39;49;00m
[37m      [39;49;00m<td>f</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>g</td>[37m[39;49;00m
[37m      [39;49;00m<td>h</td>[37m[39;49;00m
[37m      [39;49;00m<td>i</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
[37m  [39;49;00m<tr>[37m[39;49;00m
[37m      [39;49;00m<td>j</td>[37m[39;49;00m
[37m      [39;49;00m<td>fill</td>[37m[39;49;00m
[37m      [39;49;00m<td>fill</td>[37m[39;49;00m
[37m    [39;49;00m</tr>[37m[39;49;00m
</table>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mconvert_encoding[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--CONDITION--[37m[39;49;00m
function_exists([33m'[39;49;00m[33miconv[39;49;00m[33m'[39;49;00m)[37m [39;49;00m||[37m [39;49;00mfunction_exists([33m'[39;49;00m[33mmb_convert_encoding[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m愛していますか？[39;49;00m[33m"[39;49;00m|convert_encoding([33m'[39;49;00m[33mISO-2022-JP[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m)|convert_encoding([33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mISO-2022-JP[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[04m[91m愛[39;49;00m[04m[91mし[39;49;00m[04m[91mて[39;49;00m[04m[91mい[39;49;00m[04m[91mま[39;49;00m[04m[91mす[39;49;00m[04m[91mか[39;49;00m[04m[91m？[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m [39;49;00m(interval[37m [39;49;00msupport[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mof[37m [39;49;00mPHP[37m [39;49;00m[34m5.3[39;49;00m)[37m[39;49;00m
--CONDITION--[37m[39;49;00m
version_compare(phpversion(),[37m [39;49;00m[33m'[39;49;00m[33m5.3.0[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m>=[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate2|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33m%d[39;49;00m[33m days[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
$twig->getExtension([33m'[39;49;00m[33mcore[39;49;00m[33m'[39;49;00m)->setDateFormat([33m'[39;49;00m[33mY-m-d[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m%d[39;49;00m[33m days [39;49;00m[33m%[39;49;00m[33mh hours[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateInterval([33m'[39;49;00m[33mP2D[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00mdays[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mhours[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00mdays[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate1|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
$twig->getExtension([33m'[39;49;00m[33mcore[39;49;00m[33m'[39;49;00m)->setDateFormat([33m'[39;49;00m[33mY-m-d[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m%d[39;49;00m[33m days [39;49;00m[33m%[39;49;00m[33mh hours[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mmktime([34m13[39;49;00m,[37m [39;49;00m[34m45[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m10[39;49;00m,[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2010[39;49;00m-[34m10[39;49;00m-[34m04[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--CONDITION--[37m[39;49;00m
version_compare(phpversion(),[37m [39;49;00m[33m'[39;49;00m[33m5.5.0[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m>=[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate1|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m,[37m [39;49;00mtimezone1)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTimeImmutable([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTimeImmutable([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mAmerica/New_York[39;49;00m[33m'[39;49;00m)),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mtimezone1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mAmerica/New_York[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
October[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m07[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m+[34m02[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m05[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m01[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m+[34m08[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m04[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
Europe/Paris[37m[39;49;00m
America/New_York[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m [39;49;00m(interval[37m [39;49;00msupport[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mof[37m [39;49;00mPHP[37m [39;49;00m[34m5.3[39;49;00m)[37m[39;49;00m
--CONDITION--[37m[39;49;00m
version_compare(phpversion(),[37m [39;49;00m[33m'[39;49;00m[33m5.3.0[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m>=[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate1|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33m%d[39;49;00m[33m days [39;49;00m[33m%[39;49;00m[33mh hours[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33m%d[39;49;00m[33m days [39;49;00m[33m%[39;49;00m[33mh hours[39;49;00m[33m'[39;49;00m,[37m [39;49;00mtimezone1)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateInterval([33m'[39;49;00m[33mP2D[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m//[37m [39;49;00mThis[37m [39;49;00mshould[37m [39;49;00mhave[37m [39;49;00mno[37m [39;49;00meffect[37m [39;49;00mon[37m [39;49;00mDateInterval[37m [39;49;00mformatting[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mtimezone1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mAmerica/New_York[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00mdays[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00mdays[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mhours[37m[39;49;00m
[34m2[39;49;00m[37m [39;49;00mdays[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mhours[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate_modify[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate1|date_modify([33m'[39;49;00m[33m-1day[39;49;00m[33m'[39;49;00m)|date([33m'[39;49;00m[33mY-m-d H:i:s[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date_modify([33m'[39;49;00m[33m-1day[39;49;00m[33m'[39;49;00m)|date([33m'[39;49;00m[33mY-m-d H:i:s[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTime([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2010[39;49;00m-[34m10[39;49;00m-[34m03[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m2010[39;49;00m-[34m10[39;49;00m-[34m03[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate|date(format=[33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00mtimezone=[33m'[39;49;00m[33mAmerica/Chicago[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate|date(timezone=[33m'[39;49;00m[33mAmerica/Chicago[39;49;00m[33m'[39;49;00m,[37m [39;49;00mformat=[33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00mtimezone=[33m'[39;49;00m[33mAmerica/Chicago[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mdate[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mmktime([34m13[39;49;00m,[37m [39;49;00m[34m45[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m10[39;49;00m,[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m08[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m05[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m08[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m05[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m08[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m05[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate1|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAmerica/Chicago[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate1|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate2|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m,[37m [39;49;00mtimezone1)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate2|date([33m'[39;49;00m[33md/m/Y H:i:s[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate3|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate3|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate4|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate4|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate5|date[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate5|date([33m'[39;49;00m[33md/m/Y[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate6|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate6|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mAsia/Hong_Kong[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate6|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate6|date([33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate6|date([33m'[39;49;00m[33me[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mdate7|date[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mEurope/Paris[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mmktime([34m13[39;49;00m,[37m [39;49;00m[34m45[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m10[39;49;00m,[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTime([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate3[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate4[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m1286199900[39;49;00m,[37m [39;49;00m//[37m [39;49;00mDateTime::createFromFormat([33m'[39;49;00m[33mY-m-d H:i[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m))->getTimestamp()[37m [39;49;00m--[37m [39;49;00mA[37m [39;49;00munixtimestamp[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00malways[37m [39;49;00mGMT[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate5[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m-[34m189291360[39;49;00m,[37m [39;49;00m//[37m [39;49;00mDateTime::createFromFormat([33m'[39;49;00m[33mY-m-d H:i[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m1964-01-02 03:04[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m))->getTimestamp(),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate6[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTime([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mAmerica/New_York[39;49;00m[33m'[39;49;00m)),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate7[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m2010-01-28T15:00:00+05:00[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mtimezone1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mAmerica/New_York[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
October[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m+[34m08[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m06[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m05[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
Europe/Paris[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[37m[39;49;00m
October[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m07[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[37m[39;49;00m
October[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
[37m[39;49;00m
October[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m15[39;49;00m:[34m45[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m[39;49;00m
[37m[39;49;00m
January[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m1964[39;49;00m[37m [39;49;00m[34m04[39;49;00m:[34m04[39;49;00m[37m[39;49;00m
[34m02[39;49;00m/[34m01[39;49;00m/[34m1964[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m19[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m+[34m02[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m05[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m01[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m+[34m08[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m13[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m04[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
Europe/Paris[37m[39;49;00m
America/New_York[37m[39;49;00m
[37m[39;49;00m
January[37m [39;49;00m[34m28[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m[37m [39;49;00m[34m11[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdefault[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
Variable:[37m[39;49;00m
{{[37m [39;49;00mdefinedVar[37m                  [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mzeroVar[37m                     [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00memptyVar[37m                    [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnullVar[37m                     [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mundefinedVar[37m                [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[36mArray[39;49;00m[37m [39;49;00maccess:[37m[39;49;00m
{{[37m [39;49;00mnested.definedVar[37m           [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m][37m        [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.zeroVar[37m              [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.emptyVar[37m             [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.nullVar[37m              [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.undefinedVar[37m         [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mundefinedVar[39;49;00m[33m'[39;49;00m][37m      [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mundefinedVar.foo[37m            [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
Plain[37m [39;49;00mvalues:[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m[37m                   [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m                           [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m                          [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mnull[39;49;00m[37m                        [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
Precedence:[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mo[39;49;00m[33m'[39;49;00m[37m [39;49;00m~[37m [39;49;00mnullVar[37m               [39;49;00m|default([33m'[39;49;00m[33mk[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mo[39;49;00m[33m'[39;49;00m[37m [39;49;00m~[37m [39;49;00mnested.nullVar[37m        [39;49;00m|default([33m'[39;49;00m[33mk[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[36mObject[39;49;00m[37m [39;49;00mmethods:[37m[39;49;00m
{{[37m [39;49;00mobject.foo[37m                  [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod[37m      [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.getFoo()[37m             [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.getFoo([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m          [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod()[37m    [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
Deep[37m [39;49;00mnested:[37m[39;49;00m
{{[37m [39;49;00mnested.undefinedVar.foo.bar[37m [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.definedArray.[34m0[39;49;00m[37m       [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m][[34m0[39;49;00m][37m   [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.self.foo[37m             [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.self.undefinedMethod[37m [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod.self[37m [39;49;00m|default([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msame[37m [39;49;00m[34mas[39;49;00m([33m'[39;49;00m[33mdefault[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33memptyVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnested[39;49;00m[33m'[39;49;00m[37m     [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33memptyVar[39;49;00m[33m'[39;49;00m[37m     [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m0[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m[39;49;00m
)[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Variable:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
[36mArray[39;49;00m[37m [39;49;00maccess:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Plain[37m [39;49;00mvalues:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Precedence:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
[36mObject[39;49;00m[37m [39;49;00mmethods:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Deep[37m [39;49;00mnested:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33memptyVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnested[39;49;00m[33m'[39;49;00m[37m     [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33memptyVar[39;49;00m[33m'[39;49;00m[37m     [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m0[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m[39;49;00m
)[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mtrue[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Variable:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
[36mArray[39;49;00m[37m [39;49;00maccess:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Plain[37m [39;49;00mvalues:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Precedence:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
[36mObject[39;49;00m[37m [39;49;00mmethods:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
Deep[37m [39;49;00mnested:[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
--TEST--[37m[39;49;00m
dynamic[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m|foo_path[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m|a_foo_b_bar[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo/bar[37m[39;49;00m
a/b/bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescape[37m [39;49;00mwith[37m [39;49;00mthe[37m [39;49;00mhtml[37m [39;49;00mstrategy[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mthe[37m [39;49;00mhtml_attr[37m [39;49;00mstrategy[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m|escape([33m'[39;49;00m[33mhtml_attr[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;br&[37m#x20;&#x2F;&gt;[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m愛していますか？ <br />[39;49;00m[33m"[39;49;00m|e[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[04m[91m愛[39;49;00m[04m[91mし[39;49;00m[04m[91mて[39;49;00m[04m[91mい[39;49;00m[04m[91mま[39;49;00m[04m[91mす[39;49;00m[04m[91mか[39;49;00m[04m[91m？[39;49;00m[37m [39;49;00m&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mfoo <br />[39;49;00m[33m"[39;49;00m|e[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m [39;49;00m&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfirst[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|first[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{a:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb:[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00mc:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00md:[37m [39;49;00m[34m4[39;49;00m}|first[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m|first[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marr|first[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mÄ€é[39;49;00m[33m'[39;49;00m|first[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m|first[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marr[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[04m[91mÄ[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mfoo<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendset[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo|e([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-}}[37m[39;49;00m
{{[37m [39;49;00mfoo|e([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m    [39;49;00mfoo&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
\x20\x20\x20\x20foo\x3Cbr\x20\x2F\x3E\x0A[37m[39;49;00m
[37m        [39;49;00mfoo<br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mformat[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mstring|format(foo,[37m [39;49;00m[34m3[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstring[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m%s[39;49;00m[33m/[39;49;00m[33m%d[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar/[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mjoin[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m]|join([33m'[39;49;00m[33m, [39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo|join([33m'[39;49;00m[33m, [39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbar|join([33m'[39;49;00m[33m, [39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo,[37m [39;49;00mbar[37m[39;49;00m
[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mjson_encode[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m|json_encode|raw[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo|json_encode|raw[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[foo,[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m]|json_encode|raw[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwig_Markup([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m[39;49;00m
[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m[39;49;00m
[[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m,[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m][37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mlast[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|last[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{a:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb:[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00mc:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00md:[37m [39;49;00m[34m4[39;49;00m}|last[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m|last[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marr|last[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mÄ€é[39;49;00m[33m'[39;49;00m|last[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m|last[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marr[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[04m[91mé[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mlength[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00marray|length[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mstring|length[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumber|length[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmarkup|length[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m1[39;49;00m,[37m [39;49;00m[34m4[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mstring[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnumber[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m1000[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mmarkup[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwig_Markup([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mlength[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--CONDITION--[37m[39;49;00m
function_exists([33m'[39;49;00m[33mmb_get_info[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mstring|length[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmarkup|length[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstring[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mété[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mmarkup[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwig_Markup([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmerge[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mitems|merge({[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m})|join[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mitems|merge({[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m})|keys|join[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m}|merge(items)|join[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m}|merge(items)|keys|join[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnumerics|merge([[34m4[39;49;00m,[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[34m6[39;49;00m])|join[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mnumerics[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
barfoo[37m[39;49;00m
foobar[37m[39;49;00m
foobar[37m[39;49;00m
barfoo[37m[39;49;00m
[34m123456[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mnl2br[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mI like Twig.[39;49;00m[33m\n[39;49;00m[33mYou will like it too.[39;49;00m[33m\n[39;49;00m[33m\n[39;49;00m[33mEverybody like it![39;49;00m[33m"[39;49;00m|nl2br[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtext|nl2br[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mtext[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33mIf you have some <strong>HTML</strong>[39;49;00m[33m\n[39;49;00m[33mit will be escaped.[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
I[37m [39;49;00mlike[37m [39;49;00mTwig.<br[37m [39;49;00m/>[37m[39;49;00m
You[37m [39;49;00mwill[37m [39;49;00mlike[37m [39;49;00mit[37m [39;49;00mtoo.<br[37m [39;49;00m/>[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
Everybody[37m [39;49;00mlike[37m [39;49;00mit![37m[39;49;00m
If[37m [39;49;00myou[37m [39;49;00mhave[37m [39;49;00msome[37m [39;49;00m&lt;strong&gt;HTML&lt;/strong&gt;<br[37m [39;49;00m/>[37m[39;49;00m
it[37m [39;49;00mwill[37m [39;49;00mbe[37m [39;49;00mescaped.[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mnumber_format[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m [39;49;00mwith[37m [39;49;00mdefaults.[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m20[39;49;00m|number_format[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format([34m1[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1020.25[39;49;00m|number_format[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1020.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1020.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m.[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
$twig->getExtension([33m'[39;49;00m[33mcore[39;49;00m[33m'[39;49;00m)->setNumberFormat([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m![39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m=[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m20[39;49;00m![34m00[39;49;00m[37m[39;49;00m
[34m20[39;49;00m![34m25[39;49;00m[37m[39;49;00m
[34m20[39;49;00m![34m3[39;49;00m[37m[39;49;00m
[34m20[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
[34m1[39;49;00m=[34m020[39;49;00m![34m25[39;49;00m[37m[39;49;00m
[34m1[39;49;00m=[34m020[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
[34m1.020[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mnumber_format[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m20[39;49;00m|number_format[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format([34m2[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m20.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1020.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1020.25[39;49;00m|number_format([34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m.[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m20[39;49;00m[37m[39;49;00m
[34m20[39;49;00m[37m[39;49;00m
[34m20.25[39;49;00m[37m[39;49;00m
[34m20[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
[34m1[39;49;00m,[34m020[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
[34m1.020[39;49;00m,[34m25[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mreplace[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mI like [39;49;00m[33m%[39;49;00m[33mthis[39;49;00m[33m%[39;49;00m[33m and [39;49;00m[33m%[39;49;00m[33mthat[39;49;00m[33m%[39;49;00m[33m.[39;49;00m[33m"[39;49;00m|replace({[33m'[39;49;00m[33m%[39;49;00m[33mthis[39;49;00m[33m%[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m%[39;49;00m[33mthat[39;49;00m[33m%[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
I[37m [39;49;00mlike[37m [39;49;00mfoo[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mbar.[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mreverse[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|reverse|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234évènement[39;49;00m[33m'[39;49;00m|reverse[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marr|reverse|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m}|reverse()|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m}|reverse(preserveKeys=[36mtrue[39;49;00m)|join(glue=[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m}|reverse(preserve_keys=[36mtrue[39;49;00m)|join(glue=[33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marr[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m4321[39;49;00m[37m[39;49;00m
tnemenèvé4321[37m[39;49;00m
[34m4321[39;49;00m[37m[39;49;00m
a,c[37m[39;49;00m
a,c[37m[39;49;00m
a,c[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mround[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m2.7[39;49;00m|[36mround[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2.1[39;49;00m|[36mround[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2.1234[39;49;00m|[36mround[39;49;00m([34m3[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfloor[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2.1[39;49;00m|[36mround[39;49;00m([34m0[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mceil[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00m[34m21.3[39;49;00m|[36mround[39;49;00m(-[34m1[39;49;00m)}}[37m[39;49;00m
{{[37m [39;49;00m[34m21.3[39;49;00m|[36mround[39;49;00m(-[34m1[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mceil[39;49;00m[33m'[39;49;00m)}}[37m[39;49;00m
{{[37m [39;49;00m[34m21.3[39;49;00m|[36mround[39;49;00m(-[34m1[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfloor[39;49;00m[33m'[39;49;00m)}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[34m2.123[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[34m20[39;49;00m[37m[39;49;00m
[34m30[39;49;00m[37m[39;49;00m
[34m20[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mslice[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m][[34m1[39;49;00m:[34m2[39;49;00m]|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{a:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb:[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00mc:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00md:[37m [39;49;00m[34m4[39;49;00m}[[34m1[39;49;00m:[34m2[39;49;00m]|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m][start:length]|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|keys|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[36mtrue[39;49;00m)|keys|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{a:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb:[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00mc:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00md:[37m [39;49;00m[34m4[39;49;00m}|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{a:[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00mb:[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00mc:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00md:[37m [39;49;00m[34m4[39;49;00m}|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|keys|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m[[34m1[39;49;00m:[34m2[39;49;00m][37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marr|slice([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marr[[34m1[39;49;00m:[34m2[39;49;00m]|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m]|slice([34m1[39;49;00m)|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[[34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m][[34m1[39;49;00m:]|join([33m'[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m|slice([34m1[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m[[34m1[39;49;00m:][37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m1234[39;49;00m[33m'[39;49;00m[:[34m1[39;49;00m][37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstart[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mlength[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33marr[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m01[39;49;00m[37m[39;49;00m
[34m12[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
bc[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[34m23[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[34m234[39;49;00m[37m[39;49;00m
[34m234[39;49;00m[37m[39;49;00m
[34m234[39;49;00m[37m[39;49;00m
[34m234[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33msort[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00marray1|sort|join[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marray2|sort|join[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marray1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m4[39;49;00m,[37m [39;49;00m[34m1[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33marray2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m14[39;49;00m[37m[39;49;00m
barfoo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33msplit[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33mone,two,three,four,five[39;49;00m[33m"[39;49;00m|split([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo|split([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo|split([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m3[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbaz|split([33m'[39;49;00m[33m'[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbaz|split([33m'[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo|split([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m,[37m [39;49;00m-[34m2[39;49;00m)|join([33m'[39;49;00m[33m-[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33mone,two,three,four,five[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbaz[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m12345[39;49;00m[33m'[39;49;00m,)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
one-two-three-four-five[37m[39;49;00m
one-two-three-four-five[37m[39;49;00m
one-two-three,four,five[37m[39;49;00m
[34m1[39;49;00m-[34m2[39;49;00m-[34m3[39;49;00m-[34m4[39;49;00m-[34m5[39;49;00m[37m[39;49;00m
[34m12[39;49;00m-[34m34[39;49;00m-[34m5[39;49;00m[37m[39;49;00m
one-two-three--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mtrim[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m  I like Twig.  [39;49;00m[33m"[39;49;00m|trim[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtext|trim[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m  foo/[39;49;00m[33m"[39;49;00m|trim([33m"[39;49;00m[33m/[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mtext[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m  If you have some <strong>HTML</strong> it will be escaped.  [39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
I[37m [39;49;00mlike[37m [39;49;00mTwig.[37m[39;49;00m
If[37m [39;49;00myou[37m [39;49;00mhave[37m [39;49;00msome[37m [39;49;00m&lt;strong&gt;HTML&lt;/strong&gt;[37m [39;49;00mit[37m [39;49;00mwill[37m [39;49;00mbe[37m [39;49;00mescaped.[37m[39;49;00m
[37m  [39;49;00mfoo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33murl_encode[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mPHP[37m [39;49;00m<[37m [39;49;00m[34m5.4[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mHHVM[37m[39;49;00m
--CONDITION--[37m[39;49;00m
defined([33m'[39;49;00m[33mPHP_QUERY_RFC3986[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m{foo:[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00mnumber:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspéßi[39;49;00m[33m%[39;49;00m[33ml[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33me[39;49;00m[33m%c[39;49;00m[33m0d@d[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspa ce[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m}|url_encode[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{foo:[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00mnumber:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspéßi[39;49;00m[33m%[39;49;00m[33ml[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33me[39;49;00m[33m%c[39;49;00m[33m0d@d[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspa ce[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m}|url_encode|raw[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{}|url_encode|default([33m"[39;49;00m[33mdefault[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mspéßi[39;49;00m[33m%le[39;49;00m[33m%c[39;49;00m[33m0d@dspa ce[39;49;00m[33m'[39;49;00m|url_encode[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo=bar&amp;number=[34m3[39;49;00m&amp;sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00ml=e%[34m25[39;49;00mc0d%[34m40[39;49;00md&amp;spa%[34m20[39;49;00mce=[37m[39;49;00m
foo=bar&number=[34m3[39;49;00m&sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00ml=e%[34m25[39;49;00mc0d%[34m40[39;49;00md&spa%[34m20[39;49;00mce=[37m[39;49;00m
default[37m[39;49;00m
sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00mle%[34m25[39;49;00mc0d%[34m40[39;49;00mdspa%[34m20[39;49;00mce[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33murl_encode[39;49;00m[33m"[39;49;00m[37m [39;49;00mfilter[37m[39;49;00m
--CONDITION--[37m[39;49;00m
defined([33m'[39;49;00m[33mPHP_QUERY_RFC3986[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m{foo:[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00mnumber:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspéßi[39;49;00m[33m%[39;49;00m[33ml[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33me[39;49;00m[33m%c[39;49;00m[33m0d@d[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspa ce[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m}|url_encode[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{foo:[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00mnumber:[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspéßi[39;49;00m[33m%[39;49;00m[33ml[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33me[39;49;00m[33m%c[39;49;00m[33m0d@d[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mspa ce[39;49;00m[33m"[39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m"[39;49;00m}|url_encode|raw[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m{}|url_encode|default([33m"[39;49;00m[33mdefault[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mspéßi[39;49;00m[33m%le[39;49;00m[33m%c[39;49;00m[33m0d@dspa ce[39;49;00m[33m'[39;49;00m|url_encode[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo=bar&amp;number=[34m3[39;49;00m&amp;sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00ml=e%[34m25[39;49;00mc0d%[34m40[39;49;00md&amp;spa%[34m20[39;49;00mce=[37m[39;49;00m
foo=bar&number=[34m3[39;49;00m&sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00ml=e%[34m25[39;49;00mc0d%[34m40[39;49;00md&spa%[34m20[39;49;00mce=[37m[39;49;00m
default[37m[39;49;00m
sp%C3%A9%C3%[34m9[39;49;00mFi%[34m25[39;49;00mle%[34m25[39;49;00mc0d%[34m40[39;49;00mdspa%[34m20[39;49;00mce[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mattribute[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mattribute(obj,[37m [39;49;00mmethod)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mattribute(array,[37m [39;49;00mitem)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mattribute(obj,[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[[33m"[39;49;00m[33ma[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mb[39;49;00m[33m"[39;49;00m])[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mattribute(obj,[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m,[37m [39;49;00marguments)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mattribute(obj,[37m [39;49;00mmethod)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mattribute(obj,[37m [39;49;00mnonmethod)[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mobj[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m [39;49;00m[33m'[39;49;00m[33mmethod[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33marray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mitem[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mnonmethod[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mxxx[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33marguments[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
bar_a-b[37m[39;49;00m
bar_a-b[37m[39;49;00m
ok[37m[39;49;00m
ko[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mbase.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m%}BAR{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m%}{{[37m [39;49;00mblock([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m%}BAR_BASE{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BARBAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mconstant[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mconstant([33m'[39;49;00m[33mDATE_W3C[39;49;00m[33m'[39;49;00m)[37m [39;49;00m==[37m [39;49;00mexpect[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mtrue[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mfalse[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mconstant([33m'[39;49;00m[33mARRAY_AS_PROPS[39;49;00m[33m'[39;49;00m,[37m [39;49;00mobject)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mexpect[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mDATE_W3C,[37m [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([33m'[39;49;00m[33mhi[39;49;00m[33m'[39;49;00m)));[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[36mtrue[39;49;00m[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mcycle[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m0.[39;49;00m.[34m6[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mcycle(array1,[37m [39;49;00mi)[37m [39;49;00m}}-{{[37m [39;49;00mcycle(array2,[37m [39;49;00mi)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33marray1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33modd[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33meven[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33marray2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mapple[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33morange[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mcitrus[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
odd-apple[37m[39;49;00m
even-orange[37m[39;49;00m
odd-citrus[37m[39;49;00m
even-apple[37m[39;49;00m
odd-orange[37m[39;49;00m
even-citrus[37m[39;49;00m
odd-apple[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate(date,[37m [39;49;00m[33m"[39;49;00m[33mAmerica/New_York[39;49;00m[33m"[39;49;00m)|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(timezone=[33m"[39;49;00m[33mAmerica/New_York[39;49;00m[33m"[39;49;00m,[37m [39;49;00mdate=date)|date([33m'[39;49;00m[33md/m/Y H:i:s P[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mdate[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mmktime([34m13[39;49;00m,[37m [39;49;00m[34m45[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m10[39;49;00m,[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m09[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m04[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
[34m04[39;49;00m/[34m10[39;49;00m/[34m2010[39;49;00m[37m [39;49;00m[34m09[39;49;00m:[34m45[39;49;00m:[34m00[39;49;00m[37m [39;49;00m-[34m04[39;49;00m:[34m00[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdate[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdate()[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33mnow[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(date1)[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(date2)[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(date3)[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(date4)[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdate(date5)[37m [39;49;00m==[37m [39;49;00mdate([33m'[39;49;00m[33m1964-01-02 03:04[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mOK[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mKO[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
date_default_timezone_set([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mmktime([34m13[39;49;00m,[37m [39;49;00m[34m45[39;49;00m,[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[34m10[39;49;00m,[37m [39;49;00m[34m4[39;49;00m,[37m [39;49;00m[34m2010[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mDateTime([33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate3[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate4[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m1286199900[39;49;00m,[37m [39;49;00m//[37m [39;49;00mDateTime::createFromFormat([33m'[39;49;00m[33mY-m-d H:i[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m2010-10-04 13:45[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m))->getTimestamp()[37m [39;49;00m--[37m [39;49;00mA[37m [39;49;00munixtimestamp[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00malways[37m [39;49;00mGMT[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdate5[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m-[34m189291360[39;49;00m,[37m [39;49;00m//[37m [39;49;00mDateTime::createFromFormat([33m'[39;49;00m[33mY-m-d H:i[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m1964-01-02 03:04[39;49;00m[33m'[39;49;00m,[37m [39;49;00mnew[37m [39;49;00mDateTimeZone([33m'[39;49;00m[33mUTC[39;49;00m[33m'[39;49;00m))->getTimestamp(),[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
OK[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdump[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction,[37m [39;49;00mxdebug[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mloaded[37m [39;49;00m[35mor[39;49;00m[37m [39;49;00mxdebug[37m [39;49;00m<[34m2.2[39;49;00m-dev[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mloaded[37m[39;49;00m
--CONDITION--[37m[39;49;00m
!extension_loaded([33m'[39;49;00m[33mxdebug[39;49;00m[33m'[39;49;00m)[37m [39;49;00m||[37m [39;49;00m(($r[37m [39;49;00m=[37m [39;49;00mnew[37m [39;49;00mReflectionExtension([33m'[39;49;00m[33mxdebug[39;49;00m[33m'[39;49;00m))[37m [39;49;00m&&[37m [39;49;00mversion_compare($r->getVersion(),[37m [39;49;00m[33m'[39;49;00m[33m2.2-dev[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m<[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdump()[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mdebug[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mtrue[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mautoescape[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m);[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdump[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--CONDITION--[37m[39;49;00m
!extension_loaded([33m'[39;49;00m[33mxdebug[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdump([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdump([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mdebug[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mtrue[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mautoescape[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
string([34m3[39;49;00m)[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m[39;49;00m
[37m[39;49;00m
string([34m3[39;49;00m)[37m [39;49;00m[33m"[39;49;00m[33mfoo[39;49;00m[33m"[39;49;00m[37m[39;49;00m
string([34m3[39;49;00m)[37m [39;49;00m[33m"[39;49;00m[33mbar[39;49;00m[33m"[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
dynamic[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mfoo_path([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00ma_foo_b_bar([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo/bar[37m[39;49;00m
a/b/bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mtmp[37m [39;49;00m=[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
FOO{{[37m [39;49;00mtmp[37m [39;49;00m}}BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOOBAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
FOOBARBAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00msafe[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mauto-escaping[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
<p>Test</p>[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<p>Test</p>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOOBAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
FOOBAR[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00mallows[37m [39;49;00mexpressions[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mthe[37m [39;49;00mtemplate[37m [39;49;00mto[37m [39;49;00minclude[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{{[37m [39;49;00minclude(foo)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOOBAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
FOOBAR[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m],[37m [39;49;00mignore_missing[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00mignore_missing[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00mignore_missing[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m,[37m [39;49;00mvariables[37m [39;49;00m=[37m [39;49;00m{})[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00mignore_missing[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m,[37m [39;49;00mvariables[37m [39;49;00m=[37m [39;49;00m{},[37m [39;49;00mwith_context[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Loader:[37m [39;49;00mTemplate[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3.[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Loader:[37m [39;49;00mTemplate[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2.[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00msandboxed[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00msandboxed[37m [39;49;00m=[37m [39;49;00m[36mtrue[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{{[37m [39;49;00mfoo|e[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Sandbox_SecurityError:[37m [39;49;00mFilter[37m [39;49;00m[33m"[39;49;00m[33me[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mallowed[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2.[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00maccepts[37m [39;49;00mTwig_Template[37m [39;49;00minstance[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude(foo)[37m [39;49;00m}}[37m [39;49;00mFOO[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
BAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m$twig->loadTemplate([33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BAR[37m [39;49;00mFOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m])[37m [39;49;00m}}[37m[39;49;00m
{{-[37m [39;49;00minclude([[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m])[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
foo[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00maccept[37m [39;49;00mvariables[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mwith_context[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{-[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00mwith_context[37m [39;49;00m=[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{-[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m{[33m'[39;49;00m[33mfoo1[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
{{-[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m{[33m'[39;49;00m[33mfoo1[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m},[37m [39;49;00mwith_context[37m [39;49;00m=[37m [39;49;00m[36mfalse[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mk,[37m [39;49;00mv[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m_context[37m [39;49;00m%}{{[37m [39;49;00mk[37m [39;49;00m}},{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo,global,_parent,[37m[39;49;00m
global,_parent,[37m[39;49;00m
foo,global,foo1,_parent,[37m[39;49;00m
foo1,global,_parent,[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00maccept[37m [39;49;00mvariables[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m{[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
{{-[37m [39;49;00minclude([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00mvars)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvars[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar[37m[39;49;00m
bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmax[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[36mmax[39;49;00m([[34m2[39;49;00m,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[34m4[39;49;00m])[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mmax[39;49;00m([34m2[39;49;00m,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mmax[39;49;00m({[34m2[39;49;00m:[33m"[39;49;00m[33mtwo[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m1[39;49;00m:[33m"[39;49;00m[33mone[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m3[39;49;00m:[33m"[39;49;00m[33mthree[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m5[39;49;00m:[33m"[39;49;00m[33mfive[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m4[39;49;00m:[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
[34m5[39;49;00m[37m[39;49;00m
two[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmin[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[36mmin[39;49;00m([34m2[39;49;00m,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[34m4[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mmin[39;49;00m([[34m2[39;49;00m,[37m [39;49;00m[34m1[39;49;00m,[37m [39;49;00m[34m3[39;49;00m,[37m [39;49;00m[34m5[39;49;00m,[37m [39;49;00m[34m4[39;49;00m])[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mmin[39;49;00m({[34m2[39;49;00m:[33m"[39;49;00m[33mtwo[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m1[39;49;00m:[33m"[39;49;00m[33mone[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m3[39;49;00m:[33m"[39;49;00m[33mthree[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m5[39;49;00m:[33m"[39;49;00m[33mfive[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[34m4[39;49;00m:[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
five[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mrange[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[36mrange[39;49;00m(low=[34m0[39;49;00m+[34m1[39;49;00m,[37m [39;49;00mhigh=[34m10[39;49;00m+[34m0[39;49;00m,[37m [39;49;00mstep=[34m2[39;49;00m)|join([33m'[39;49;00m[33m,[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m,[34m3[39;49;00m,[34m5[39;49;00m,[34m7[39;49;00m,[34m9[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m [39;49;00mrecursively[37m [39;49;00mcalled[37m [39;49;00m[35min[39;49;00m[37m [39;49;00ma[37m [39;49;00mparent[37m [39;49;00mtemplate[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mordered_menu.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mlabel[37m [39;49;00m%}[33m"[39;49;00m[33m{{ parent() }}[39;49;00m[33m"[39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mlist[37m [39;49;00m%}{%[37m [39;49;00mset[37m [39;49;00m[34mclass[39;49;00m[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00mparent()[37m [39;49;00m}}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(ordered_menu.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mmenu.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mlist[37m [39;49;00m%}{%[37m [39;49;00mset[37m [39;49;00m[34mclass[39;49;00m[37m [39;49;00m=[37m [39;49;00m[34mclass[39;49;00m|default([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m [39;49;00m%}<ol[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33m{{ class }}[39;49;00m[33m"[39;49;00m>{{[37m [39;49;00mblock([33m'[39;49;00m[33mchildren[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}</ol>{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(menu.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mlist[37m [39;49;00m%}<ul>{{[37m [39;49;00mblock([33m'[39;49;00m[33mchildren[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}</ul>{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mchildren[37m [39;49;00m%}{%[37m [39;49;00mset[37m [39;49;00mcurrentItem[37m [39;49;00m=[37m [39;49;00mitem[37m [39;49;00m%}{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mcurrentItem[37m [39;49;00m%}{{[37m [39;49;00mblock([33m'[39;49;00m[33mitem[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{%[37m [39;49;00mendfor[37m [39;49;00m%}{%[37m [39;49;00mset[37m [39;49;00mitem[37m [39;49;00m=[37m [39;49;00mcurrentItem[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mitem[37m [39;49;00m%}<li>{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00miterable[37m [39;49;00m%}{{[37m [39;49;00mblock([33m'[39;49;00m[33mlabel[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00mblock([33m'[39;49;00m[33mlist[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{%[37m [39;49;00mendif[37m [39;49;00m%}</li>{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mlabel[37m [39;49;00m%}{{[37m [39;49;00mitem[37m [39;49;00m}}{{[37m [39;49;00mblock([33m'[39;49;00m[33munknown[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mlist[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitem[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33m1[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m2[39;49;00m[33m'[39;49;00m,[37m [39;49;00marray([33m'[39;49;00m[33m3.1[39;49;00m[33m'[39;49;00m,[37m [39;49;00marray([33m'[39;49;00m[33m3.2.1[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m3.2.2[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33m3.4[39;49;00m[33m'[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<ol[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mb[39;49;00m[33m"[39;49;00m><li>[33m"[39;49;00m[33m1[39;49;00m[33m"[39;49;00m</li><li>[33m"[39;49;00m[33m2[39;49;00m[33m"[39;49;00m</li><li><ol[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mb[39;49;00m[33m"[39;49;00m><li>[33m"[39;49;00m[33m3.1[39;49;00m[33m"[39;49;00m</li><li><ol[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mb[39;49;00m[33m"[39;49;00m><li>[33m"[39;49;00m[33m3.2.1[39;49;00m[33m"[39;49;00m</li><li>[33m"[39;49;00m[33m3.2.2[39;49;00m[33m"[39;49;00m</li></ol></li><li>[33m"[39;49;00m[33m3.4[39;49;00m[33m"[39;49;00m</li></ol></li></ol>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33msource[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{{[37m [39;49;00msource([33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mtemplate_from_string[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00mtemplate_from_string(template)[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00mtemplate_from_string([33m"[39;49;00m[33mHello {{ name }}[39;49;00m[33m"[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00mtemplate_from_string([33m'[39;49;00m[33m{[39;49;00m[33m% e[39;49;00m[33mxtends [39;49;00m[33m"[39;49;00m[33mparent.twig[39;49;00m[33m"[39;49;00m[33m [39;49;00m[33m%[39;49;00m[33m}{[39;49;00m[33m%[39;49;00m[33m block content [39;49;00m[33m%[39;49;00m[33m}Hello {{ name }}{[39;49;00m[33m% e[39;49;00m[33mndblock [39;49;00m[33m%[39;49;00m[33m}[39;49;00m[33m'[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(parent.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mname[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mFabien[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mtemplate[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33mHello {{ name }}[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Hello[37m [39;49;00mFabien[37m[39;49;00m
Hello[37m [39;49;00mFabien[37m[39;49;00m
Hello[37m [39;49;00mFabien[37m[39;49;00m
--TEST--[37m[39;49;00m
macro[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m_self[37m [39;49;00mimport[37m [39;49;00mtest[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mtest(a,[37m [39;49;00mb[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-%}[37m[39;49;00m
{{[37m [39;49;00ma[37m [39;49;00m}}{{[37m [39;49;00mb[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mtest([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtest([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foobar[37m[39;49;00m
barfoo[37m[39;49;00m
--TEST--[37m[39;49;00m
macro[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mmacros[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoo(data)[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mdata[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mbar()[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mmacros.foo(macros.bar())[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
macro[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m_self[37m [39;49;00mimport[37m [39;49;00mtest[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mtest(this)[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mthis[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mtest(this)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mthis[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
macro[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mtest[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m_self[37m [39;49;00mimport[37m [39;49;00mtest[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mtest(a,[37m [39;49;00mb)[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00ma|default([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mb|default([33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%-[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mtest.test()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtest()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtest.test([34m1[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mc[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtest([34m1[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mc[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
a<br[37m [39;49;00m/>b<br[37m [39;49;00m/>[37m[39;49;00m
a<br[37m [39;49;00m/>b<br[37m [39;49;00m/>[37m[39;49;00m
[34m1[39;49;00m<br[37m [39;49;00m/>c<br[37m [39;49;00m/>[37m[39;49;00m
[34m1[39;49;00m<br[37m [39;49;00m/>c<br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
macro[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mtest[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mtest()[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mfilter[37m [39;49;00mescape[37m [39;49;00m%}foo<br[37m [39;49;00m/>{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mtest.test()[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00moutputs[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00mnodes[37m [39;49;00mcorrectly[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[34m0[39;49;00m{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo0foo[37m[39;49;00m
--TEST--[37m[39;49;00m
error[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mtwig[37m [39;49;00mextension[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mobject.region[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[36mnull[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00mobject.regionChoices[object.region][37m [39;49;00m}}[37m[39;49;00m
--EXPECT--[37m[39;49;00m
house.region.s[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mable[37m [39;49;00mto[37m [39;49;00mdeal[37m [39;49;00mwith[37m [39;49;00mSimpleXMLElement[37m [39;49;00minstances[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mvariables[37m[39;49;00m
--CONDITION--[37m[39;49;00m
version_compare(phpversion(),[37m [39;49;00m[33m'[39;49;00m[33m5.3.0[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m>=[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
Hello[37m [39;49;00m[33m'[39;49;00m[33m{{ images.image.0.group }}[39;49;00m[33m'[39;49;00m![37m[39;49;00m
{{[37m [39;49;00mimages.image.[34m0.[39;49;00mgroup.attributes.myattr[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mimages.children().image.count()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mimage[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mimages[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m-[37m [39;49;00m{{[37m [39;49;00mimage.group[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mimages[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mSimpleXMLElement([33m'[39;49;00m[33m<images><image><group myattr=[39;49;00m[33m"[39;49;00m[33mexample[39;49;00m[33m"[39;49;00m[33m>foo</group></image><image><group>bar</group></image></images>[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Hello[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m![37m[39;49;00m
example[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[37m    [39;49;00m-[37m [39;49;00mfoo[37m[39;49;00m
[37m    [39;49;00m-[37m [39;49;00mbar[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mconfuse[37m [39;49;00mstrings[37m [39;49;00mwith[37m [39;49;00mintegers[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mgetAttribute()[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[36mhash[39;49;00m[[33m'[39;49;00m[33m2e2[39;49;00m[33m'[39;49;00m][37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mhash[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33m2e2[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mworks[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
works[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mon[37m [39;49;00mits[37m [39;49;00mchildren[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}<br[37m [39;49;00m/>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;<br[37m [39;49;00m/>[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;<br[37m [39;49;00m/>[37m[39;49;00m
<br[37m [39;49;00m/><br[37m [39;49;00m/>[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;<br[37m [39;49;00m/>[37m[39;49;00m
<br[37m [39;49;00m/><br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mon[37m [39;49;00membedded[37m [39;49;00mblocks[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdouble-escape[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mafter[37m [39;49;00mcalling[37m [39;49;00mfunctions[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00m[36mfalse[39;49;00m[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
{{[37m [39;49;00msafe_br()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
unsafe_br[37m[39;49;00m
{{[37m [39;49;00munsafe_br()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
{{[37m [39;49;00msafe_br()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
unsafe_br[37m[39;49;00m
{{[37m [39;49;00munsafe_br()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
unsafe_br()|raw[37m[39;49;00m
{{[37m [39;49;00m(unsafe_br())|raw[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
safe_br()|escape[37m[39;49;00m
{{[37m [39;49;00m(safe_br())|escape[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
safe_br()|raw[37m[39;49;00m
{{[37m [39;49;00m(safe_br())|raw[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
unsafe_br()|escape[37m[39;49;00m
{{[37m [39;49;00m(unsafe_br())|escape[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00mjs[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
{{[37m [39;49;00msafe_br()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00m[36mfalse[39;49;00m[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
unsafe_br[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
unsafe_br[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
unsafe_br()|raw[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
safe_br()|escape[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
safe_br()|raw[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
unsafe_br()|escape[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
autoescape[37m [39;49;00mjs[37m[39;49;00m
[37m[39;49;00m
safe_br[37m[39;49;00m
\x3Cbr\x20\x2F\x3E[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mapply[37m [39;49;00mescaping[37m [39;49;00mon[37m [39;49;00mliterals[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mSimple[37m [39;49;00mliteral[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mConditional[37m [39;49;00mexpression[37m [39;49;00mwith[37m [39;49;00monly[37m [39;49;00mliterals[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m<br>[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mConditional[37m [39;49;00mexpression[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m:[37m [39;49;00msomeVar[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00monly[37m [39;49;00mliterals[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m([36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m<br>[39;49;00m[33m"[39;49;00m)[37m [39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m([36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m:[37m [39;49;00msomeVar)[37m [39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m [39;49;00mmarked[37m [39;49;00msafe[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m([36mtrue[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[37m [39;49;00m:[37m [39;49;00msomeVar|raw)[37m [39;49;00m:[37m [39;49;00m[33m"[39;49;00m[33m\n[39;49;00m[33m"[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mSimple[37m [39;49;00mliteral[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mConditional[37m [39;49;00mexpression[37m [39;49;00mwith[37m [39;49;00monly[37m [39;49;00mliterals[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mConditional[37m [39;49;00mexpression[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00monly[37m [39;49;00mliterals[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mNested[37m [39;49;00mconditionals[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mvariable[37m [39;49;00mmarked[37m [39;49;00msafe[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00mcan[37m [39;49;00mbe[37m [39;49;00mnested[37m [39;49;00mat[37m [39;49;00mwill[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m      [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m  [39;49;00m&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m      [39;49;00m<br[37m [39;49;00m/>[37m[39;49;00m
[37m          [39;49;00m&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m        [39;49;00m<br[37m [39;49;00m/>[37m[39;49;00m
[37m    [39;49;00m&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mto[37m [39;49;00mobject[37m [39;49;00mmethod[37m [39;49;00mcalls[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00muser.name[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00muser.name|lower[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00muser[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Fabien&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
fabien&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
Fabien&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescape[37m [39;49;00mwhen[37m [39;49;00mraw[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mused[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00ma[37m [39;49;00mfilter[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|raw[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<br[37m [39;49;00m/>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00maccepts[37m [39;49;00man[37m [39;49;00mescaping[37m [39;49;00mstrategy[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00mjs[37m [39;49;00m%}{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00mhtml[37m [39;49;00m%}{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
\x3Cbr\x20\x2F\x3E\x22[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;&quot;[37m[39;49;00m
\x3Cbr\x20\x2F\x3E\x22[37m[39;49;00m
&lt;br[37m [39;49;00m/&gt;&quot;[37m[39;49;00m
--TEST--[37m[39;49;00m
escape[37m [39;49;00mtypes[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg|escape([39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[33m) }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg|escape([39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[33m) }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg|escape([39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[33m) }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mno[37m [39;49;00mescape[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)|escape([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg|escape([39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[33m)|escape([39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[33m) }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)|escape([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;{{ msg|escape([39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[33m)|escape([39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[33m) }}&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mmsg[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m<>[39;49;00m[33m\n[39;49;00m[33m'[39;49;00m[33m\"[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;[39;49;00m[33m\x3C[39;49;00m[33m\x3E[39;49;00m[33m\x0A[39;49;00m[33m\x27[39;49;00m[33m\x22[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;[39;49;00m[33m\x3C[39;49;00m[33m\x3E[39;49;00m[33m\x0A[39;49;00m[33m\x27[39;49;00m[33m\x22[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;[39;49;00m[33m\x3C[39;49;00m[33m\x3E[39;49;00m[33m\x0A[39;49;00m[33m\x27[39;49;00m[33m\x22[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mno[37m [39;49;00mescape[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;<>[39;49;00m
[33m'[39;49;00m[33m"[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m[33m></a>[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)|escape([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;[39;49;00m[33m\x3C[39;49;00m[33m\x3E[39;49;00m[33m\x0A[39;49;00m[33m\x27[39;49;00m[33m\x22[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m|escape([33m'[39;49;00m[33mjs[39;49;00m[33m'[39;49;00m)|escape([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
<a[37m [39;49;00monclick=[33m"[39;49;00m[33malert(&quot;[39;49;00m[33m\x3C[39;49;00m[33m\x3E[39;49;00m[33m\x0A[39;49;00m[33m\x27[39;49;00m[33m\x22[39;49;00m[33m&quot;)[39;49;00m[33m"[39;49;00m></a>[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdo[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mon[37m [39;49;00mfilter[37m [39;49;00marguments[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br([33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br([33m"[39;49;00m[33m<br />[39;49;00m[33m"[39;49;00m|escape)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br(sep)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br(sep|raw)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br(sep|escape)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m<Fabien>[39;49;00m[33m\n[39;49;00m[33mTwig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33msep[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m<br />[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
&lt;Fabien&gt;&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
Twig[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
&lt;Fabien&gt;&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
Twig[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mafter[37m [39;49;00mcalling[37m [39;49;00mfilters[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
(escape_and_nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00mfilter)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m [39;49;00m[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_and_nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m [39;49;00m[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped,[37m [39;49;00m|raw[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_and_nl2br|raw[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mExplicit[37m [39;49;00mescape[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mexplicitly[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_and_nl2br|escape[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00mnon-escaper[37m [39;49;00mfilter[37m [39;49;00moutput[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper-cased[37m [39;49;00mby[37m [39;49;00m|upper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|upper[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper-cased[37m [39;49;00mby[37m [39;49;00m|upper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m|upper[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_and_nl2br|upper[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper[37m [39;49;00mcased[37m [39;49;00mby[37m [39;49;00mupper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m|escape_and_nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|upper|escape_and_nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m7.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m%s[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m|format([34mvar[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m8.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00m|raw[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m%s[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m|raw|format([34mvar[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m9.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mdue[37m [39;49;00mto[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mat[37m [39;49;00mthe[37m [39;49;00mend[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m%s[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m|format([34mvar[39;49;00m)|raw[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m10.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mdue[37m [39;49;00mto[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mat[37m [39;49;00mthe[37m [39;49;00mend,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m%s[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m|format([34mvar[39;49;00m|raw)|raw[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m<Fabien>[39;49;00m[33m\n[39;49;00m[33mTwig[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
(escape_and_nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00mfilter)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m [39;49;00m[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00m)[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m [39;49;00m[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped,[37m [39;49;00m|raw[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant[37m [39;49;00m)[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mExplicit[37m [39;49;00mescape[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mexplicitly[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape[37m [39;49;00m)[37m[39;49;00m
&amp;lt;Fabien&amp;gt;&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00mnon-escaper[37m [39;49;00mfilter[37m [39;49;00moutput[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper-cased[37m [39;49;00mby[37m [39;49;00m|upper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
&lt;FABIEN&gt;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper-cased[37m [39;49;00mby[37m [39;49;00m|upper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m|upper[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00m)[37m[39;49;00m
&amp;LT;FABIEN&amp;GT;&lt;BR[37m [39;49;00m/&gt;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mupper[37m [39;49;00mcased[37m [39;49;00mby[37m [39;49;00mupper,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mby[37m [39;49;00m|escape_and_nl2br,[37m [39;49;00mline-breaks[37m [39;49;00mare[37m [39;49;00madded,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00m|escape_and_nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m [39;49;00m)[37m[39;49;00m
&lt;FABIEN&gt;<br[37m [39;49;00m/>[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m7.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
&lt;b&gt;&lt;Fabien&gt;[37m[39;49;00m
Twig&lt;/b&gt;[37m[39;49;00m
[37m[39;49;00m
[34m8.[39;49;00m[37m [39;49;00mEscape[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mlast[37m [39;49;00mfilter[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00man[37m [39;49;00mescaper[37m[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00m|raw[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mauto-escaped[37m [39;49;00m)[37m[39;49;00m
&lt;b&gt;&lt;Fabien&gt;[37m[39;49;00m
Twig&lt;/b&gt;[37m[39;49;00m
[37m[39;49;00m
[34m9.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mdue[37m [39;49;00mto[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mat[37m [39;49;00mthe[37m [39;49;00mend[37m [39;49;00m)[37m[39;49;00m
<b><Fabien>[37m[39;49;00m
Twig</b>[37m[39;49;00m
[37m[39;49;00m
[34m10.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape escaper filter output[39;49;00m
([37m [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00mof[37m [39;49;00m|format[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33m<b>[39;49;00m[33m"[39;49;00m[37m [39;49;00m~[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m"[39;49;00m[33m</b>[39;49;00m[33m"[39;49;00m,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00moutput[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mescaped[37m [39;49;00mdue[37m [39;49;00mto[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mat[37m [39;49;00mthe[37m [39;49;00mend,[37m[39;49;00m
[37m  [39;49;00mthe[37m [39;49;00m|raw[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mredundant[37m [39;49;00m)[37m[39;49;00m
<b><Fabien>[37m[39;49;00m
Twig</b>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mescaping[37m [39;49;00mafter[37m [39;49;00mcalling[37m [39;49;00mfilters,[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mbefore[37m [39;49;00mcalling[37m [39;49;00mpre_escape[37m [39;49;00mfilters[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
(nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mpre_escaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mPre-escape[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mdon[33m'[39;49;00m[33mt post-escape[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt double-pre-escape[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape|nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape safe values[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|raw|nl2br[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|raw|nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape safe values[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br|nl2br[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br|nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mRe-escape[37m [39;49;00mvalues[37m [39;49;00mthat[37m [39;49;00mare[37m [39;49;00mescaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00mother[37m [39;49;00mcontexts[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape_something|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_something|nl2br[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mStill[37m [39;49;00mescape[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mfilters[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br|upper|escape[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|nl2br|upper[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m<Fabien>[39;49;00m[33m\n[39;49;00m[33mTwig[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
(nl2br[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mpre_escaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mPre-escape[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mdon[33m'[39;49;00m[33mt post-escape[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt double-pre-escape[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape safe values[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|raw|nl2br[37m [39;49;00m)[37m[39;49;00m
<Fabien><br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mDon[33m'[39;49;00m[33mt escape safe values[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br|nl2br[37m [39;49;00m)[37m[39;49;00m
&lt;Fabien&gt;<br[37m [39;49;00m/><br[37m [39;49;00m/>[37m[39;49;00m
Twig[37m[39;49;00m
[37m[39;49;00m
[34m5.[39;49;00m[37m [39;49;00mRe-escape[37m [39;49;00mvalues[37m [39;49;00mthat[37m [39;49;00mare[37m [39;49;00mescaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00mother[37m [39;49;00mcontexts[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape_something|escape|nl2br[37m [39;49;00m)[37m[39;49;00m
&lt;FABIEN&gt;<br[37m [39;49;00m/>[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m6.[39;49;00m[37m [39;49;00mStill[37m [39;49;00mescape[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mfilters[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|nl2br|upper|escape[37m [39;49;00m)[37m[39;49;00m
&amp;LT;FABIEN&amp;GT;&lt;BR[37m [39;49;00m/&gt;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mautoescape[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mhandles[37m [39;49;00mfilters[37m [39;49;00mpreserving[37m [39;49;00mthe[37m [39;49;00msafety[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mautoescape[37m [39;49;00m[33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
(preserves_safety[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mpreserving[37m [39;49;00msafety[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mUnsafe[37m [39;49;00mvalues[37m [39;49;00mare[37m [39;49;00mstill[37m [39;49;00munsafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|preserves_safety|escape[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|preserves_safety[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mSafe[37m [39;49;00mvalues[37m [39;49;00mare[37m [39;49;00mstill[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mRe-escape[37m [39;49;00mvalues[37m [39;49;00mthat[37m [39;49;00mare[37m [39;49;00mescaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00mother[37m [39;49;00mcontexts[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape_something|preserves_safety|escape[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape_something|preserves_safety[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mStill[37m [39;49;00mescape[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mfilters[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety|replace({[33m'[39;49;00m[33mFABIEN[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFABPOT[39;49;00m[33m'[39;49;00m})|escape[37m [39;49;00m)[37m[39;49;00m
{{[37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety|replace({[33m'[39;49;00m[33mFABIEN[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFABPOT[39;49;00m[33m'[39;49;00m})[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendautoescape[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m"[39;49;00m[33m<Fabien>[39;49;00m[33m\n[39;49;00m[33mTwig[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
(preserves_safety[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mpreserving[37m [39;49;00msafety[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m)[37m[39;49;00m
[37m[39;49;00m
[34m1.[39;49;00m[37m [39;49;00mUnsafe[37m [39;49;00mvalues[37m [39;49;00mare[37m [39;49;00mstill[37m [39;49;00munsafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|preserves_safety|escape[37m [39;49;00m)[37m[39;49;00m
&lt;FABIEN&gt;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m2.[39;49;00m[37m [39;49;00mSafe[37m [39;49;00mvalues[37m [39;49;00mare[37m [39;49;00mstill[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety[37m [39;49;00m)[37m[39;49;00m
&LT;FABIEN&GT;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m3.[39;49;00m[37m [39;49;00mRe-escape[37m [39;49;00mvalues[37m [39;49;00mthat[37m [39;49;00mare[37m [39;49;00mescaped[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00man[37m [39;49;00mother[37m [39;49;00mcontexts[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape_something|preserves_safety|escape[37m [39;49;00m)[37m[39;49;00m
&lt;FABIEN&gt;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
[34m4.[39;49;00m[37m [39;49;00mStill[37m [39;49;00mescape[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mfilters[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdeclared[37m [39;49;00msafe[37m[39;49;00m
([37m [39;49;00m[34mvar[39;49;00m|escape|preserves_safety|replace({[33m'[39;49;00m[33mFABIEN[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFABPOT[39;49;00m[33m'[39;49;00m})|escape[37m [39;49;00m)[37m[39;49;00m
&amp;LT;FABPOT&amp;GT;[37m[39;49;00m
TWIG[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mtitle1[37m [39;49;00m%}FOO{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mtitle2[37m [39;49;00mfoo|lower[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOObar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mThe[37m [39;49;00mblock[37m [39;49;00m[33m'[39;49;00m[33mcontent[39;49;00m[33m'[39;49;00m[37m [39;49;00mhas[37m [39;49;00malready[37m [39;49;00mbeen[37m [39;49;00mdefined[37m [39;49;00mline[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33m§[39;49;00m[33m"[39;49;00m[37m [39;49;00mspecial[37m [39;49;00mchars[37m [39;49;00m[35min[39;49;00m[37m [39;49;00ma[37m [39;49;00mblock[37m [39;49;00mname[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00m[04m[91m§[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[04m[91m§[39;49;00m[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m[04m[91m§[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[04m[91m§[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33membed[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
A[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock1[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
B[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
C[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
A[37m[39;49;00m
[37m            [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
C[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33membed[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE(index.twig)--[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{{[37m [39;49;00mnothing[37m [39;49;00m}}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Runtime:[37m [39;49;00mVariable[37m [39;49;00m[33m"[39;49;00m[33mnothing[39;49;00m[33m"[39;49;00m[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mexist[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m5[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33membed[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
A[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock1[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
B[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
C[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
A[37m[39;49;00m
[37m            [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
C[37m[39;49;00m
[37m[39;49;00m
A[37m[39;49;00m
[37m            [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m        [39;49;00mblock1extended[37m[39;49;00m
[37m    [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
C[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33membed[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m            [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m                [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m                [39;49;00mblock1extended[37m[39;49;00m
[37m            [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
A[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock1[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
B[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
C[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
A[37m[39;49;00m
[37m            [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m        [39;49;00m[37m[39;49;00m
A[37m[39;49;00m
[37m                    [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m                [39;49;00mblock1extended[37m[39;49;00m
[37m            [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
C[37m[39;49;00m
[37m    [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
C[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33membed[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m    [39;49;00mblockc1baseextended[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00membed[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m            [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m            [39;49;00mblock1extended[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendembed[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
A[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblockc1base[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblockc2base[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
B[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
A[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock1[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
B[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mc2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
C[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
A[37m[39;49;00m
[37m        [39;49;00mblockc1base[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00mblockc1baseextended[37m[39;49;00m
[37m        [39;49;00mblockc2base[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00m[37m[39;49;00m
A[37m[39;49;00m
[37m                [39;49;00mblock1[37m[39;49;00m
[37m[39;49;00m
[37m            [39;49;00mblock1extended[37m[39;49;00m
[37m        [39;49;00mB[37m[39;49;00m
[37m    [39;49;00mblock2[37m[39;49;00m
CB--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00ma[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00mits[37m [39;49;00mchildren[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mupper[37m [39;49;00m%}[37m[39;49;00m
Some[37m [39;49;00mtext[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
SOME[37m [39;49;00mTEXT[37m [39;49;00mWITH[37m [39;49;00mA[37m [39;49;00mVAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00ma[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00mits[37m [39;49;00mchildren[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mjson_encode|raw[37m [39;49;00m%}test{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[33m"[39;49;00m[33mtest[39;49;00m[33m"[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00maccept[37m [39;49;00mmultiple[37m [39;49;00mchained[37m [39;49;00mfilters[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mlower|title[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mVAR[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m    [39;49;00mVar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00mcan[37m [39;49;00mbe[37m [39;49;00mnested[37m [39;49;00mat[37m [39;49;00mwill[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mlower|title[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mfilter[37m [39;49;00mupper[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00m[34mvar[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mvar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mVar[37m[39;49;00m
[37m      [39;49;00mVar[37m[39;49;00m
[37m    [39;49;00mVar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mthe[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00m[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mupper[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
A[37m[39;49;00m
B[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfilter[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mapplies[37m [39;49;00mthe[37m [39;49;00mfilter[37m [39;49;00mon[37m [39;49;00m[33m"[39;49;00m[33mif[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfilter[37m [39;49;00mupper[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mitems|join([33m'[39;49;00m[33m, [39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitems.[34m3[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mitems.[34m1[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitems.[34m3[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00melseif[37m [39;49;00mitems.[34m1[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mitems.[34m0[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendfilter[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
A,[37m [39;49;00mB[37m[39;49;00m
[37m[39;49;00m
B[37m[39;49;00m
[37m[39;49;00m
A[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mtakes[37m [39;49;00ma[37m [39;49;00mcondition[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m1.[39;49;00m.[34m5[39;49;00m[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mi[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00modd[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mloop.index[37m [39;49;00m}}.{{[37m [39;49;00mi[37m [39;49;00m}}{{[37m [39;49;00mfoo.bar[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mX[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1.1[39;49;00mX[37m[39;49;00m
[34m2.3[39;49;00mX[37m[39;49;00m
[34m3.5[39;49;00mX[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mkeeps[37m [39;49;00mthe[37m [39;49;00mcontext[37m [39;49;00msafe[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m      [39;49;00m*[37m [39;49;00ma[37m[39;49;00m
[37m      [39;49;00m*[37m [39;49;00mb[37m[39;49;00m
[37m    [39;49;00m*[37m [39;49;00ma[37m[39;49;00m
[37m      [39;49;00m*[37m [39;49;00ma[37m[39;49;00m
[37m      [39;49;00m*[37m [39;49;00mb[37m[39;49;00m
[37m    [39;49;00m*[37m [39;49;00mb[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mcan[37m [39;49;00muse[37m [39;49;00man[37m [39;49;00m[33m"[39;49;00m[33melse[39;49;00m[33m"[39;49;00m[37m [39;49;00mclause[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mno[37m [39;49;00mitem[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00ma[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mb[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray())[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mno[37m [39;49;00mitem[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mno[37m [39;49;00mitem[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mreset[37m [39;49;00minner[37m [39;49;00mvariables[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m1.[39;49;00m.[34m2[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mj[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m0.[39;49;00m.[34m2[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{k}}{%[37m [39;49;00mset[37m [39;49;00mk[37m [39;49;00m=[37m [39;49;00mk+[34m1[39;49;00m[37m [39;49;00m%}[37m [39;49;00m{{[37m [39;49;00mloop.parent.loop.index[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mk[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m      [39;49;00m[34m0[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[37m      [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[37m      [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[37m        [39;49;00m[34m3[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
[37m      [39;49;00m[34m4[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
[37m      [39;49;00m[34m5[39;49;00m[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mcan[37m [39;49;00miterate[37m [39;49;00mover[37m [39;49;00mkeys[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mvalues[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey,[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}/{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m0[39;49;00m/a[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/b[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mcan[37m [39;49;00miterate[37m [39;49;00mover[37m [39;49;00mkeys[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|keys[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00madds[37m [39;49;00ma[37m [39;49;00mloop[37m [39;49;00mvariable[37m [39;49;00mto[37m [39;49;00mthe[37m [39;49;00mcontext[37m [39;49;00mlocally[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mloop[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}WORKS{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray())[37m[39;49;00m
--EXPECT--[37m[39;49;00m
WORKS[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00madds[37m [39;49;00ma[37m [39;49;00mloop[37m [39;49;00mvariable[37m [39;49;00mto[37m [39;49;00mthe[37m [39;49;00mcontext[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.index[37m [39;49;00m}}/{{[37m [39;49;00mloop.index0[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.revindex[37m [39;49;00m}}/{{[37m [39;49;00mloop.revindex0[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.first[37m [39;49;00m}}/{{[37m [39;49;00mloop.last[37m [39;49;00m}}/{{[37m [39;49;00mloop.length[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m2[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m//[34m2[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m2[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m/[34m1[39;49;00m/[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi,[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mloop.last[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mThe[37m [39;49;00m[33m"[39;49;00m[33mloop[39;49;00m[33m"[39;49;00m[37m [39;49;00mvariable[37m [39;49;00mcannot[37m [39;49;00mbe[37m [39;49;00mused[37m [39;49;00m[35min[39;49;00m[37m [39;49;00ma[37m [39;49;00mlooping[37m [39;49;00mcondition[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi,[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mi[37m [39;49;00m>[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mloop.last[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mThe[37m [39;49;00m[33m"[39;49;00m[33mloop.last[39;49;00m[33m"[39;49;00m[37m [39;49;00mvariable[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00mwhen[37m [39;49;00mlooping[37m [39;49;00mwith[37m [39;49;00ma[37m [39;49;00mcondition[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mcan[37m [39;49;00muse[37m [39;49;00man[37m [39;49;00m[33m"[39;49;00m[33melse[39;49;00m[33m"[39;49;00m[37m [39;49;00mclause[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mno[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mno[37m [39;49;00mitem1[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mitems1[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray())[37m[39;49;00m
--EXPECT--[37m[39;49;00m
no[37m [39;49;00ma[37m[39;49;00m
[37m        [39;49;00mno[37m [39;49;00mb[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00miterates[37m [39;49;00mover[37m [39;49;00miterable[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00mcountable[37m [39;49;00mobjects[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.index[37m [39;49;00m}}/{{[37m [39;49;00mloop.index0[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.revindex[37m [39;49;00m}}/{{[37m [39;49;00mloop.revindex0[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.first[37m [39;49;00m}}/{{[37m [39;49;00mloop.last[37m [39;49;00m}}/{{[37m [39;49;00mloop.length[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey,[37m [39;49;00mvalue[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}/{{[37m [39;49;00mvalue[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|keys[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mclass[39;49;00m[37m [39;49;00mItemsIteratorCountable[37m [39;49;00mimplements[37m [39;49;00mIterator,[37m [39;49;00mCountable[37m[39;49;00m
{[37m[39;49;00m
[37m  [39;49;00mprotected[37m [39;49;00m$values[37m [39;49;00m=[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mcurrent()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcurrent($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mkey()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mkey($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mnext()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mnext($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mrewind()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mreset($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mvalid()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m!==[37m [39;49;00mcurrent($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mcount()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcount($this->values);[37m [39;49;00m}[37m[39;49;00m
}[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mItemsIteratorCountable())[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m2[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m//[34m2[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m2[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m/[34m1[39;49;00m/[34m2[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo/bar[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar/foo[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00miterates[37m [39;49;00mover[37m [39;49;00miterable[37m [39;49;00mobjects[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.index[37m [39;49;00m}}/{{[37m [39;49;00mloop.index0[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mloop.first[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey,[37m [39;49;00mvalue[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}/{{[37m [39;49;00mvalue[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems|keys[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mclass[39;49;00m[37m [39;49;00mItemsIterator[37m [39;49;00mimplements[37m [39;49;00mIterator[37m[39;49;00m
{[37m[39;49;00m
[37m  [39;49;00mprotected[37m [39;49;00m$values[37m [39;49;00m=[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m);[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mcurrent()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcurrent($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mkey()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mkey($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mnext()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mnext($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mrewind()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mreset($this->values);[37m [39;49;00m}[37m[39;49;00m
[37m  [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mvalid()[37m [39;49;00m{[37m [39;49;00m[34mreturn[39;49;00m[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m!==[37m [39;49;00mcurrent($this->values);[37m [39;49;00m}[37m[39;49;00m
}[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mItemsIterator())[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m/[34m0[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m1[39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[34m2[39;49;00m/[34m1[39;49;00m[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo/bar[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar/foo[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mfoo[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mbar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00mcan[37m [39;49;00mbe[37m [39;49;00mnested[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey,[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
*[37m [39;49;00m{{[37m [39;49;00mkey[37m [39;49;00m}}[37m [39;49;00m({{[37m [39;49;00mloop.length[37m [39;49;00m}}):[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mvalue[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitem[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mvalue[37m [39;49;00m}}[37m [39;49;00m({{[37m [39;49;00mloop.length[37m [39;49;00m}})[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma1[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33ma2[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33ma3[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mb1[39;49;00m[33m'[39;49;00m)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
*[37m [39;49;00ma[37m [39;49;00m([34m2[39;49;00m):[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00ma1[37m [39;49;00m([34m3[39;49;00m)[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00ma2[37m [39;49;00m([34m3[39;49;00m)[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00ma3[37m [39;49;00m([34m3[39;49;00m)[37m[39;49;00m
*[37m [39;49;00mb[37m [39;49;00m([34m2[39;49;00m):[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mb1[37m [39;49;00m([34m1[39;49;00m)[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mfor[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00miterates[37m [39;49;00mover[37m [39;49;00mitem[37m [39;49;00mvalues[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitems[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00m{{[37m [39;49;00mitem[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mitems[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00ma[37m[39;49;00m
[37m  [39;49;00m*[37m [39;49;00mb[37m[39;49;00m
--TEST--[37m[39;49;00m
global[37m [39;49;00mvariables[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mincluded.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m[33m"[39;49;00m[33mincluded.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mimport[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mfoobar()[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(included.twig)--[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoobar()[37m [39;49;00m%}[37m[39;49;00m
called[37m [39;49;00mfoobar[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXPECT--[37m[39;49;00m
called[37m [39;49;00mfoobar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mif[39;49;00m[33m"[39;49;00m[37m [39;49;00mcreates[37m [39;49;00ma[37m [39;49;00mcondition[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00ma[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00ma[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00melseif[37m [39;49;00mb[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00mb[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mNOTHING[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00ma[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mb[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mb[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mNOTHING[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mif[39;49;00m[33m"[39;49;00m[37m [39;49;00mtakes[37m [39;49;00man[37m [39;49;00mexpression[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00ma[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00ma[37m [39;49;00m<[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mA1[37m[39;49;00m
{%[37m [39;49;00melseif[37m [39;49;00ma[37m [39;49;00m>[37m [39;49;00m[34m10[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mA2[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mA3[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m1[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mA1[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m12[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mA2[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m7[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00mA3[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOOBAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
FOOBAR[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mallows[37m [39;49;00mexpressions[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mthe[37m [39;49;00mtemplate[37m [39;49;00mto[37m [39;49;00minclude[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
BAR[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOOBAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
[37m[39;49;00m
FOOBAR[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m][37m [39;49;00mignore[37m [39;49;00mmissing[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mignore[37m [39;49;00mmissing[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mignore[37m [39;49;00mmissing[37m [39;49;00mwith[37m [39;49;00m{}[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mignore[37m [39;49;00mmissing[37m [39;49;00mwith[37m [39;49;00m{}[37m [39;49;00monly[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Loader:[37m [39;49;00mTemplate[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3.[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray();[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Loader:[37m [39;49;00mTemplate[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2.[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00maccept[37m [39;49;00mvariables[37m [39;49;00m[35mand[39;49;00m[37m [39;49;00monly[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00monly[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00m{[33m'[39;49;00m[33mfoo1[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00m{[33m'[39;49;00m[33mfoo1[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}[37m [39;49;00monly[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mk,[37m [39;49;00mv[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m_context[37m [39;49;00m%}{{[37m [39;49;00mk[37m [39;49;00m}},{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo,global,_parent,[37m[39;49;00m
global,_parent,[37m[39;49;00m
foo,global,foo1,_parent,[37m[39;49;00m
foo1,global,_parent,[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00maccepts[37m [39;49;00mTwig_Template[37m [39;49;00minstance[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00mfoo[37m [39;49;00m%}[37m [39;49;00mFOO[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
BAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m$twig->loadTemplate([33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BAR[37m [39;49;00mFOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m][37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m][37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
foo[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00maccept[37m [39;49;00mvariables[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00m{[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m}[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00mvars[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvars[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar[37m[39;49;00m
bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
--TEST--[37m[39;49;00m
block_expr2[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase2.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00melement[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mElement:[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base2.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mspaceless[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00melement[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m<div>[37m[39;49;00m
[37m        [39;49;00m{%-[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitem.children[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
[37m            [39;49;00m{%-[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitem.children[37m [39;49;00m%}[37m[39;49;00m
[37m                [39;49;00m{{-[37m [39;49;00mblock([33m'[39;49;00m[33melement[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-}}[37m[39;49;00m
[37m            [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%-[37m [39;49;00mendif[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
{%-[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendspaceless[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mitem[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mchildren[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m            [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m            [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m)[37m[39;49;00m
[37m    [39;49;00m)[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Element:<div>Element:<div></div>Element:<div></div></div>[37m[39;49;00m
--TEST--[37m[39;49;00m
block_expr[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00melement[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mElement:[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mspaceless[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00melement[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m<div>[37m[39;49;00m
[37m        [39;49;00m{%-[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mitem.children[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m%}[37m[39;49;00m
[37m            [39;49;00m{%-[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mitem[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mitem.children[37m [39;49;00m%}[37m[39;49;00m
[37m                [39;49;00m{{-[37m [39;49;00mblock([33m'[39;49;00m[33melement[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-}}[37m[39;49;00m
[37m            [39;49;00m{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%-[37m [39;49;00mendif[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m</div>[37m[39;49;00m
{%-[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendspaceless[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mitem[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mchildren[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m            [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m            [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m)[37m[39;49;00m
[37m    [39;49;00m)[37m[39;49;00m
)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Element:<div>Element:<div></div>Element:<div></div></div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00mstandalone[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{{[37m [39;49;00mparent()[37m [39;49;00m}}FOO{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}FOO{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}BAR{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mstandalone[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mtrue[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOOFOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
FOO[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}FOO{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m,[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m][37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
foo[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mlayout.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{{[37m [39;49;00mparent()[37m [39;49;00m}}index[37m [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(layout.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{{[37m [39;49;00mparent()[37m [39;49;00m}}layout[37m [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}base[37m [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
base[37m [39;49;00mlayout[37m [39;49;00mindex[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mCONTENT[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00mblock[37m [39;49;00msubcontent[37m [39;49;00m-%}[37m[39;49;00m
[37m        [39;49;00mSUBCONTENT[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00mendblock[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mENDCONTENT[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
CONTENTSUBCONTENTENDCONTENT[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mblock[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00msubcontent[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00msubsubcontent[37m [39;49;00m%}[37m[39;49;00m
[37m            [39;49;00mSUBSUBCONTENT[37m[39;49;00m
[37m        [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00msubcontent[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00mSUBCONTENT[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
SUBSUBCONTENT[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mlayout.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00minside[37m [39;49;00m%}INSIDE{%[37m [39;49;00mendblock[37m [39;49;00minside[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(layout.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbody[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00minside[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mbody[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbody[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
INSIDE[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mbar.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
FOO[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
BAR[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mtrue[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
FOO[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mCannot[37m [39;49;00mextend[37m [39;49;00mfrom[37m [39;49;00ma[37m [39;49;00mblock[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mincluded.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfooter[37m [39;49;00m%}Footer{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(included.twig)--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mbase.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}Included[37m [39;49;00mContent{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(base.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}Default[37m [39;49;00mContent{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfooter[37m [39;49;00m%}Default[37m [39;49;00mFooter{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Included[37m [39;49;00mContent[37m[39;49;00m
Default[37m [39;49;00mFooter[37m[39;49;00m
Footer[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mblock[37m [39;49;00minside[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00mINSIDE[37m [39;49;00mOVERRIDDEN[37m[39;49;00m
[37m  [39;49;00m{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00mBEFORE[37m[39;49;00m
[37m  [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
[37m  [39;49;00mAFTER[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00mBAR[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m[39;49;00m
INSIDE[37m [39;49;00mOVERRIDDEN[37m[39;49;00m
[37m  [39;49;00m[37m[39;49;00m
[37m  [39;49;00mBEFORE[37m[39;49;00m
[37m    [39;49;00mBAR[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00mAFTER[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}{{[37m [39;49;00mparent()[37m [39;49;00m}}FOO{{[37m [39;49;00mparent()[37m [39;49;00m}}{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}BAR{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BARFOOBAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mparent[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}BAR{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BAR[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mparent[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mCalling[37m [39;49;00m[33m"[39;49;00m[33mparent[39;49;00m[33m"[39;49;00m[37m [39;49;00mon[37m [39;49;00ma[37m [39;49;00mtemplate[37m [39;49;00mthat[37m [39;49;00mdoes[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mextend[37m [39;49;00mnor[37m [39;49;00m[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00manother[37m [39;49;00mtemplate[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mforbidden[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m3[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mextends[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00maccepts[37m [39;49;00mTwig_Template[37m [39;49;00minstance[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mparent()[37m [39;49;00m}}FOO[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}BAR{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m$twig->loadTemplate([33m'[39;49;00m[33mfoo.twig[39;49;00m[33m'[39;49;00m))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
BARFOO[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mparent[39;49;00m[33m"[39;49;00m[37m [39;49;00mfunction[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mextends[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mparent.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33muse1.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33muse2.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_parent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use1[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use2[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mparent()[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent_use1_only[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent_use2_only[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(parent.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_parent[37m [39;49;00m[33m'[39;49;00m[33mcontent_parent[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use1[37m [39;49;00m[33m'[39;49;00m[33mcontent_parent[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use2[37m [39;49;00m[33m'[39;49;00m[33mcontent_parent[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(use1.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use1[37m [39;49;00m[33m'[39;49;00m[33mcontent_use1[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use2[37m [39;49;00m[33m'[39;49;00m[33mcontent_use1[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use1_only[37m [39;49;00m[33m'[39;49;00m[33mcontent_use1_only[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(use2.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use2[37m [39;49;00m[33m'[39;49;00m[33mcontent_use2[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent_use2_only[37m [39;49;00m[33m'[39;49;00m[33mcontent_use2_only[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m    [39;49;00mcontent_parent[37m[39;49;00m
[37m    [39;49;00mcontent_use1[37m[39;49;00m
[37m    [39;49;00mcontent_use2[37m[39;49;00m
[37m    [39;49;00mcontent_use1_only[37m[39;49;00m
[37m    [39;49;00mcontent_use2_only[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mmacros[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mmacros.input([33m'[39;49;00m[33musername[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmacros.input([33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mnull[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00minput(name,[37m [39;49;00mvalue,[37m [39;49;00mtype,[37m [39;49;00msize)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33m{{ type|default([39;49;00m[33m"[39;49;00mtext[33m"[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33m{{ name }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m{{ value|e|default([39;49;00m[33m'[39;49;00m[33m'[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m{{ size|default(20) }}[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mtext[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33musername[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m20[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m1[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00msupports[37m [39;49;00mname[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mendmacro[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mmacros[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mmacros.foo()[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmacros.bar()[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoo()[37m [39;49;00m%}foo{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mbar()[37m [39;49;00m%}bar{%[37m [39;49;00mendmacro[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m[33m'[39;49;00m[33mforms.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mforms[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mforms.input([33m'[39;49;00m[33musername[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mforms.input([33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mnull[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(forms.twig)--[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00minput(name,[37m [39;49;00mvalue,[37m [39;49;00mtype,[37m [39;49;00msize)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33m{{ type|default([39;49;00m[33m"[39;49;00mtext[33m"[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33m{{ name }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m{{ value|e|default([39;49;00m[33m'[39;49;00m[33m'[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m{{ size|default(20) }}[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mtext[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33musername[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m20[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m1[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m[33m'[39;49;00m[33mforms.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mimport[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m[33m'[39;49;00m[33mforms.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mimport[37m [39;49;00mfoo[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mfoobar,[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoobar([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbar([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(forms.twig)--[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoo(name)[37m [39;49;00m%}foo{{[37m [39;49;00mname[37m [39;49;00m}}{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mbar(name)[37m [39;49;00m%}bar{{[37m [39;49;00mname[37m [39;49;00m}}{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foofoo[37m[39;49;00m
foofoo[37m[39;49;00m
barfoo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mfrom[37m [39;49;00m[33m'[39;49;00m[33mforms.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mimport[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoo()[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(forms.twig)--[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00mfoo(name)[37m [39;49;00m%}{{[37m [39;49;00mname|default([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}{{[37m [39;49;00mglobal[37m [39;49;00m}}{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
fooglobal[37m[39;49;00m
fooglobal[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mmacro[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mimport[37m [39;49;00m_self[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mforms[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mforms.input([33m'[39;49;00m[33musername[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mforms.input([33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[36mnull[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mpassword[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m1[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mmacro[37m [39;49;00minput(name,[37m [39;49;00mvalue,[37m [39;49;00mtype,[37m [39;49;00msize)[37m [39;49;00m%}[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33m{{ type|default([39;49;00m[33m"[39;49;00mtext[33m"[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33m{{ name }}[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m{{ value|e|default([39;49;00m[33m'[39;49;00m[33m'[39;49;00m[33m) }}[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m{{ size|default(20) }}[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
{%[37m [39;49;00mendmacro[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mtext[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33musername[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m20[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
[37m[39;49;00m
[37m  [39;49;00m<input[37m [39;49;00mtype=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mname=[33m"[39;49;00m[33mpassword[39;49;00m[33m"[39;49;00m[37m [39;49;00mvalue=[33m"[39;49;00m[33m"[39;49;00m[37m [39;49;00msize=[33m"[39;49;00m[33m1[39;49;00m[33m"[39;49;00m>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mraw[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mraw[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendraw[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mraw[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mraw[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendverbatim[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mUnexpected[37m [39;49;00mend[37m [39;49;00mof[37m [39;49;00mfile:[37m [39;49;00mUnclosed[37m [39;49;00m[33m"[39;49;00m[33mraw[39;49;00m[33m"[39;49;00m[37m [39;49;00mblock[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mraw[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mraw[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendraw[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mraw[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendraw[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mraw[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendraw[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mraw[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendraw[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[34m5[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mraw[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendraw[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
[34m5[39;49;00m***[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[34m2[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[34m3[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[34m4[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[34m5[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[34m5[39;49;00m***[37m[39;49;00m
--TEST--[37m[39;49;00m
sandbox[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%-[37m [39;49;00msandbox[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00ma[37m[39;49;00m
{%-[37m [39;49;00mendsandbox[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
foo[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mOnly[37m [39;49;00m[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00mare[37m [39;49;00mallowed[37m [39;49;00mwithin[37m [39;49;00ma[37m [39;49;00m[33m"[39;49;00m[33msandbox[39;49;00m[33m"[39;49;00m[37m [39;49;00msection[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m4[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
sandbox[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%-[37m [39;49;00msandbox[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m        [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%-[37m [39;49;00mendsandbox[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
foo[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mOnly[37m [39;49;00m[33m"[39;49;00m[33minclude[39;49;00m[33m"[39;49;00m[37m [39;49;00mtags[37m [39;49;00mare[37m [39;49;00mallowed[37m [39;49;00mwithin[37m [39;49;00ma[37m [39;49;00m[33m"[39;49;00m[33msandbox[39;49;00m[33m"[39;49;00m[37m [39;49;00msection[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m5[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
sandbox[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%-[37m [39;49;00msandbox[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%-[37m [39;49;00mendsandbox[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00msandbox[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{%-[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%-[37m [39;49;00mendsandbox[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00msandbox[37m [39;49;00m%}{%[37m [39;49;00minclude[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}{%[37m [39;49;00mendsandbox[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
foo[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mset[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mbar[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mfoo<br />[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbar[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo,[37m [39;49;00mbar[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}{{[37m [39;49;00mbar[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo&lt;br[37m [39;49;00m/&gt;[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
foobar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mset[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mblock[37m [39;49;00mempty[37m [39;49;00mcapture[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo[37m [39;49;00m%}{%[37m [39;49;00mendset[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}FAIL{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mset[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mblock[37m [39;49;00mcapture[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo[37m [39;49;00m%}f<br[37m [39;49;00m/>o<br[37m [39;49;00m/>o{%[37m [39;49;00mendset[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
f<br[37m [39;49;00m/>o<br[37m [39;49;00m/>o[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mset[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mset[37m [39;49;00mfoo,[37m [39;49;00mbar[37m [39;49;00m=[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m~[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbar[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foobar[37m[39;49;00m
barfoo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mspaceless[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m [39;49;00mremoves[37m [39;49;00mwhites[37m [39;49;00mbetween[37m [39;49;00mHTML[37m [39;49;00mtags[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mspaceless[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00m<div>[37m   [39;49;00m<div>[37m   [39;49;00mfoo[37m   [39;49;00m</div>[37m   [39;49;00m</div>[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendspaceless[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div><div>[37m   [39;49;00mfoo[37m   [39;49;00m</div></div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33m§[39;49;00m[33m"[39;49;00m[37m [39;49;00mcustom[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[04m[91m§[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[04m[91m§[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
Whitespace[37m [39;49;00mtrimming[37m [39;49;00mon[37m [39;49;00mtags.[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m*[37m [39;49;00m[33m'[39;49;00m[33m{#-[39;49;00m[33m'[39;49;00m|length[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m{{-[39;49;00m[33m'[39;49;00m|length[37m [39;49;00m*[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m+[37m [39;49;00m[33m'[39;49;00m[33m{[39;49;00m[33m%[39;49;00m[33m-[39;49;00m[33m'[39;49;00m|length[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mon[37m [39;49;00mcontrol[37m [39;49;00mtag:[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[36mrange[39;49;00m([34m1[39;49;00m,[37m [39;49;00m[34m9[39;49;00m)[37m [39;49;00m-%}[37m[39;49;00m
[37m^I[39;49;00m{{[37m [39;49;00mi[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mon[37m [39;49;00moutput[37m [39;49;00mtag:[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mi[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[36mrange[39;49;00m([34m1[39;49;00m,[37m [39;49;00m[34m9[39;49;00m)[37m [39;49;00m%}[37m[39;49;00m
[37m^I[39;49;00m{{-[37m [39;49;00mi[37m [39;49;00m-}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mcomments:[37m[39;49;00m
[37m      [39;49;00m[37m[39;49;00m
{[37m#- Invisible -#}[39;49;00m[37m[39;49;00m
[37m       [39;49;00m[37m[39;49;00m
After[37m [39;49;00mthe[37m [39;49;00mcomment.[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mleading[37m [39;49;00mspace:[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mleading[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m^I^I[39;49;00m{{-[37m [39;49;00mleading[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mleading[37m [39;49;00m%}[37m[39;49;00m
[37m^I[39;49;00m{{-[37m [39;49;00mleading[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mtrailing[37m [39;49;00mspace:[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mtrailing[37m [39;49;00m-%}[37m          [39;49;00m[37m[39;49;00m
[37m^I[39;49;00m{{[37m [39;49;00mtrailing[37m [39;49;00m-}}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
Combined:[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mboth[37m [39;49;00m-%}[37m[39;49;00m
<ul>[37m[39;49;00m
[37m^I[39;49;00m<li>[37m    [39;49;00m{{-[37m [39;49;00mboth[37m [39;49;00m-}}[37m   [39;49;00m</li>[37m[39;49;00m
</ul>[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mendif[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
end[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mleading[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mleading space[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mtrailing[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mtrailing space[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mboth[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mboth[39;49;00m[33m'[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m15[39;49;00m[37m[39;49;00m
[34m18[39;49;00m[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mon[37m [39;49;00mcontrol[37m [39;49;00mtag:[37m[39;49;00m
[34m123456789[39;49;00m[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mon[37m [39;49;00moutput[37m [39;49;00mtag:[37m[39;49;00m
[34m123456789[39;49;00m[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mcomments:After[37m [39;49;00mthe[37m [39;49;00mcomment.[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mleading[37m [39;49;00mspace:[37m[39;49;00m
leading[37m [39;49;00mspace[37m[39;49;00m
leading[37m [39;49;00mspace[37m[39;49;00m
[37m[39;49;00m
Trim[37m [39;49;00mtrailing[37m [39;49;00mspace:[37m[39;49;00m
trailing[37m [39;49;00mspaceCombined:<ul>[37m[39;49;00m
[37m^I[39;49;00m<li>both</li>[37m[39;49;00m
</ul>end[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mblocks.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00mcontent[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(blocks.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mblocks.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(blocks.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
foo[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mancestor.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mparent.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontainer[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(parent.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00msub_container[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33moverriden_sub_container[39;49;00m[33m"[39;49;00m>overriden[37m [39;49;00msub_container</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(ancestor.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontainer[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mcontainer[39;49;00m[33m"[39;49;00m>{{[37m [39;49;00mblock([33m'[39;49;00m[33msub_container[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00msub_container[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33msub_container[39;49;00m[33m"[39;49;00m>sub_container</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mcontainer[39;49;00m[33m"[39;49;00m>[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33moverriden_sub_container[39;49;00m[33m"[39;49;00m>overriden[37m [39;49;00msub_container</div>[37m[39;49;00m
</div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mparent.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontainer[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(parent.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mancestor.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00msub_container[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33moverriden_sub_container[39;49;00m[33m"[39;49;00m>overriden[37m [39;49;00msub_container</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(ancestor.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontainer[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mcontainer[39;49;00m[33m"[39;49;00m>{{[37m [39;49;00mblock([33m'[39;49;00m[33msub_container[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00msub_container[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33msub_container[39;49;00m[33m"[39;49;00m>sub_container</div>[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33mcontainer[39;49;00m[33m"[39;49;00m>[37m    [39;49;00m<div[37m [39;49;00m[34mclass[39;49;00m=[33m"[39;49;00m[33moverriden_sub_container[39;49;00m[33m"[39;49;00m>overriden[37m [39;49;00msub_container</div>[37m[39;49;00m
</div>[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mwith[37m [39;49;00mcontent[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mfoo_content[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mfoo_content[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
foo[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mfoo.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m"[39;49;00m[33mbar.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mcontent[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mblock([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m}}[37m[39;49;00m
--TEMPLATE(foo.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(bar.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mcontent[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
bar[37m[39;49;00m
foo[37m[39;49;00m
bar[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile2.html.twig[39;49;00m[33m'[39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file2.html.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile1.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file1.html.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile2.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile1.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mwith[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mfoo[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mbar[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file2.html.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile1.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mfoo[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mparent()[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mbar[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file1.html.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoo[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mfoo[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mbar[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mbar[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mfoo[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mfoo[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mfoo[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mbar[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mbar[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33muse[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile2.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mwith[37m [39;49;00mfoobar[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mbase_base_foobar[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mblock([33m'[39;49;00m[33mbase_base_foobar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file2.html.twig)--[37m[39;49;00m
{%[37m [39;49;00muse[37m [39;49;00m[33m'[39;49;00m[33mfile1.html.twig[39;49;00m[33m'[39;49;00m[37m [39;49;00mwith[37m [39;49;00mfoobar[37m [39;49;00m[34mas[39;49;00m[37m [39;49;00mbase_foobar[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{-[37m [39;49;00mblock([33m'[39;49;00m[33mbase_foobar[39;49;00m[33m'[39;49;00m)[37m [39;49;00m-}}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--TEMPLATE(file1.html.twig)--[37m[39;49;00m
{%[37m [39;49;00mblock[37m [39;49;00mfoobar[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00mContent[37m [39;49;00mof[37m [39;49;00mblock[37m[39;49;00m
{%[37m [39;49;00mendblock[37m [39;49;00mfoobar[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(first[37m [39;49;00moverride)[37m[39;49;00m
Content[37m [39;49;00mof[37m [39;49;00mblock[37m [39;49;00m(second[37m [39;49;00moverride)[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mverbatim[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mverbatim[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendverbatim[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mverbatim[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00mverbatim[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendraw[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXCEPTION--[37m[39;49;00m
Twig_Error_Syntax:[37m [39;49;00mUnexpected[37m [39;49;00mend[37m [39;49;00mof[37m [39;49;00mfile:[37m [39;49;00mUnclosed[37m [39;49;00m[33m"[39;49;00m[33mverbatim[39;49;00m[33m"[39;49;00m[37m [39;49;00mblock[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m"[39;49;00m[33mindex.twig[39;49;00m[33m"[39;49;00m[37m [39;49;00mat[37m [39;49;00mline[37m [39;49;00m[34m2[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mverbatim[39;49;00m[33m"[39;49;00m[37m [39;49;00mtag[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mverbatim[37m [39;49;00m%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendverbatim[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendverbatim[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendverbatim[37m [39;49;00m%}[37m[39;49;00m
[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[34m5[39;49;00m***[37m[39;49;00m
[37m[39;49;00m
{%-[37m [39;49;00mverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{%-[37m [39;49;00mendverbatim[37m [39;49;00m-%}[37m[39;49;00m
[37m[39;49;00m
[34m5[39;49;00m***[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[37m    [39;49;00m{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m1[39;49;00m***[37m[39;49;00m
[34m2[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[37m[39;49;00m
[34m2[39;49;00m***[37m[39;49;00m
[34m3[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[34m3[39;49;00m***[37m[39;49;00m
[34m4[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
[37m[39;49;00m
[34m4[39;49;00m***[37m[39;49;00m
[34m5[39;49;00m***{{[37m [39;49;00m[33m'[39;49;00m[33mbla[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[34m5[39;49;00m***[37m[39;49;00m
--TEST--[37m[39;49;00m
array[37m [39;49;00mindex[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mfor[39;49;00m[37m [39;49;00mkey,[37m [39;49;00mvalue[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mdays[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00mkey[37m [39;49;00m}}[37m[39;49;00m
{%[37m [39;49;00mendfor[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mdays[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[34m1[39;49;00m[37m  [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m9[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m2[39;49;00m[37m  [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m21[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m3[39;49;00m[37m  [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m38[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m4[39;49;00m[37m  [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m6[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m18[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m6[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m19[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m3[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[34m31[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mmoney[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m11[39;49;00m),[37m[39;49;00m
));[37m[39;49;00m
--EXPECT--[37m[39;49;00m
[34m1[39;49;00m[37m[39;49;00m
[34m2[39;49;00m[37m[39;49;00m
[34m3[39;49;00m[37m[39;49;00m
[34m4[39;49;00m[37m[39;49;00m
[34m18[39;49;00m[37m[39;49;00m
[34m19[39;49;00m[37m[39;49;00m
[34m31[39;49;00m[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mconst[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m8[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mconstant([33m'[39;49;00m[33mE_NOTICE[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mno[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mconstant([33m'[39;49;00m[33mTwigTestFoo::BAR_NAME[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mno[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mvalue[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mconstant([33m'[39;49;00m[33mTwigTestFoo::BAR_NAME[39;49;00m[33m'[39;49;00m)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mno[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mconstant([33m'[39;49;00m[33mARRAY_AS_PROPS[39;49;00m[33m'[39;49;00m,[37m [39;49;00mobject)[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mno[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mvalue[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayObject(array([33m'[39;49;00m[33mhi[39;49;00m[33m'[39;49;00m)));[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mdefined[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mdefinedVar[37m                     [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdefinedVar[37m                     [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mundefinedVar[37m                   [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mundefinedVar[37m                   [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mzeroVar[37m                        [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnullVar[37m                        [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.definedVar[37m              [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m][37m           [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.definedVar[37m              [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.undefinedVar[37m            [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mundefinedVar[39;49;00m[33m'[39;49;00m][37m         [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.undefinedVar[37m            [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.zeroVar[37m                 [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.nullVar[37m                 [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested.definedArray.[34m0[39;49;00m[37m          [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mnested[[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m][[34m0[39;49;00m][37m      [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.foo[37m                     [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod[37m         [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.getFoo()[37m                [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.getFoo([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m             [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod()[37m       [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod([33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m)[37m    [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.self.foo[37m                [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.self.undefinedMethod[37m    [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobject.undefinedMethod.self[37m    [39;49;00m[34mis[39;49;00m[37m     [39;49;00mdefined[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnested[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m0[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m[39;49;00m
);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m    [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mnested[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00marray([37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedVar[39;49;00m[33m'[39;49;00m[37m   [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mdefined[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mzeroVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mnullVar[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m[39;49;00m
[37m        [39;49;00m[33m'[39;49;00m[33mdefinedArray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([34m0[39;49;00m),[37m[39;49;00m
[37m    [39;49;00m),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo(),[37m[39;49;00m
);[37m[39;49;00m
--CONFIG--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mstrict_variables[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m)[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33mempty[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mbar[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mfoobar[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00marray[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mzero[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mstring[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mcountable_empty[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mcountable_not_empty[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmarkup_empty[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mmarkup_not_empty[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00mempty[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[37m[39;49;00m
[34mclass[39;49;00m[37m [39;49;00mCountableStub[37m [39;49;00mimplements[37m [39;49;00mCountable[37m[39;49;00m
{[37m[39;49;00m
[37m    [39;49;00mprivate[37m [39;49;00m$items;[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00m__construct(array[37m [39;49;00m$items)[37m[39;49;00m
[37m    [39;49;00m{[37m[39;49;00m
[37m        [39;49;00m$this->items[37m [39;49;00m=[37m [39;49;00m$items;[37m[39;49;00m
[37m    [39;49;00m}[37m[39;49;00m
[37m[39;49;00m
[37m    [39;49;00mpublic[37m [39;49;00mfunction[37m [39;49;00mcount()[37m[39;49;00m
[37m    [39;49;00m{[37m[39;49;00m
[37m        [39;49;00m[34mreturn[39;49;00m[37m [39;49;00mcount($this->items);[37m[39;49;00m
[37m    [39;49;00m}[37m[39;49;00m
}[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mnull[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoobar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[36mfalse[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33marray[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray(),[37m [39;49;00m[33m'[39;49;00m[33mzero[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[34m0[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mstring[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mcountable_empty[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mCountableStub(array()),[37m [39;49;00m[33m'[39;49;00m[33mcountable_not_empty[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mCountableStub(array([34m1[39;49;00m,[37m [39;49;00m[34m2[39;49;00m)),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mmarkup_empty[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwig_Markup([33m'[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mmarkup_not_empty[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mTwig_Markup([33m'[39;49;00m[33mtest[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mUTF-8[39;49;00m[33m'[39;49;00m),[37m[39;49;00m
);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ko[37m[39;49;00m
ko[37m[39;49;00m
ok[37m[39;49;00m
ko[37m[39;49;00m
ok[37m[39;49;00m
ko[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33meven[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00meven[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00meven[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00meven[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00meven[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[35min[39;49;00m[37m [39;49;00moperator[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mbar[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m(bar[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mfoo)[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mbar[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mfoo[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34melse[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mc[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mbar[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33ma[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35mnot[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[34m0[39;49;00m,[37m [39;49;00m[34m1[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[34m0[39;49;00m,[37m [39;49;00m[34m1[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m0[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[34m0[39;49;00m,[37m [39;49;00m[34m1[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[34m0[39;49;00m,[37m [39;49;00m[34m1[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[33m'[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[34m1[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m0[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mfalse[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[36mtrue[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33m100[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[][37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mArray[39;49;00m[33m'[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[][37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[36mtrue[39;49;00m,[37m [39;49;00m[36mfalse[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[][37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[36mtrue[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33m'[39;49;00m][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[][37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[[36mtrue[39;49;00m,[37m [39;49;00m[]][37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mdir_object[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m~dir_name[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m5[39;49;00m[37m [39;49;00m[35min[39;49;00m[37m [39;49;00m[34m125[39;49;00m[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mTRUE[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mFALSE[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m,[37m [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray([33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mbar[39;49;00m[33m'[39;49;00m),[37m [39;49;00m[33m'[39;49;00m[33mdir_name[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mdirname(__FILE__),[37m [39;49;00m[33m'[39;49;00m[33mdir_object[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mSplFileInfo(dirname(__FILE__)))[37m[39;49;00m
--EXPECT--[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
TRUE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
TRUE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
TRUE[37m[39;49;00m
FALSE[37m[39;49;00m
FALSE[37m[39;49;00m
--TEST--[37m[39;49;00m
Twig[37m [39;49;00msupports[37m [39;49;00mthe[37m [39;49;00m[35min[39;49;00m[37m [39;49;00moperator[37m [39;49;00mwhen[37m [39;49;00musing[37m [39;49;00mobjects[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{%[37m [39;49;00m[34mif[39;49;00m[37m [39;49;00mobject[37m [39;49;00m[35min[39;49;00m[37m [39;49;00mobject_list[37m [39;49;00m%}[37m[39;49;00m
TRUE[37m[39;49;00m
{%[37m [39;49;00mendif[37m [39;49;00m%}[37m[39;49;00m
--DATA--[37m[39;49;00m
$foo[37m [39;49;00m=[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo();[37m[39;49;00m
$foo1[37m [39;49;00m=[37m [39;49;00mnew[37m [39;49;00mTwigTestFoo();[37m[39;49;00m
[37m[39;49;00m
$foo->position[37m [39;49;00m=[37m [39;49;00m$foo1;[37m[39;49;00m
$foo1->position[37m [39;49;00m=[37m [39;49;00m$foo;[37m[39;49;00m
[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject[39;49;00m[33m'[39;49;00m[37m      [39;49;00m=>[37m [39;49;00m$foo,[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobject_list[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray($foo1,[37m [39;49;00m$foo),[37m[39;49;00m
);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
TRUE[37m[39;49;00m
--TEST--[37m[39;49;00m
[33m"[39;49;00m[33miterable[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00mfoo[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00miterable[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mtraversable[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00miterable[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mobj[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00miterable[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00mval[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00miterable[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray([37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mfoo[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00marray(),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mtraversable[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mArrayIterator(array()),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mobj[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00mnew[37m [39;49;00mstdClass(),[37m[39;49;00m
[37m    [39;49;00m[33m'[39;49;00m[33mval[39;49;00m[33m'[39;49;00m[37m [39;49;00m=>[37m [39;49;00m[33m'[39;49;00m[33mtest[39;49;00m[33m'[39;49;00m,[37m[39;49;00m
);[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok[37m[39;49;00m
ko[37m[39;49;00m
ko--TEST--[37m[39;49;00m
[33m"[39;49;00m[33modd[39;49;00m[33m"[39;49;00m[37m [39;49;00mtest[37m[39;49;00m
--TEMPLATE--[37m[39;49;00m
{{[37m [39;49;00m[34m1[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00modd[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
{{[37m [39;49;00m[34m2[39;49;00m[37m [39;49;00m[34mis[39;49;00m[37m [39;49;00modd[37m [39;49;00m[04m[91m?[39;49;00m[37m [39;49;00m[33m'[39;49;00m[33mko[39;49;00m[33m'[39;49;00m[37m [39;49;00m:[37m [39;49;00m[33m'[39;49;00m[33mok[39;49;00m[33m'[39;49;00m[37m [39;49;00m}}[37m[39;49;00m
--DATA--[37m[39;49;00m
[34mreturn[39;49;00m[37m [39;49;00marray()[37m[39;49;00m
--EXPECT--[37m[39;49;00m
ok[37m[39;49;00m
ok
