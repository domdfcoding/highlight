[37m-----------------------------------------------------------[39;49;00m$
[37m-- Print the lyrics to the song '99 bottles of beer'[39;49;00m$
$
[31moutput[39;49;00m =$
  [31mrange[39;49;00m([34m99[39;49;00m, [34m1[39;49;00m)$
  |> [31mmap[39;49;00m([31mshowBeer[39;49;00m)$
  |> [31mprintLines[39;49;00m$
$
[31mbeerFmt[39;49;00m = [33m"""[39;49;00m[33m{} of beer on the wall![39;49;00m$
[33m{} of beer![39;49;00m$
[33mYou take one down, pass it around[39;49;00m$
[33m{}[39;49;00m[33m"""[39;49;00m$
$
[31mshowBeer[39;49;00m([31mn[39;49;00m) =$
  [31mformat[39;49;00m($
    [31mbeerFmt[39;49;00m,$
    [[31mshowBottle[39;49;00m([31mn[39;49;00m), [31mshowBottle[39;49;00m([31mn[39;49;00m), [31mnextBeer[39;49;00m([31mn[39;49;00m - [34m1[39;49;00m)]$
  )$
$
[31mnextBeer[39;49;00m([31mn[39;49;00m) =$
  [34mif[39;49;00m [31mn[39;49;00m == [34m0[39;49;00m [34mthen[39;49;00m [33m"[39;49;00m[33mNo more bottles of beer on the wall![39;49;00m[33m"[39;49;00m$
  [34melse[39;49;00m [31mformat[39;49;00m([33m"[39;49;00m[33m{} of beer on the wall![39;49;00m[33m\n[39;49;00m[33m"[39;49;00m, [[31mshowBottle[39;49;00m([31mn[39;49;00m)])$
$
[37m-----------------------------------------------------------[39;49;00m$
[37m-- Get appropriate singular / plural form of 'n bottle(s)'[39;49;00m$
$
[31mshowBottle[39;49;00m([31mn[39;49;00m) =$
  [31mformat[39;49;00m([33m"[39;49;00m[33m{} {}[39;49;00m[33m"[39;49;00m, [[31mn[39;49;00m, [31mbottleStr[39;49;00m])$
  [34mwhere[39;49;00m [31mbottleStr[39;49;00m = [34mif[39;49;00m [31mn[39;49;00m == [34m1[39;49;00m [34mthen[39;49;00m [33m"[39;49;00m[33mbottle[39;49;00m[33m"[39;49;00m [34melse[39;49;00m [33m"[39;49;00m[33mbottles[39;49;00m[33m"[39;49;00m$
