Using lexer <pygments.lexers.WatLexer with {'ensurenl': False, 'tabsize': 0}>
([34mmodule[39;49;00m
    ([34mfunc[39;49;00m [31m$fib[39;49;00m ([34mparam[39;49;00m [31m$n[39;49;00m [36mi32[39;49;00m) ([34mresult[39;49;00m [36mi32[39;49;00m)
        ([34mlocal[39;49;00m [31m$a[39;49;00m [36mi32[39;49;00m)
        ([34mlocal[39;49;00m [31m$b[39;49;00m [36mi32[39;49;00m)
        ([34mlocal[39;49;00m [31m$result[39;49;00m [36mi32[39;49;00m)
        ([34mif[39;49;00m
            ([36mi32.eqz[39;49;00m ([36mlocal.get[39;49;00m [31m$n[39;49;00m))
            ([34mthen[39;49;00m
                ([36mreturn[39;49;00m ([36mi32.const[39;49;00m [34m1[39;49;00m))
            )
        )
        ([36mlocal.set[39;49;00m [31m$b[39;49;00m ([36mi32.const[39;49;00m [34m1[39;49;00m))
        [37m(;[39;49;00m[37m nested [39;49;00m[37m(;[39;49;00m[37m comment [39;49;00m[37m;)[39;49;00m[37m [39;49;00m[37m;)[39;49;00m
        [34mloop[39;49;00m
            ([36mlocal.set[39;49;00m [31m$result[39;49;00m ([36mi32.add[39;49;00m ([36mlocal.get[39;49;00m [31m$a[39;49;00m) ([36mlocal.get[39;49;00m [31m$b[39;49;00m)))
            ([36mlocal.set[39;49;00m [31m$a[39;49;00m ([36mlocal.get[39;49;00m [31m$b[39;49;00m))
            ([36mlocal.set[39;49;00m [31m$b[39;49;00m ([36mlocal.get[39;49;00m [31m$result[39;49;00m))

            [37m;; decrement $n[39;49;00m
            ([36mlocal.tee[39;49;00m [31m$n[39;49;00m ([36mi32.sub[39;49;00m ([36mlocal.get[39;49;00m [31m$n[39;49;00m) ([36mi32.const[39;49;00m [34m1[39;49;00m)))

            [37m(;[39;49;00m[37m test if $n > 0 [39;49;00m[37m;)[39;49;00m
            ([36mi32.gt_u[39;49;00m ([36mi32.const[39;49;00m [34m0[39;49;00m))

            [37m;; if so, jump to the beginning of the loop[39;49;00m
            [36mbr_if[39;49;00m [34m0[39;49;00m
        [34mend[39;49;00m
        [36mlocal.get[39;49;00m [31m$result[39;49;00m
    )
    ([34mfunc[39;49;00m [31m$test_memory_store_args[39;49;00m
        [36mi32.const[39;49;00m [34m1[39;49;00m
        [36mf64.store[39;49;00m [34malign[39;49;00m=[34m8[39;49;00m [34moffset[39;49;00m=[34m16[39;49;00m
    )
    ([34mexport[39;49;00m [33m"[39;49;00m[33mfib[39;49;00m[33m"[39;49;00m ([34mfunc[39;49;00m [31m$fib[39;49;00m))
)
